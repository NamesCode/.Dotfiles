"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7433],{43683:(e,n,a)=>{a.d(n,{q:()=>T,o:()=>D});var i=a(29439),t=a(4942),l=a(67294),r=a(94184),u=a.n(r),o=a(59440),d=a(97081),c=a(96206),s=a(51674),m=a(79896),k=a(26482),v=a(21663),f=a(88387),g=a(75012),N=a(40080),b=a(14130);const p="l_MW0G9qeeCKlVJwBykT",I="x-downloadButton-DownloadButton",h="x-downloadButton-button",S="_APVWqivXc4YqgsnpFkP",y="VmwiDoU6RpqyzK_n7XRO",x="rEx3EYgBzS8SoY7dmC6x";var T,R=a(85893);!function(e){e[e.xs=16]="xs",e[e.sm=24]="sm",e[e.md=32]="md"}(T||(T={}));var w=function(e){var n=e.currentTarget;e.detail>0&&n&&n.blur()},D=function(e){var n=e.uri,a=e.isFollowing,r=e.canDownload,D=void 0===r||r,P=e.onFollow,A=e.size,O=void 0===A?T.sm:A,_=e.className,j=e.onClick,C=void 0===j?function(){}:j,L=e.showUpsell,F=void 0===L||L,E=(0,t.Z)({},"--size","".concat(O,"px")),U=(0,l.useState)(!1),V=(0,i.Z)(U,2),M=V[0],H=V[1],Y=(0,v._)(n),Q=Y.capability,q=Y.availability,X=Y.addDownload,Z=Y.removeDownload,z=(0,f.A)(n);!function(e,n){var a=(0,b.r)(),i=(0,l.useRef)(!1);(0,l.useEffect)((function(){e===k.Om.DOWNLOADING&&!1===i.current&&(i.current=!0,a.say(c.ag.get("download.downloading",n.totalItems)))}),[a,e,n]);var t=(0,N.D)(e);(0,l.useEffect)((function(){t===k.Om.DOWNLOADING&&e===k.Om.YES&&(i.current=!1,a.say(c.ag.get("download.complete")))}),[a,t,e])}(q,z);var G=(0,l.useCallback)((function(e){e.preventDefault(),Q===k.PQ.NO_PERMISSION?C(e,k.mc.NO_PERMISSION):(!1===a?(P(),H(!0)):X(),C(e,k.mc.ADD)),w(e)}),[X,Q,a,C,P]),K=(0,l.useCallback)((function(e){e.preventDefault(),Z(),w(e),C(e,k.mc.REMOVE)}),[Z,C]);(0,l.useEffect)((function(){!0===M&&!0===a&&(X(),H(!1))}),[a,M,X]);var B=q===k.Om.YES;return Q===k.PQ.NO_CAPABILITY?null:(D||B)&&(Q!==k.PQ.NO_PERMISSION||F)?Q===k.PQ.NO_PERMISSION?(0,R.jsx)("div",{className:I,children:(0,R.jsx)(m.Nt,{offset:[-2,20],action:"toggle",trigger:"click",content:(0,R.jsx)(m.yv,{children:(0,R.jsx)("span",{children:c.ag.get("download.upsell")})}),renderInline:!1,children:(0,R.jsx)("div",{children:(0,R.jsx)(s._,{label:c.ag.get("download.download"),children:(0,R.jsx)("button",{className:u()(h,_),role:"switch",onClick:G,"aria-label":c.ag.get("download.download"),"aria-checked":!1,children:(0,R.jsx)(o.D,{iconSize:O})})})})})}):B?(0,R.jsx)(s._,{label:c.ag.get("download.remove"),children:(0,R.jsx)("button",{className:u()(h,_,S),role:"switch",onClick:K,"aria-label":c.ag.get("download.remove"),"aria-checked":!0,children:(0,R.jsx)(d.E,{iconSize:O})})}):q===k.Om.NO?(0,R.jsx)(s._,{label:c.ag.get("download.download"),children:(0,R.jsx)("button",{className:u()(h,_),role:"switch",onClick:G,"aria-label":c.ag.get("download.download"),"aria-checked":!1,children:(0,R.jsx)(o.D,{iconSize:O})})}):(0,R.jsxs)("div",{className:u()(y,_),role:"switch","aria-checked":!0,children:[(0,R.jsx)(s._,{label:c.ag.get("download.cancel"),children:(0,R.jsx)("button",{style:E,className:u()(h,p,_),onClick:K,"aria-label":c.ag.get("download.cancel")})}),(0,R.jsx)("span",{style:E,className:u()(x,p),children:(0,R.jsx)(g.e,{"aria-valuetext":c.ag.get("progress.downloading-tracks"),percentage:z.percentage,size:O})})]}):null}},13768:(e,n,a)=>{a.d(n,{i:()=>m});a(68309),a(96647),a(83710),a(41539),a(39714);var i=a(67294),t=a(96206),l=a(18261),r=a(48528),u=a(4232),o=a(36590),d=a(8498),c=a(15368),s=a(85893),m=i.memo((function(e){var n=e.images,a=e.name,i=e.uri,m=e.type,k=e.year,v=e.sharingInfo,f=e.latest,g=e.showType,N=e.onClick,b=e.delegatePlayback,p=void 0!==b&&b,I=e.isPlaying,h=e.onPlay,S=e.index,y=e.navigationUrl,x=f?t.ag.get("artist.latest-release"):k;return(0,s.jsx)(l._,{menu:(0,s.jsx)(u.Y,{uri:i,sharingInfo:v}),children:(0,s.jsx)(o.C,{onClick:N,featureIdentifier:"album",headerText:a,uri:i,index:S,delegatePlayback:p,isPlaying:I,onPlay:h,navigationUrl:y,renderCardImage:function(){return(0,s.jsx)(d.x,{images:n})},renderSubHeaderContent:function(){return(0,s.jsxs)(s.Fragment,{children:[x&&(0,s.jsx)("time",{dateTime:(k||"").toString(),children:x}),g&&(0,s.jsx)("span",{className:c.Z.type,children:(0,r.R)(m)})]})}})})}))},22578:(e,n,a)=>{a.d(n,{$:()=>k});a(26699),a(32023),a(69600),a(68309),a(21249);var i=a(64593),t=a(96206),l=a(69691),r=a(8341),u=a(89952),o=a(67294),d=a(51615),c=a(24183),s=a(85893);function m(e){return e.includes("Spotify")?e:"Spotify – ".concat(e)}var k=function(e){var n,a,k,v,f,g,N,b=e.children,p=e.usePlayingItem,I=m(b);n=b,v=(0,c.Oh)().mainLandmarkRef,f=(0,d.k6)(),g=null===(a=f.location)||void 0===a||null===(k=a.state)||void 0===k?void 0:k.preventMoveFocus,(N=(0,o.useRef)(f.length<2)).current=f.length<2,(0,o.useEffect)((function(){var e=v.current;!g&&!N.current&&e&&n&&(e.setAttribute("aria-label",n),e.focus())}),[n,v,g]);var h=(0,l.IK)().isPlaying,S=(0,r.Y)((function(e){return null==e?void 0:e.item}));return S&&(h||p)&&((0,u.G_)(S)?I=[S.name,S.artists.map((function(e){return e.name})).join(t.ag.getSeparator())].join(" • "):(0,u.iw)(S)?I=[S.name,S.show.name].join(" • "):(0,u.k6)(S)&&(I=m(t.ag.get("ad-formats.advertisement")))),(0,s.jsx)(i.q,{defaultTitle:"Spotify",defer:!1,children:(0,s.jsx)("title",{children:I})})}},70369:(e,n,a)=>{a.d(n,{$:()=>i.$});var i=a(22578)},39119:(e,n,a)=>{a.d(n,{k:()=>b});var i=a(29439),t=(a(68309),a(67294)),l=a(86706),r=a(51615),u=a(32667),o=a(96206),d=a(28248),c=a(42922),s=a(55773),m=a(16526),k=a(91797),v=a(87093),f=a(61946);const g="artist-popularTrackList-seeMore";var N=a(85893),b=function(e){var n=e.nrTracks,a=e.initialTracks,b=e.usePlayContextItem,p=e.parentEntityId,I=(0,t.useState)(!1),h=(0,i.Z)(I,2),S=h[0],y=h[1],x=(0,t.useCallback)((function(){y(!S)}),[S]),T=(0,r.TH)(),R=(0,s.vI)(m.k.InternalTrackLinks,T),w=(0,v.E)(),D=(0,l.v9)(f._5),P=(0,k.NY)(D,p||""),A=w&&(P||R),O=(0,t.useCallback)((function(e,n){var a=e.uri,i=e.contextUri,t=e.totalMilliseconds,l=e.name,r=e.artists,u=e.contentRating,o=e.isPlayable,c=e.playcount,s=e.imageUrl,m=e.albumUri;return(0,N.jsx)(d.l0,{index:n,uri:a,contextUri:i,totalMilliseconds:t,name:l,artists:r,isPlayable:o,contentRating:u,playcount:c||0,imageUrl:s,albumUri:m,usePlayContextItem:b,showInternalTrackLinks:A},a)}),[b,A]),_=(0,t.useCallback)((function(e){return e.uri}),[]),j=(0,t.useMemo)((function(){return[d.QD.INDEX,d.QD.TITLE,d.QD.PLAYS,d.QD.DURATION]}),[]);return(0,N.jsxs)(c.ZP,{value:"artist-popular-tracks-list",children:[(0,N.jsx)(d.Pv,{ariaLabel:o.ag.get("tracklist.popular-tracks"),renderRow:O,nrTracks:Math.min(n,S?10:5),tracks:a,resolveUri:_,columns:j}),n>5?(0,N.jsx)("button",{"aria-expanded":S,className:g,onClick:x,children:(0,N.jsx)(u.D,{as:"div",variant:"minuetBold",children:S?o.ag.get("artist-page.tracks.showless"):o.ag.get("artist-page.tracks.seemore")})}):null]})}},3702:(e,n,a)=>{a.d(n,{L:()=>I});var i=a(29439),t=(a(85827),a(41539),a(92222),a(43290),a(34553),a(91058),a(68309),a(67294)),l=a(86706),r=a(51615),u=a(28248),o=a(47094),d=a(63767),c=a(42922),s=a(3775),m=a(55773),k=a(16526),v=a(91797),f=a(87093),g=a(61946),N=(a(98984),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryAlbumTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"discNumber"}},{kind:"Field",name:{kind:"Name",value:"trackNumber"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"relinkingInformation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"isRelinked"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]}}]}}]}),b=a(85893);function p(e){return e.total_count>=2&&e.total_count<=10}var I=t.memo((function(e){var n=e.ariaLabel,a=e.nrTracks,I=e.discs,h=e.albumUri,S=e.highlightUri,y=e.scrollToIndex,x=e.usePlayContextItem,T=e.hasHeaderRow,R=void 0===T||T,w=e.parentEntityId,D=(0,o.ZO)()===d.W.Web,P=(0,t.useContext)(s.Ax).request,A=(0,t.useRef)(null),O=(0,t.useRef)(!1),_=(0,t.useState)(null),j=(0,i.Z)(_,2),C=j[0],L=j[1],F=(0,r.TH)(),E=(0,m.vI)(k.k.InternalTrackLinks,F),U=(0,f.E)(),V=(0,l.v9)(g._5),M=(0,v.NY)(V,w||""),H=U&&(M||E);(0,t.useEffect)((function(){A.current&&(C?A.current.scrollToIndex(C):y&&A.current.scrollToIndex(y))}),[C,y]);var Y=(0,t.useMemo)((function(){return function(e){return p(e)?e.items.reduce((function(e,n){return e.push(n.number-1),e.concat(Array(n.total_tracks).fill(n.number))}),[]):null}(I)}),[I]),Q=(0,t.useCallback)((function(e,n){return P(N,{uri:h,offset:null!==Y?e-Y[e]:e,limit:n}).then((function(e){var n,a;if(S&&!C){var i,t,l,r=null==e||null===(i=e.data)||void 0===i||null===(t=i.album)||void 0===t||null===(l=t.tracks.items)||void 0===l?void 0:l.findIndex((function(e){return e.track.uri===S}));L(r||-1)}return function(e,n){if(!p(n)||!e)return e;var a=0;return e.reduce((function(e,n){return(n.track.trackNumber<a||1===n.track.trackNumber)&&e.push({discNumber:n.track.discNumber}),e.push(n),a=n.track.trackNumber,e}),[])}(null==e||null===(n=e.data)||void 0===n||null===(a=n.album)||void 0===a?void 0:a.tracks.items,I)||[]}))}),[P,h,Y,S,C,I]),q=(0,t.useCallback)((function(e,n){var a,i,t;if("discNumber"in e)return(0,b.jsx)(u.UT,{discNumber:e.discNumber},n+e.discNumber);var l,r=e,o=r.uid,d=r.track;l=null!==(a=d.relinkingInformation)&&void 0!==a&&a.isRelinked?d.relinkingInformation.uri:d.uri;var c=d.playcount?parseInt(d.playcount,10):0,s=!(O.current||!S||S!==d.uri&&S!==(null===(i=d.relinkingInformation)||void 0===i?void 0:i.uri));return s&&(O.current=!0),(0,b.jsx)(u.Ym,{index:n,trackNumber:d.trackNumber,contextUri:h,uri:l,uid:o,duration_ms:d.duration.totalMilliseconds,name:d.name,isPlayable:d.playability.playable,artists:d.artists.items,contentRating:null===(t=d.contentRating)||void 0===t?void 0:t.label,playcount:c,shouldRenderPlayCount:!D,shouldHighLight:s,usePlayContextItem:x,showInternalTrackLinks:H},n+d.uri)}),[S,h,D,x,H]),X=(0,t.useMemo)((function(){return function(e){return e?[u.QD.INDEX,u.QD.TITLE,u.QD.DURATION]:[u.QD.INDEX,u.QD.TITLE,u.QD.PLAYS,u.QD.DURATION]}(D)}),[D]),Z=(0,t.useCallback)((function(e){return"track"in e?e.track.uri:""}),[]);return(0,b.jsx)(c.ZP,{value:"album-tracklist",children:(0,b.jsx)(u.Pv,{ariaLabel:n,hasHeaderRow:R,rowPlaceholder:u.uD,columns:X,renderRow:q,resolveUri:Z,nrTracks:p(I)?I.total_count+a:a,fetchTracks:Q,limit:300,outerRef:A},h)})}))},61946:(e,n,a)=>{a.d(n,{Hw:()=>r,_5:()=>u});var i=a(20573),t=a(42781),l=function(e){return e.seoExperiment},r=((0,i.P1)(l,(function(e){return null==e?void 0:e.track})),(0,i.P1)(l,(function(e){return null==e?void 0:e.track})),(0,i.P1)(l,(function(e){return null==e?void 0:e.album}))),u=(0,i.P1)(l,(function(e){return e&&void 0!==e[t.p.ARTIST]?null==e?void 0:e.artist:null==e?void 0:e.track}))},40080:(e,n,a)=>{a.d(n,{D:()=>t});var i=a(67294);function t(e){var n=(0,i.useRef)();return(0,i.useEffect)((function(){n.current=e}),[e]),n.current}},55773:(e,n,a)=>{a.d(n,{vI:()=>i});a(66992),a(41539),a(78783),a(33948),a(41637),a(74916),a(64765),a(21249);var i=function(e,n){var a=n?new URLSearchParams(n.search):void 0;return"1"===(null==a?void 0:a.get(e))}},16526:(e,n,a)=>{var i;a.d(n,{k:()=>i}),function(e){e.UnauthLyrics="ulotw",e.InternalTrackLinks="itl",e.RichAlbumPage="ralph",e.PathfinderAlbumPage="pfap",e.I18nSEO="i18nSEO",e.LanguageSelection="ls"}(i||(i={}))},34722:(e,n,a)=>{a.d(n,{B$:()=>r,GJ:()=>t,Hr:()=>i,qo:()=>l});a(85827),a(41539),a(68309);var i=function(e){return e?e.reduce((function(e,n){return e.push(n.releases.items[0]),e}),[]):[]},t=function(e){return"spotify:app:artist:".concat(e)},l=function(e){return"spotify:artist:".concat(e)},r=function(e,n,a){var i,t;return{artists:[{uri:n,name:a}],images:(null===(i=e.coverArt)||void 0===i?void 0:i.sources)||[],name:e.name,uri:e.uri,year:null===(t=e.date)||void 0===t?void 0:t.year,type:e.type,sharingInfo:e.sharingInfo}}},48528:(e,n,a)=>{a.d(n,{R:()=>l});var i=a(96206),t=a(15066);function l(e){switch(e){case t.n.SINGLE:return i.ag.get("single");case t.n.EP:return i.ag.get("ep");case t.n.COMPILATION:return i.ag.get("compilation");case t.n.ALBUM:default:return i.ag.get("album")}}},91797:(e,n,a)=>{var i,t,l;a.d(n,{NY:()=>o,FJ:()=>u}),function(e){e.UNAUTH_LYRICS="track-lyrics-unauth-1.0",e.RTP_AND_LYRICS_HOLDOUT="rtp-and-lyrics-holdout",e.RALPH_AND_ITL="ralph-itl-seo-test-1.0",e.ITL_ARTIST_AND_TRACK="artist-track-itl"}(i||(i={})),function(e){e.CONTROL="0",e.UNAUTH_LYRICS="1",e.RTP_HOLDOUT="2"}(t||(t={})),function(e){e.CONTROL="0",e.VARIANT="1"}(l||(l={}));var r=function(e){var n=e.treatment,a=e.entityId,i=e.experimentId,t=e.treatmentVariation;if(n&&n[a]){var l=n[a];return l.experimentId===i&&l.treatment===t}return!1},u=function(e,n){return r({treatment:e,entityId:n,experimentId:i.RALPH_AND_ITL,treatmentVariation:l.VARIANT})},o=function(e,n){return r({treatment:e,entityId:n,experimentId:i.ITL_ARTIST_AND_TRACK,treatmentVariation:l.VARIANT})}}}]);
//# sourceMappingURL=7433.js.map