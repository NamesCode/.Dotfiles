"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2342],{43683:(e,n,i)=>{i.d(n,{q:()=>A,o:()=>I});var a=i(29439),t=i(4942),l=i(67294),d=i(94184),r=i.n(d),o=i(59440),m=i(97081),s=i(96206),c=i(51674),u=i(79896),k=i(26482),v=i(21663),S=i(88387),N=i(75012),g=i(40080),p=i(14130);const F="l_MW0G9qeeCKlVJwBykT",f="BKsbV2Xl786X9a09XROH",y="x-downloadButton-DownloadButton",b="_APVWqivXc4YqgsnpFkP",h="VmwiDoU6RpqyzK_n7XRO",E="rEx3EYgBzS8SoY7dmC6x";var A;!function(e){e[e.sm=24]="sm",e[e.md=32]="md"}(A||(A={}));var C=function(e){var n=e.currentTarget;e.detail>0&&n&&n.blur()},I=function(e){var n=e.uri,i=e.isFollowing,d=e.canDownload,I=void 0===d||d,w=e.onFollow,D=e.size,T=void 0===D?A.sm:D,O=e.className,U=e.onClick,P=void 0===U?function(){}:U,x=(0,t.Z)({},"--size","".concat(T,"px")),V=(0,l.useState)(!1),R=(0,a.Z)(V,2),Z=R[0],L=R[1],M=(0,v._)(n),_=M.capability,B=M.availability,j=M.addDownload,z=M.removeDownload,q=(0,S.A)(n);!function(e,n){var i=(0,p.r)(),a=(0,l.useRef)(!1);(0,l.useEffect)((function(){e===k.Om.DOWNLOADING&&!1===a.current&&(a.current=!0,i.say(s.ag.get("download.downloading",n.totalItems)))}),[i,e,n]);var t=(0,g.D)(e);(0,l.useEffect)((function(){t===k.Om.DOWNLOADING&&e===k.Om.YES&&(a.current=!1,i.say(s.ag.get("download.complete")))}),[i,t,e])}(B,q);var Y=(0,l.useCallback)((function(e){_===k.PQ.NO_PERMISSION?P(e,k.mc.NO_PERMISSION):(!1===i?(w(),L(!0)):j(),P(e,k.mc.ADD)),C(e)}),[j,_,i,P,w]),H=(0,l.useCallback)((function(e){z(),C(e),P(e,k.mc.REMOVE)}),[z,P]);(0,l.useEffect)((function(){!0===Z&&!0===i&&(j(),L(!1))}),[i,Z,j]);var J=B===k.Om.YES;return _===k.PQ.NO_CAPABILITY?null:I||J?_===k.PQ.NO_PERMISSION?l.createElement("div",{className:f},l.createElement(u.Nt,{offset:[-2,20],action:"toggle",trigger:"click",content:l.createElement(u.yv,null,l.createElement("span",null,s.ag.get("download.upsell"))),renderInline:!1},l.createElement("div",null,l.createElement(c._,{label:s.ag.get("download.download")},l.createElement("button",{className:r()(y,O),role:"switch",onClick:Y,"aria-label":s.ag.get("download.download"),"aria-checked":!1},l.createElement(o.D,{iconSize:T})))))):J?l.createElement(c._,{label:s.ag.get("download.remove")},l.createElement("button",{className:r()(y,O,b),role:"switch",onClick:H,"aria-label":s.ag.get("download.remove"),"aria-checked":!0},l.createElement(m.E,{iconSize:T}))):B===k.Om.NO?l.createElement(c._,{label:s.ag.get("download.download")},l.createElement("button",{className:r()(y,O),role:"switch",onClick:Y,"aria-label":s.ag.get("download.download"),"aria-checked":!1},l.createElement(o.D,{iconSize:T}))):l.createElement("div",{className:r()(h,O),role:"switch","aria-checked":!0},l.createElement(c._,{label:s.ag.get("download.cancel")},l.createElement("button",{style:x,className:r()(y,F,O),onClick:H,"aria-label":s.ag.get("download.cancel")})),l.createElement("span",{style:x,className:r()(E,F)},l.createElement(N.e,{"aria-valuetext":s.ag.get("progress.downloading-tracks"),percentage:q.percentage,size:T}))):null}},22578:(e,n,i)=>{i.d(n,{$:()=>u});i(26699),i(32023),i(69600),i(68309),i(21249);var a=i(67294),t=i(64593),l=i(96206),d=i(69691),r=i(8341),o=i(89952),m=i(51615),s=i(24183);function c(e){return e.includes("Spotify")?e:"Spotify – ".concat(e)}var u=function(e){var n,i,u,k,v,S,N,g=e.children,p=e.usePlayingItem,F=c(g);n=g,k=(0,s.Oh)().mainLandmarkRef,v=(0,m.k6)(),S=null===(i=v.location)||void 0===i||null===(u=i.state)||void 0===u?void 0:u.preventMoveFocus,(N=(0,a.useRef)(v.length<2)).current=v.length<2,(0,a.useEffect)((function(){var e=k.current;!S&&!N.current&&e&&n&&(e.setAttribute("aria-label",n),e.focus())}),[n,k,S]);var f=(0,d.IK)().isPlaying,y=(0,r.Y)((function(e){return null==e?void 0:e.item}));return y&&(f||p)&&((0,o.G_)(y)?F=[y.name,y.artists.map((function(e){return e.name})).join(l.ag.getSeparator())].join(" • "):(0,o.iw)(y)?F=[y.name,y.show.name].join(" • "):(0,o.k6)(y)&&(F=c(l.ag.get("ad-formats.advertisement")))),a.createElement(t.q,{defaultTitle:"Spotify",defer:!1},a.createElement("title",null,F))}},29464:(e,n,i)=>{i.d(n,{E:()=>o});var a=i(87462),t=(i(68309),i(67294)),l=i(42922),d=i(34722),r=i(13768),o=function(e){var n=e.album,i=e.index,o=e.artistURI;return t.createElement(l.ZP,{value:"card",index:i},t.createElement(r.i,(0,a.Z)({index:i,latest:!1,showType:!0},(0,d.B$)(n,o,n.name))))}},57060:(e,n,i)=>{i.d(n,{R:()=>s});i(92222),i(21249);var a=i(67294),t=i(96206),l=i(42922),d=i(7073),r=i(34722),o=i(19480),m=i(29464),s=function(e){var n=e.albums,i=e.artistName,s=e.artistId,c=e.artistUri,u=e.className;return n?a.createElement(l.ZP,{value:"shelf/albums"},a.createElement(o.P,{total:n.totalCount,title:t.ag.get("rich-page.popular-albums-by-artist",{artist:i}),seeAllUri:"".concat((0,r.GJ)(s),":discography:").concat(d.VZ.Album.toLowerCase()),seeAllLabel:t.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:u},(0,r.Hr)(n.items).map((function(e,n){return a.createElement(m.E,{album:e,index:n,artistURI:c,key:e.uri})})))):null}},70880:(e,n,i)=>{i.d(n,{j:()=>o});i(21249);var a=i(67294),t=i(32667),l=i(96206),d=i(84242),r=i(39119),o=function(e){var n=e.artistName,i=e.artistUri,o=e.headerClassName,m=e.rowClassName,s=e.topTracks,c=e.topTracksTransformer,u=e.uri,k=(0,a.useMemo)((function(){return null==s?void 0:s.items.map((function(e){return c(e,u)}))}),[null==s?void 0:s.items,c,u]),v=(0,d.n)({uri:i},{featureIdentifier:"artist"}).usePlayContextItem;return k&&k.length>0?a.createElement("div",{className:m},a.createElement("div",null,a.createElement(t.D,{variant:"mesto"},l.ag.get("rich-page.popular-tracks")),a.createElement(t.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:o},n)),a.createElement(r.k,{nrTracks:k.length,initialTracks:k,usePlayContextItem:v})):null}},55095:(e,n,i)=>{i.d(n,{y:()=>s});i(92222),i(21249);var a=i(67294),t=i(96206),l=i(42922),d=i(7073),r=i(34722),o=i(19480),m=i(29464),s=function(e){var n=e.artistId,i=e.artistName,s=e.artistUri,c=e.className,u=e.singles;return u?a.createElement(l.ZP,{value:"shelf/singles-and-eps"},a.createElement(o.P,{total:u.totalCount,title:t.ag.get("rich-page.popular-singles-and-eps-by-artist",{artist:i}),seeAllUri:"".concat((0,r.GJ)(n),":discography:").concat(d.VZ.Single.toLowerCase()),seeAllLabel:t.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:c},(0,r.Hr)(u.items).map((function(e,n){return a.createElement(m.E,{album:e,index:n,artistURI:s,key:e.uri})})))):null}},79870:(e,n,i)=>{i.r(n),i.d(n,{default:()=>nn});var a=i(15861),t=i(29439),l=i(87757),d=i.n(l),r=(i(66992),i(41539),i(88674),i(78783),i(33948),i(91058),i(41637),i(74916),i(64765),i(47042),i(68309),i(21249),i(5212),i(85827),i(92222),i(69600),i(15306),i(67294)),o=i(86706),m=i(51615),s=i(69518),c=i.n(s),u=i(32667),k=i(34142),v=i(47921),S=i(40003),N=i(96206),g=i(18270),p=i(43683),F=i(48690),f=i(13768),y=i(4232),b=i(70369),h=i(60289),E=i(59482),A=i(72907),C=i(6158),I=i(45987),w=i(32397),D=i(91250),T=i(44065),O=i(6489),U=i(79896),P=i(38894),x=function(e){var n,i=e.children,a=e.content,t=e.onIntercept,l=void 0===t?function(){}:t,d=(0,P.g)();try{n=r.Children.only(i)}catch(e){return r.createElement(r.Fragment,null,i)}return d?r.createElement(U.Nt,{trigger:"click",action:"open",placement:"bottom",offset:[0,20],content:a},r.cloneElement(n,{onClick:l})):r.createElement(r.Fragment,null,i)},V=(i(82526),i(41817),i(86025)),R=i(34011),Z=i(1447),L=i(42922),M=i(70108),_=i(56802);const B="WHINADihyTCx2VFxwY8X";var j=function(e){var n=e.title,i=e.description,a=(0,o.I0)(),t=(0,Z.qT)(),l=(0,_.o)();return(0,r.useEffect)((function(){l({intent:"open-upsell",type:"view"})}),[l]),r.createElement(U.yv,null,r.createElement("div",{className:B},r.createElement(u.D,{as:"p",variant:"cello"},n),r.createElement(u.D,{as:"p",variant:"mesto"},i),r.createElement("div",null,r.createElement(V.o,{onClick:function(){l({intent:"close-upsell",type:"click"}),t({type:"close"})}},N.ag.get("action-trigger.button.not-now")),r.createElement(R.D,{onClick:function(){l({intent:"login",type:"click"}),a((0,M.sX)())}},N.ag.get("login")))))},z=function(e){return r.createElement(L.ZP,{value:"tooltip-with-cta"},r.createElement(j,e))},q=["uri"],Y=function(e){var n=e.uri,i=(0,I.Z)(e,q),a=(0,D.j5)();return r.createElement(x,{content:r.createElement(z,{title:N.ag.get("action-trigger.save-library"),description:N.ag.get("action-trigger.save-album")}),onIntercept:function(){return a.storeAction(w.wH,{operation:O.pT.ADD,uris:[n]})}},r.createElement(T.H,i))},H=i(55120),J=(i(57327),i(26699),i(32023),i(87577)),G=i(98984),K={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryAlbumMerch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artist"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"goods"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"merch"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"4"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"imageUri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"price"}}]}}]}}]}}]}}]}}]},X=i(8247),Q=i(24051);const W="iEG0moJ3mt1_j9Lho7MA";var $=function(e){var n,i,a,t,l,d=e.albumName,o=e.albumURI,m=e.artistURI,s=(0,J.W6)(X.$6,{loadingValue:!1}),c=(t={uri:m},l={cacheTime:5*G.y,enabled:s},(0,G.a)(K,t,l)).data,u=null==c||null===(n=c.artist)||void 0===n||null===(i=n.goods)||void 0===i?void 0:i.merch,k=null==u||null===(a=u.items)||void 0===a?void 0:a.filter((function(e){var n;return null==e||null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(d.toLowerCase())}));return s&&k&&(null==k?void 0:k.length)>0?r.createElement("div",{className:"contentSpacing"},r.createElement("div",{className:W},r.createElement(Q.s,{id:d,uri:o,merchItems:k,merchVariant:"Album page merch items"}))):null},ee=i(80322),ne=i(4236),ie=i(61901),ae=i(53538),te=i(32626),le=i(20246),de=i(85522),re=i(4383),oe=i(84242),me=i(55773),se=i(15852),ce=i(7073),ue=i(16526),ke=i(43315),ve=i(91797),Se=i(18686),Ne=i(87093),ge=i(61946),pe=i(29255),Fe=i(30005),fe=i(21691),ye=function(e){var n=e.releases;return r.createElement(Fe.v,null,n.map((function(e){return r.createElement(fe.s,{key:e.uri,role:"menuitem",to:c().from(e.uri).toURLPath(!0)},e.name)})))},be=i(87462),he=(i(21703),i(96647),i(93433)),Ee=i(52200),Ae={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getRichAlbum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTopTracks"}},{kind:"FragmentSpread",name:{kind:"Name",value:"richPopularReleases"}},{kind:"FragmentSpread",name:{kind:"Name",value:"richAlbums"}},{kind:"FragmentSpread",name:{kind:"Name",value:"richSinglesAndEps"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"relatedContent"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NotFound"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}].concat((0,he.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"richTopTracks"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistDiscography"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topTracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"4"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}}]}}]}}]}}]}}]),(0,he.Z)(Ee.rD.definitions),(0,he.Z)(Ee.rA.definitions),(0,he.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"richPopularReleases"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistDiscography"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleasesAlbums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]),(0,he.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"richAlbums"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistDiscography"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]}}]}}]),(0,he.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"richSinglesAndEps"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistDiscography"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"singles"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]}}]}}]),(0,he.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"relatedContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"relatedContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"relatedArtists"}},{kind:"FragmentSpread",name:{kind:"Name",value:"discoveredOn"}}]}}]}}]),(0,he.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"relatedArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RelatedContent"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"relatedArtists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]}}]),(0,he.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"discoveredOn"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RelatedContent"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discoveredOnV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]}}]}}]}}]))},Ce=i(57060),Ie=i(4942),we=(i(47941),i(38880),i(89554),i(54747),i(49337),i(33321),i(69070),i(34722)),De=i(46309),Te=i(19480);function Oe(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}var Ue=function(e){var n=e.artistId,i=e.className,a=e.discoveredOn;if(!a)return null;var t=a.filter((function(e){return function(e){return"Playlist"===(null==e?void 0:e.__typename)}(e.data)})).map((function(e){return function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Oe(Object(i),!0).forEach((function(n){(0,Ie.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Oe(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}({},e.data)}));return r.createElement(L.ZP,{value:"shelf/discovered-on"},r.createElement(Te.P,{title:N.ag.get("discovered_on"),total:a.length,seeAllUri:"".concat((0,we.GJ)(n),":discovered-on"),className:i},t.map((function(e,n){var i,a,t,l=e;return r.createElement(De.Z,{index:n,key:l.uri,uri:l.uri,name:l.name,authorName:l.name,description:l.description||"",images:(null===(i=l.images)||void 0===i||null===(a=i.items)||void 0===a||null===(t=a[0])||void 0===t?void 0:t.sources)||[]})}))))},Pe=i(89477),xe=function(e){var n=e.artistId,i=e.className,a=e.fansAlsoLike;return r.createElement(L.ZP,{value:"shelf/fans-also-like"},r.createElement(Te.P,{total:a.length,title:N.ag.get("rich-page.fans-also-like"),seeAllUri:"".concat((0,we.GJ)(n),":related"),className:i},a.map((function(e,n){var i;return r.createElement(L.ZP,{value:"card",index:n,key:e.uri},r.createElement(Pe.I,{index:n,uri:e.uri,name:e.profile.name,images:(null===(i=e.visuals.avatarImage)||void 0===i?void 0:i.sources)||[]}))}))))},Ve=function(e){var n=e.artistName,i=e.artistUri,a=e.className,t=e.popularReleases;return r.createElement(L.ZP,{value:"shelf/popular-releases"},r.createElement(Te.P,{total:t.length,title:N.ag.get("rich-page.popular-releases-by-artist",{artist:n}),className:a},t.map((function(e,a){return r.createElement(L.ZP,{value:"card",index:a,key:e.uri},r.createElement(f.i,(0,be.Z)({index:a,showType:!0},(0,we.B$)(e,i,n))))}))))},Re=i(70880),Ze=i(55095),Le=function(e,n){var i,a,t,l=e.track,d=l.uri,r=l.name,o=l.playcount,m=l.duration.totalMilliseconds,s=l.contentRating,c=l.artists.items,u=l.albumOfTrack,k=l.playability.playable;return{uri:d,contextUri:n,totalMilliseconds:m,name:r,contentRating:(null==s?void 0:s.label)||ce.KS.None,isPlayable:k,playcount:parseInt(o||"0",10),artists:c.map((function(e){return{name:e.profile.name,uri:e.uri}})),imageUrl:null!=u&&null!==(i=u.coverArt)&&void 0!==i&&null!==(a=i.sources)&&void 0!==a&&a.length?null==u?void 0:u.coverArt.sources[0].url:"",albumUri:null!==(t=null==u?void 0:u.uri)&&void 0!==t?t:""}};const Me="FKHM7enSR0Ny_2IocKZA";var _e=r.memo((function(e){var n,i,a,t=e.artistId,l=e.artistName,d=e.artistUri,o=(0,m.UO)().albumId,s=c().albumURI(o).toURI(),u=(i={uri:s},(0,G.a)(Ae,i,a));if(u.loading||null===(n=u.data)||void 0===n||!n.albumUnion)return r.createElement(C.h,{hasError:null!==u.error,errorMessage:N.ag.get("error.not_found.title.album")});var k=u.data.albumUnion.artists.items[0];if(!k)throw new Error("Missing artist in data.");var v=k.relatedContent,S=v.discoveredOnV2,g=v.relatedArtists,p=k.discography,F=p.topTracks,f=p.popularReleasesAlbums,y=p.albums,b=p.singles,h={artistId:t,artistName:l,artistUri:d};return r.createElement("div",{className:"contentSpacing"},r.createElement(Re.j,{rowClassName:Me,artistUri:d,artistName:l,topTracks:F,topTracksTransformer:Le,uri:s}),r.createElement(Ve,{className:Me,artistUri:d,artistName:l,popularReleases:f.items}),r.createElement(Ce.R,(0,be.Z)({albums:y,className:Me},h)),r.createElement(Ze.y,(0,be.Z)({singles:b,className:Me},h)),r.createElement(xe,{artistId:t,className:Me,fansAlsoLike:g.items}),r.createElement(Ue,{className:Me,discoveredOn:S.items,artistId:t}))})),Be={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAlbumMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumArtists"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumCoverArt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumDiscs"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumTracksMetadata"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumReleases"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"copyright"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"courtesyLine"}},{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"moreAlbumsByArtist"}}]}}]}}].concat((0,he.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}}]}}]}}]),(0,he.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumCoverArt"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}},{kind:"Field",name:{kind:"Name",value:"colorLight"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}},{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]),(0,he.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumDiscs"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]),(0,he.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumTracksMetadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}}]}}]}}]}}]}}]),(0,he.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumReleases"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]),(0,he.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"moreAlbumsByArtist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"moreAlbumsByArtist"},name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareId"}},{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]))},je=([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAlbumContents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albumTrack"}}]}}]}}]}}]}}].concat((0,he.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumTrack"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContextTrack"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumTrackArtists"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"discNumber"}},{kind:"Field",name:{kind:"Name",value:"trackNumber"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}}]}}]}}]),(0,he.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumTrackArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistsWithRoles"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"role"}},{kind:"Field",name:{kind:"Name",value:"artist"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}])),i(3702)),ze=(i(83710),864e5),qe=365.25*ze;const Ye="n8Bz0c0v17whD3KfMdOk",He="zddjxV2lX9ukNM5QXloA",Je="lVqlPjQLuQhK2flsxB78",Ge="O_EguRjsZ4uI1hHamkOA",Ke="jcaQQxoVnuuhtVwDJU1R",Xe="fLS8v3_EfBadEerbGVoR",Qe="in4OjUTflcsoj9RUpf05";var We=r.lazy((function(){return i.e(1130).then(i.bind(i,41130))}));function $e(e){switch(e){case ce.VZ.Single:return N.ag.get("single");case ce.VZ.Ep:return N.ag.get("ep");case ce.VZ.Compilation:return N.ag.get("compilation");case ce.VZ.Album:default:return N.ag.get("album")}}var en=function(e){var n,i,l,s,C,I,w,D,O,U,P,x,V,R,Z,L,M,B,j,z,q=e.uri,J=e.album,G=(0,m.k6)(),K=(0,m.TH)(),X=(0,_.o)(),Q=(0,ne.k)(),W=(0,re.y)(),Fe=(0,se.fU)(S.createDesktopAlbumEventFactory,{data:{uri:q}}),fe=Fe.spec,be=Fe.logger,he=Fe.UBIFragment,Ee=(0,r.useMemo)((function(){return fe.trackListFactory()}),[fe]),Ae=(0,r.useMemo)((function(){return fe.moreByArtistShelfFactory()}),[fe]),Ce=r.useMemo((function(){return fe.actionBarFactory()}),[fe]),Ie=null===(n=J.moreAlbumsByArtist)||void 0===n||null===(i=n.items[0])||void 0===i||null===(l=i.discography)||void 0===l||null===(s=l.popularReleases)||void 0===s?void 0:s.items,we=(0,re.Z)(q),De=(0,t.Z)(we,2),Te=De[0],Oe=De[1],Ue=(0,Ne.E)(),Pe=(0,me.vI)(ue.k.RichAlbumPage,K),xe=c().from(q),Ve=xe?xe.getBase62Id():"",Re=(0,o.v9)(ge.Hw),Ze=(0,ve.FJ)(Re,Ve)||Pe,Le=parseInt(new URLSearchParams((0,m.TH)().search).get("index")||"0",10),Me=(0,ee.Y)(q),Be=(0,oe.n)({uri:Me},{featureIdentifier:"album"}),en=Be.usePlayContextItem,nn=Be.togglePlay,an=Be.isPlaying,tn=Be.isActive,ln=(0,r.useCallback)((function(){var e=(0,ae.aK)({isPlaying:an,isActive:tn,spec:Ce.playButtonFactory(),logger:be,uri:q});nn({loggingParams:e})}),[an,tn,nn,Ce,be,q]),dn=(0,r.useCallback)((0,a.Z)(d().mark((function e(){var n,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ce.saveButtonFactory(),n=Te?i.hitDislike({itemToBeDisliked:q}):i.hitLike({itemToBeLiked:q}),be.logInteraction(n),X({targetUri:q,intent:Te?"unsave":"save",type:"click"}),e.prev=4,e.next=7,Oe(!Te);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:case"end":return e.stop()}}),e,null,[[4,9]])}))),[X,q,Te,Oe,Ce,be]),rn=(0,r.useCallback)((function(e,n){if(fe){var i=fe.headerFactory().artistNameFactory().hitUiNavigate({destination:n.creator.uri});be.logInteraction(i)}}),[be,fe]),on=(0,r.useCallback)((function(){return new URLSearchParams(G.location.search.slice(1)).get("highlight")||""}),[G.location.search]),mn=J.uri,sn=J.name,cn=J.type,un=null===(C=J.date)||void 0===C?void 0:C.isoString,kn=J.tracks.totalCount,vn=((null===(I=J.coverArt)||void 0===I?void 0:I.sources)||[]).map((function(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}})),Sn=null===(w=J.coverArt)||void 0===w||null===(D=w.extractedColors)||void 0===D?void 0:D.colorRaw.hex,Nn=J.artists.items.map((function(e){var n;return{name:e.profile.name,images:((null===(n=e.visuals.avatarImage)||void 0===n?void 0:n.sources)||[]).map((function(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}})),uri:e.uri,id:e.id}})),gn=Nn[0],pn=J.tracks.items.some((function(e){return e.track.playability.playable})),Fn=J.playability.reason===ce.Ku.CatalogueRestricted,fn=(0,r.useMemo)((function(){return{total_count:J.discs.totalCount,items:J.discs.items.map((function(e){return{number:e.number,total_tracks:e.tracks.totalCount}}))}}),[J.discs]),yn=J.copyright.items,bn=J.courtesyLine,hn=J.tracks.items.reduce((function(e,n){return e+n.track.duration.totalMilliseconds}),0),En=J.tracks.items.length>0?hn/J.tracks.items.length*J.tracks.totalCount:0,An=J.tracks.items.length<J.tracks.totalCount,Cn=on();(0,ie.Y5)(Sn||null);var In=(0,r.useCallback)((function(){var e="".concat(sn," - ").concat($e(cn)," by ").concat(Nn.map((function(e){return e.name})).join(N.ag.getSeparator())),n=N.ag.get("album.page-title",sn);return Ze?e:n}),[sn,cn,Nn,Ze]),wn=(0,o.v9)(pe.Gg),Dn=null!==(O=null===(U=wn.overrides)||void 0===U?void 0:U.locale)&&void 0!==O?O:wn.locale,Tn=function(e){return(0,r.useMemo)((function(){if("DAY"===(null==e?void 0:e.precision)){var n=new Date(e.isoString),i=(new Date).getTime()-n.getTime(),a=i%qe;return a<3.5*ze||a>312552e5?Math.round(i/qe):null}return null}),[e])}(J.date);return r.createElement("section",{className:Ye,"data-testid":"album-page"},r.createElement(b.$,null,In()),null!==Tn?r.createElement(r.Suspense,{fallback:null},r.createElement(We,{colorLight:null===(P=J.coverArt)||void 0===P||null===(x=P.extractedColors)||void 0===x?void 0:x.colorLight.hex,colorDark:null===(V=J.coverArt)||void 0===V||null===(R=V.extractedColors)||void 0===R?void 0:R.colorDark.hex,name:sn,years:Tn})):null,r.createElement(h.gF,{backgroundColor:Sn},r.createElement(E.W,null,r.createElement(H.$,{size:"md",onClick:function(){return nn()},disabled:!pn,isPlaying:an,uri:q}),r.createElement(A.i,{text:sn,dragUri:q,dragLabel:sn})),r.createElement(te._P,{menu:r.createElement(y.Y,{uri:J.uri,artistUri:null==Nn||null===(Z=Nn[0])||void 0===Z?void 0:Z.uri,sharingInfo:J.sharingInfo})},r.createElement(h.Oz,{dragUri:mn,images:vn,name:sn,placeholderType:"album"})),r.createElement(h.sP,null,r.createElement(h.dy,{small:!0,uppercase:!0},$e(cn)),r.createElement(te._P,{menu:r.createElement(y.Y,{uri:J.uri,artistUri:null==Nn||null===(L=Nn[0])||void 0===L?void 0:L.uri,sharingInfo:J.sharingInfo})},r.createElement(h.xd,{dragUri:J.uri,dragLabel:J.name},sn)),r.createElement(h.QS,{creators:Nn,onCreatorClick:rn,releaseDate:un,totalTracks:kn,durationMilliseconds:En,isEstimatedDuration:An}))),r.createElement(g.o,{backgroundColor:Sn},r.createElement(g.F,null,r.createElement(H.$,{onClick:ln,disabled:!pn,isPlaying:an,size:"lg",uri:q}),r.createElement(Y,{isAdded:!!Te,onClick:dn,disabled:!(Q||null!=W&&W.getCapabilities().canModifyOffline),size:T.q.md,uri:q}),r.createElement(p.o,{uri:q,isFollowing:!!Te,onClick:function(e,n){return(0,ae.l7)(n,Ce.downloadButtonFactory(),be,q)},onFollow:dn,size:p.q.md}),r.createElement(le.y,{onShow:function(){return(0,ae.qq)(Ce,be)},menu:r.createElement(y.Y,{uri:J.uri,artistUri:null==Nn||null===(M=Nn[0])||void 0===M?void 0:M.uri,sharingInfo:J.sharingInfo})},r.createElement(F.z,{label:N.ag.get("more.label.context",sn)})))),Fn?r.createElement("div",{className:He},r.createElement(u.D,{as:"h2",variant:"cello",className:Je},N.ag.get("windowed.product-album-header")),r.createElement("div",{className:Ge},N.ag.get("windowed.product-album-description"))):null,r.createElement("div",{className:"contentSpacing"},r.createElement(he,{spec:Ee},r.createElement(je.L,{ariaLabel:sn,nrTracks:kn,discs:fn,albumUri:mn,highlightUri:Cn,scrollToIndex:Le,usePlayContextItem:en})),r.createElement("div",{className:Qe},r.createElement("div",null,(null===(B=J.date)||void 0===B?void 0:B.isoString)&&r.createElement(u.D,{as:"p",variant:"mesto"},(0,ke.BI)((0,ke.RX)(J.date.isoString),Dn,{year:"numeric",month:"long",day:"numeric"})),r.createElement(de.k,{copyrights:yn,courtesyLine:bn})),J.releases.items.length>0&&r.createElement(te.xV,{menu:r.createElement(ye,{releases:J.releases.items})},(function(e,n,i){return r.createElement("button",{ref:i,className:Xe,type:"button",onClick:n},r.createElement(u.D,{variant:"mesto"},N.ag.get("album-page.more-releases",J.releases.items.length)),e?r.createElement(k.U,{iconSize:16}):r.createElement(v.i,{iconSize:16}))})))),r.createElement($,{albumName:sn,albumURI:mn,artistURI:null==gn?void 0:gn.uri}),Ze&&Ue?r.createElement("div",{"data-testid":"rich-album"},r.createElement(_e,{artistId:null==gn?void 0:gn.id,artistName:null==gn?void 0:gn.name,artistUri:null==gn?void 0:gn.uri})):r.createElement(r.Fragment,null,(null==Ie?void 0:Ie.length)>0&&r.createElement("div",{className:"contentSpacing"},r.createElement(he,{spec:Ae},r.createElement(Se.q,{index:0,id:"more-albums",className:Ke,title:N.ag.get("album-page.more-by-artist",null==Nn||null===(j=Nn[0])||void 0===j?void 0:j.name),total:Ie.length,seeAllUri:"".concat(null==Nn||null===(z=Nn[0])||void 0===z?void 0:z.uri.replace("artist","app:artist"),":discography"),seeAllLabel:N.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0},Ie.map((function(e,n){var i,a,t=e.releases.items[0];return r.createElement(f.i,{index:n,key:t.uri,artists:Nn,images:(null===(i=t.coverArt)||void 0===i?void 0:i.sources)||[],name:t.name,uri:t.uri,year:null===(a=t.date)||void 0===a?void 0:a.year,type:t.type,sharingInfo:t.sharingInfo})})))))))};const nn=r.memo((function(){var e,n,i=(0,m.UO)().albumId,a="spotify:album:".concat(i),t=(e={uri:a},n={cacheTime:15*G.y},(0,G.a)(Be,e,n)),l=t.loading,d=t.error,o=t.data;return l||null==o||!o.album?r.createElement(C.h,{hasError:null!==d,errorMessage:N.ag.get("error.not_found.title.album")}):r.createElement(en,{uri:a,album:o.album})}))},24051:(e,n,i)=>{i.d(n,{s:()=>v});i(21249),i(68309),i(82526),i(41817);var a=i(67294),t=i(8400),l=i(96206),d=i(19480),r=i(42922),o=i(15852),m=i(75032),s=i(36590),c=i(8498),u=function(e){var n=e.merchId,i=e.spec,t=e.uri,l=e.images,d=e.description,r=e.merchName,u=void 0===r?"":r,k=e.testId,v=e.index,S=e.merchVariant,N=(0,o.$P)(),g=(0,a.useMemo)((function(){return i.merchCardFactory({identifier:n,uri:t,position:v})}),[n,t,i,v]),p=function(){window.open(t,"_blank");var e=g.hitNavigateToExternalUri({destination:t});N.logInteraction(e)},F=(0,o.Wi)(g);return a.createElement("div",{ref:F},a.createElement(s.C,{index:v,onClick:p,headerText:u,featureIdentifier:"playlist",requestId:S,uri:t,isPlayable:!1,renderCardImage:function(){return a.createElement(c.x,{images:l})},renderSubHeaderContent:function(){return a.createElement(a.Fragment,null,d?a.createElement(m.NB,{source:d,onLinkClick:p}):u&&a.createElement("span",null,"Description: ",u))},testId:k}))};var k=i(44035),v=function(e){var n=e.id,i=e.merchItems,m=e.merchVariant,s=e.uri,c=(0,o.fU)(t.createDesktopMerchShelfEventFactory,{data:{identifier:n,uri:s,position:0,reason:m}}).spec;return a.createElement(r.JL,{value:"shelf/offers","data-testid":"merch-shelf"},a.createElement(d.P,{total:i.length,title:l.ag.get("web-player.merch.title"),className:k.Z.artistShelfSpacer,seeAllLabel:l.ag.get("web-player.merch.seeAllUri")},i.map((function(e,n){return a.createElement(r.JL,{value:"card",index:n,key:e.url},a.createElement(u,{index:n,key:e.url,uri:e.url,merchName:e.name,description:e.description||"",images:[{url:e.imageUri}],merchVariant:m,merchId:e.uri,spec:c}))}))))}},85522:(e,n,i)=>{i.d(n,{k:()=>d});i(21249),i(74916),i(15306),i(92222);var a=i(67294),t=i(32667);const l="rTMkDBDp47Eo12ZEQv4U";var d=function(e){var n=e.copyrights,i=e.courtesyLine,d=(n||[]).map((function(e,n){var i,l=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");return i="C"===e.type?"©":"P"===e.type?"℗":"(".concat(e.type,")"),a.createElement(t.D,{as:"p",variant:"finale",key:n,dir:"auto"},"".concat(i," ").concat(l))}));return i&&d.unshift(a.createElement(t.D,{as:"p",variant:"finale",key:d.length,dir:"auto"},i)),a.createElement("div",{className:l},d)}},40080:(e,n,i)=>{i.d(n,{D:()=>t});var a=i(67294);function t(e){var n=(0,a.useRef)();return(0,a.useEffect)((function(){n.current=e}),[e]),n.current}},44035:(e,n,i)=>{i.d(n,{Z:()=>a});const a={artistOverviewContent:"BL__GuO2JsHMR6RgNfwY",artistOverviewContainer:"Sl7tzXKh5stpn_y5prU5",popularTracks:"q9GR66ZTM4HH42Z_qroQ",artistShelfSpacer:"jJ1PYBjdJy5plPbVprT1",sideBlock:"uVh80THccLWIzZYwgUaQ",popularTracksBlock:"yTBLU_z7yk9Xp_oN48Q2",about:"kgR8s9v7IzY4G17ZtLbw",events:"qsfp4wSDOv6LBCbFApI1",merch:"_7MwXzTGa7JMhVlJCeDJ9",merchSmall:"ODvt8oN68o6Iy8nxwOuY",overview:"NLaDALU71zxOtBUbsrfH",heading:"hLkn_NwPkY5VIAETCqCK",merchShelfContent:"NOFtFAj4dIAsXQgVHJcA"}}}]);
//# sourceMappingURL=xpui-routes-album.js.map