"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[730],{96268:(e,n,t)=>{t.r(n),t.d(n,{default:()=>v});t(66992),t(41539),t(78783),t(33948),t(41637),t(74916),t(64765),t(92222),t(15306),t(34553);var a=t(67294),i=t(86706),l=t(51615),r=t(69518),u=t.n(r),o=t(72627),c=t(29255),d=t(98984),f=t(23716),s=t(72138),k=a.memo((function(){var e,n=(0,l.k6)(),t=(0,l.TH)(),r=(0,a.useContext)(s.ZF),k=(0,f.g)(),v=(0,l.UO)().trackId,h=(0,i.v9)(c.Gg).isAnonymous,g=new URLSearchParams(t.search).get("context"),b=u().trackURI(v).toURI(),p=(0,o.QN)({uri:b},{cacheTime:30*d.y}),m=(0,a.useCallback)((function(e,t){var a,i=k.getState(),l=null===(a=u().from(t))||void 0===a?void 0:a.toURLPath(!0),r="".concat(l,"?highlight=").concat(b);h?n.push(r):(i&&!i.isPaused||e>-1&&k.play({uri:t},{featureIdentifier:"track",referrerIdentifier:"deeplink"},{skipTo:{index:e}}),n.replace(r))}),[n,h,k,b]),U=(0,a.useCallback)((function(){var e,n;if(!p.loading&&null!==(e=p.data)&&void 0!==e&&e.trackUnion){var t=p.data.trackUnion;m(t.trackNumber-1,(null==t||null===(n=t.albumOfTrack)||void 0===n?void 0:n.uri)||"")}}),[m,null==p||null===(e=p.data)||void 0===e?void 0:e.trackUnion,p.loading]);return(0,a.useEffect)((function(){var e=u().isPlaylistV1OrV2(g);g&&e?r.getContents(g).then((function(e){var n=e.items.findIndex((function(e){return(null==e?void 0:e.uri)===b}));n<0?U():m(n,g)})):U()}),[g,U,m,r,b]),null}));const v=k}}]);
//# sourceMappingURL=xpui-routes-track.js.map