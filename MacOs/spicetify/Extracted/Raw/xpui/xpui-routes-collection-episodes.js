"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[1289],{63294:(e,t,a)=>{a.d(t,{u:()=>L});var r=a(59496),i=a(84875),l=a.n(i),n=a(88778),s=a(87155),o=a(83719),c=a(93646);const A="FvfvGU3jvHRskUU9v9_8",u="Q9AlbZn2EGzy3MTWXa8X",d="mxmxS0y8LiwSs5nueKPT",E="GXxVAveNFStY3pBI_NO4",T="eHcXC2s97InYP7rMNT0H";var g=a(4637);const L=(0,r.memo)((function(e){const{children:t,message:a,title:r,linkTitle:i,linkTo:L,onClick:p,renderInline:D=!1}=e,{isXSOnly:m,isSMOnly:h}=(0,o.e)(),C=m||h;return(0,g.jsxs)("section",{className:l()(A,{[u]:D}),children:[t,(0,g.jsx)(n.D,{as:"h1",variant:C?"cello":"alto",className:E,children:r}),(0,g.jsx)(n.D,{variant:C?"mesto":"ballad",className:T,children:a}),i&&(L||p)&&(0,g.jsx)(s.D,{colorSet:"invertedLight",className:d,href:L,onClick:p,component:c.Z,children:i})]})}))},52942:(e,t,a)=>{a.d(t,{$:()=>o,Q:()=>s});var r=a(59496),i=a(65286),l=a(33583),n=a(4637);const s=(0,r.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a LibrarySortProvider")},sortState:l.oT.ADDED_AT}),o=r.memo((function({uri:e,children:t,defaultSortOption:a}){return(0,n.jsx)(i.r,{uri:e,defaultState:a,sortContext:s,children:t})}))},33583:(e,t,a)=>{a.d(t,{Aq:()=>u,Bf:()=>S,EY:()=>p,G5:()=>h,JV:()=>b,MY:()=>o,Ru:()=>c,ZP:()=>D,a6:()=>g,aY:()=>x,e3:()=>T,ei:()=>s,o$:()=>d,oT:()=>n,pT:()=>y,rJ:()=>P,u3:()=>f,w0:()=>C});var r=a(25007),i=a(1253),l=a(1165);let n;!function(e){e.SHOW_ALPHABETICAL="SHOW_ALPHABETICAL",e.BOOK_ALPHABETICAL="BOOK_ALPHABETICAL",e.EPISODE_ALPHABETICAL="EPISODE_ALPHABETICAL",e.PLAYLIST_ALPHABETICAL="PLAYLIST_ALPHABETICAL",e.ALBUM_ALPHABETICAL="ALBUM_ALPHABETICAL",e.ADDED_AT="ADDED_AT",e.CREATOR_NAME="CREATOR_NAME",e.CREATOR_NAME_ALPHABETICAL="CREATOR_NAME_ALPHABETICAL",e.ALBUM_CREATOR_NAME="ALBUM_CREATOR_NAME",e.RECENTLY_PLAYED="RECENTLY_PLAYED",e.MOST_RELEVANT="MOST_RELEVANT",e.CUSTOM_ORDER="CUSTOM_ORDER"}(n||(n={}));const s={"show-alphabetical":n.SHOW_ALPHABETICAL,"book-alphabetical":n.BOOK_ALPHABETICAL,"episode-alphabetical":n.EPISODE_ALPHABETICAL,"playlist-alphabetical":n.PLAYLIST_ALPHABETICAL,"album-alphabetical":n.ALBUM_ALPHABETICAL,"recently-added":n.ADDED_AT,"creator-name":n.CREATOR_NAME,"creator-name-alphabetical":n.CREATOR_NAME_ALPHABETICAL,"album-creator-name":n.ALBUM_CREATOR_NAME,"recently-played":n.RECENTLY_PLAYED,"playlist-most-relevant":n.MOST_RELEVANT,"playlist-custom-order":n.CUSTOM_ORDER},o={[n.RECENTLY_PLAYED]:{key:"recently-played",get value(){return r.ag.get("collection.sort.recently-played")}},[n.ADDED_AT]:{key:"recently-added",get value(){return r.ag.get("collection.sort.recently-added")}},[n.SHOW_ALPHABETICAL]:{key:"show-alphabetical",get value(){return r.ag.get("collection.sort.alphabetical")}},[n.BOOK_ALPHABETICAL]:{key:"book-alphabetical",get value(){return r.ag.get("collection.sort.alphabetical")}},[n.EPISODE_ALPHABETICAL]:{key:"episode-alphabetical",get value(){return r.ag.get("collection.sort.alphabetical")}},[n.PLAYLIST_ALPHABETICAL]:{key:"playlist-alphabetical",get value(){return r.ag.get("collection.sort.alphabetical")}},[n.ALBUM_CREATOR_NAME]:{key:"album-creator-name",get value(){return r.ag.get("collection.sort.creator")}},[n.CREATOR_NAME]:{key:"creator-name",get value(){return r.ag.get("collection.sort.creator")}},[n.CREATOR_NAME_ALPHABETICAL]:{key:"creator-name-alphabetical",get value(){return r.ag.get("collection.sort.alphabetical")}},[n.ALBUM_ALPHABETICAL]:{key:"album-alphabetical",get value(){return r.ag.get("collection.sort.alphabetical")}},[n.MOST_RELEVANT]:{key:"playlist-most-relevant",get value(){return r.ag.get("collection.sort.most-relevant")}},[n.CUSTOM_ORDER]:{key:"playlist-custom-order",get value(){return r.ag.get("collection.sort.custom-order")}}},c=[n.ADDED_AT,n.ALBUM_ALPHABETICAL,n.CREATOR_NAME],A={[n.ADDED_AT]:{field:i.lY.ADDED_AT,order:i.As.DESC},[n.ALBUM_ALPHABETICAL]:{field:i.lY.NAME,order:i.As.ASC},[n.CREATOR_NAME]:{field:i.lY.ARTIST_NAME,order:i.As.ASC}};const u=e=>{if(function(e){return c.includes(e)}(e))return A[e]},d=[n.ADDED_AT,n.CREATOR_NAME_ALPHABETICAL],E={[n.ADDED_AT]:{field:i.hx.ADDED_AT,order:i.As.DESC},[n.CREATOR_NAME_ALPHABETICAL]:{field:i.hx.NAME,order:i.As.ASC}};const T=e=>{if(function(e){return d.includes(e)}(e))return E[e]},g=[n.ADDED_AT,n.SHOW_ALPHABETICAL],L={[n.ADDED_AT]:{field:i.aW.ADDED_AT,order:i.As.DESC},[n.SHOW_ALPHABETICAL]:{field:i.aW.NAME,order:i.As.ASC}};const p=e=>{if(function(e){return g.includes(e)}(e))return L[e]},D=[n.ADDED_AT,n.BOOK_ALPHABETICAL],m={[n.ADDED_AT]:i.VN.ADDED_AT,[n.BOOK_ALPHABETICAL]:i.VN.NAME};const h=e=>{if(function(e){return D.includes(e)}(e))return m[e]},C=[n.MOST_RELEVANT,n.RECENTLY_PLAYED,n.ADDED_AT,n.PLAYLIST_ALPHABETICAL,n.CUSTOM_ORDER],_={[n.ADDED_AT]:{field:l.bD.ADDED_AT,order:l.As.DESC},[n.RECENTLY_PLAYED]:{field:l.bD.RECENTLY_PLAYED,order:l.As.ASC},[n.PLAYLIST_ALPHABETICAL]:{field:l.bD.NAME,order:l.As.ASC},[n.MOST_RELEVANT]:{field:l.bD.RELEVANCE,order:l.As.DESC},[n.CUSTOM_ORDER]:void 0};const y=e=>{if(function(e){return C.includes(e)}(e))return _[e]},x=n.ADDED_AT,f=n.ADDED_AT,P=n.ADDED_AT,S=n.MOST_RELEVANT,b=n.ADDED_AT},30587:(e,t,a)=>{a.d(t,{h:()=>E});var r=a(59496),i=a(23266),l=a(66080),n=a(77003),s=a(69237),o=a(52942),c=a(33583),A=a(4637);const u=r.memo((function({sortOptions:e,onSort:t}){const{sortState:a,setSortState:i}=(0,r.useContext)(o.Q),l=(0,r.useCallback)((e=>{const a=c.ei[e];t?.(a),i(a)}),[t,i]),n=e.map((e=>c.MY[e])),u=c.MY[a];return(0,A.jsx)(s.A,{options:n,onSelect:l,selected:u})})),d="collection-searchBar-searchBar",E=r.memo((function({canSort:e,canFilter:t,filterPlaceholder:a,sortOptions:s}){const{spec:o,logger:c}=(0,n.fU)(i.createDesktopSearchBarEventFactory,{}),E=(0,r.useCallback)((()=>{c.logInteraction(o.filterFieldFactory().keyStrokeFilter())}),[c,o]),T=(0,r.useCallback)((()=>{c.logInteraction(o.filterFieldFactory().hitClearFilter())}),[c,o]),g=(0,r.useCallback)((()=>{c.logInteraction(o.sortButtonFactory().hitSort())}),[c,o]);return(0,A.jsxs)("div",{className:d,children:[t?(0,A.jsx)(r.Suspense,{fallback:null,children:(0,A.jsx)(l.K,{placeholder:a,onFilter:E,onClear:T})}):null,e?(0,A.jsx)(u,{sortOptions:s,onSort:g}):null]})}))},34818:(e,t,a)=>{a.d(t,{$:()=>r.$,Q:()=>r.Q});var r=a(52942)},9955:(e,t,a)=>{a.d(t,{Aq:()=>r.Aq,Bf:()=>r.Bf,EY:()=>r.EY,G5:()=>r.G5,JV:()=>r.JV,Ru:()=>r.Ru,ZP:()=>r.ZP,a6:()=>r.a6,aY:()=>r.aY,e3:()=>r.e3,o$:()=>r.o$,oT:()=>r.oT,pT:()=>r.pT,rJ:()=>r.rJ,u3:()=>r.u3,w0:()=>r.w0});var r=a(33583)},88672:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ae});var r=a(59496),i=a(27986),l=a(25007),n=a(63294),s=a(4763),o=a(88674),c=a(18824),A=a(34818),u=a(9955),d=a(31340),E=a(4608),T=a(87700),g=a(98082),L=a(78034),p=a(31716),D=a(58871),m=a(43543),h=a(53354),C=a(30587),_=a(66629),y=a(1253);const x={[y.yW.NAME]:o.hI.TITLE,[y.yW.SHOW_NAME]:o.hI.SHOW,[y.yW.ADDED_AT]:o.hI.ADDED_AT},f=[u.oT.ADDED_AT,u.oT.CREATOR_NAME,u.oT.EPISODE_ALPHABETICAL],P={[u.oT.ADDED_AT]:{field:y.yW.ADDED_AT,order:y.As.DESC},[u.oT.CREATOR_NAME]:{field:y.yW.SHOW_NAME,order:y.As.ASC},[u.oT.EPISODE_ALPHABETICAL]:{field:y.yW.NAME,order:y.As.ASC}},S=e=>{if(f.includes(e))return P[e]},b=e=>{if(!f.includes(e))return;const t=S(e);if(!t?.field)return;const a=x[t.field];if(!a)return;return o.Vd[a].map((e=>t.order?`${e} ${t.order}`:e)).join(",")},O="m9xwK71Ieq9cySIq4FAP",R="PkEMTu8sGqJeQWJ7HvEs",I="DbH2KkRA8yVWWpXGaNSW";var M=a(4637);const N=({metadata:e,canSort:t,backgroundColor:a,isPlaying:r,isOnline:i,togglePlay:n})=>{const s=(0,_.y)(),{uri:o,name:c}=e,A=e.totalLength>0;return(0,M.jsx)(m.o,{backgroundColor:a,children:(0,M.jsxs)(m.F,{children:[A&&(0,M.jsx)(h.$,{onClick:()=>n(),isPlaying:r,size:"lg",uri:o,disabled:!i,ariaPlayLabel:l.ag.get("playlist.a11y.play",c),ariaPauseLabel:l.ag.get("playlist.a11y.pause",c)}),t&&(0,M.jsx)("div",{className:I,children:(0,M.jsx)(C.h,{canSort:s.getCapabilities().canSort,canFilter:s.getCapabilities().canFilter,filterPlaceholder:l.ag.get("playlist.search_in_playlist"),sortOptions:f})})]})})};var k=a(30554),B=a(29009),j=a(89842),v=a(43181),H=a(21821),w=a(46871),U=a(25915),Y=a(72899),W=a(68001),F=a(38205),V=a(45462),$=a(86364),G=a(7209),K=a(48299),X=a(92910),q=a(43229),J=a(10094),Q=a(17754);const Z={small:64,standard:300,large:640,xlarge:1024},z=r.memo((function({index:e,contextUri:t,episode:a,onRemove:i,usePlayContextItem:l}){const n=(0,r.useRef)(a.duration.milliseconds-a.timeLeft.milliseconds),s=a.uri,[o,A]=(0,r.useState)(0===a.timeLeft.milliseconds),{filter:u}=(0,r.useContext)(c.fo),E=(0,Y.O1)(),T=(0,j.jh)(),L=(0,W.o)(),[p]=(0,_.Z)(s,!0),D=(0,Q.k)(a.uri,a.isPlayable),m=(0,d.k)(),h=(0,G.Y)((e=>{if(e?.item?.uri===a.uri){const t=(0,K.k)(e)??0;return n.current=t,t}return 0})),{isPlaying:C,isActive:y,togglePlay:x}=l({uri:s,index:e}),{isPlaying:f,isActive:P,togglePlay:S}=(0,g.n)({uri:s,pages:[{items:[{type:X.p.EPISODE,uri:s,uid:null,provider:null}]}]},{featureIdentifier:"your_library",referrerIdentifier:"your_library"});(0,r.useEffect)((()=>{p||i()}),[p,i]),(0,r.useEffect)((()=>{C||a.duration.milliseconds<=n.current&&A(!0)}),[C,a.duration.milliseconds]);const b=(0,r.useCallback)((e=>{e||(n.current=0),A(e)}),[]),O=(0,r.useCallback)((()=>{L({type:"click",targetUri:s,intent:"navigate"})}),[s,L]),R=(0,r.useCallback)((()=>{m?(L({type:"click",intent:C?"pause":"play"}),x()):(L({type:"click",intent:f?"pause":"play"}),S())}),[m,C,f,L,x,S]),I=(0,r.useCallback)((e=>(0,M.jsx)(J.o,{searchWords:[u],textToHighlight:e})),[u]),N=a.podcastSubscription?.isPaywalled??!1,k=a.podcastSubscription?.isUserSubscribed??!1,{badges:z}=(0,q.r)({isExplicit:a.isExplicit,isMOGEFRestricted:a.is19PlusOnly,isPaywalled:N});let ee=!1;return(y||!m&&P)&&(ee=!0),p?(0,M.jsx)(B.ZP,{value:"row",index:e,children:(0,M.jsx)(F._,{menu:(0,M.jsx)(v.k,{uri:s,showUri:a.show.uri,isPlayed:o,onMarkAsPlayed:b}),children:(0,M.jsx)(H.X,{requestId:a.requestId,index:e,uri:s,uid:s,size:T,images:a.images.map((e=>({url:e.url,width:e.width||(e.label?Z[e.label]:null),height:e.height||(e.label?Z[e.label]:null)}))),isPaywalled:N,isUserSubscribed:k,name:a.name,highlightText:I,showName:a.show.name,showUri:a.show.uri,description:a.description,isPlayable:D,fullyPlayed:o,durationMs:a.duration.milliseconds,releaseDate:a.release.date||"",resumePositionMs:n.current,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const r=`${a.name} â€¢ ${a.show.name}`;E(e,[s],r,t)},handlePlaybackClick:R,handleClick:O,isCurrentlyPlaying:ee,isPlaying:m?C:f,position:ee?h:void 0,episodeSharingInfo:null,onMarkAsPlayed:b,badges:(0,M.jsxs)(M.Fragment,{children:[z.explicit&&(0,M.jsx)(V.N,{}),z.paid&&(0,M.jsx)(U.g,{}),z.nineteen&&(0,M.jsx)($.X,{size:16})]}),playButtonWrapper:e=>(0,M.jsx)(w.l,{enabled:N&&!k,showUri:a.show.uri,children:e})})})}):null})),ee="p6DKqBcwmVtxmHt8ju43",te="_OxEpxzAgJiTENfolVUN",ae=r.memo((function({contextUri:e,usePlayContextItem:t}){const a=(0,r.useContext)(T.H),{sortState:i}=(0,r.useContext)(A.Q),[l,n]=(0,r.useState)({totalLength:0,unfilteredTotalLength:0,offset:0,items:[],limit:50}),s=(0,r.useRef)(!1),o=(0,r.useRef)(0),u=(0,r.useRef)(0),{filter:d}=(0,r.useContext)(c.fo),E=(0,r.useCallback)((()=>{u.current++}),[]),{ref:g,breakpoint:L}=(0,j.Db)({[j.Uo.MEDIUM]:0,[j.Uo.LARGE]:600}),p=(0,r.useCallback)(((e=!1)=>{const t=o.current;null!==t&&(s.current||(s.current=!0,(async e=>{const t=await a.getEpisodes({offset:e-u.current,limit:50,sort:S(i),filter:d});return u.current=0,t})(Number(t)).then((a=>{n((r=>{const i=Number(a.offset)+a.items.length,l=e?[]:[...r.items];return l.splice(Number(t),a.items.length,...a.items),o.current=i<a.totalLength?i:null,{...a,items:l}})),s.current=!1}))))}),[d,a,i]);return(0,r.useEffect)((()=>{o.current=0,p(!0)}),[p]),(0,M.jsx)(j.ZU.Provider,{value:L,children:(0,M.jsx)(B.ZP,{value:"track-list",children:(0,M.jsx)("div",{ref:g,children:(0,M.jsx)(k.C,{onReachBottom:p,triggerOnInitialLoad:!0,children:l.items.map(((a,r)=>(0,M.jsxs)("div",{className:te,children:[(0,M.jsx)("hr",{className:ee,"aria-hidden":!0}),(0,M.jsx)(z,{index:r,episode:a,contextUri:e,onRemove:E,usePlayContextItem:t},`${a.uri}/${r}`)]},`${r}${a.uri}`)))})})})})}));var re=a(91393),ie=a(68415),le=a(21855),ne=a(45953),se=a(38753);const oe=({metadata:e,backgroundColor:t,isPlaying:a,isOnline:i,togglePlay:n})=>{const{uri:s,name:o,images:c,totalLength:A,owner:u}=e,d=(0,r.useMemo)((()=>({id:u.username,uri:u.uri,name:u.username,displayName:u.displayName||void 0,images:u.images||[]})),[u]);return(0,M.jsxs)(re.gF,{backgroundColor:t,children:[(0,M.jsxs)(ie.W,{children:[(0,M.jsx)(h.$,{size:"md",onClick:()=>n(),isPlaying:a,uri:s,disabled:!i,ariaPlayLabel:l.ag.get("playlist.a11y.play",o),ariaPauseLabel:l.ag.get("playlist.a11y.pause",o)}),(0,M.jsx)(le.i,{text:o})]}),(0,M.jsx)(re.Oz,{images:c,name:o,shape:ne.K.ROUNDED_CORNERS,renderImage:()=>(0,M.jsx)(se.$,{})}),(0,M.jsxs)(re.sP,{children:[(0,M.jsx)(re.dy,{small:!0,uppercase:!0,children:l.ag.get("playlist")}),(0,M.jsx)(re.xd,{canEdit:!1,onClick:()=>{},children:o}),(0,M.jsx)(re.QS,{creators:[d],totalEpisodes:A})]})]})},ce=({metadata:e,canSort:t})=>{const a=(0,E.Y5)("#006450"),s=(0,d.k)(),{sortState:u}=(0,r.useContext)(A.Q),{filter:T}=(0,r.useContext)(c.fo),{isPlaying:D,togglePlay:m,usePlayContextItem:h}=(0,g.n)({uri:e.uri,metadata:{[L.sb.SORTING_CRITERIA]:b(u),[L.sb.FILTERING_PREDICATE]:(0,o.aK)(T)}},{featureIdentifier:"your_library",referrerIdentifier:"your_library"});return(0,M.jsxs)("section",{className:R,"data-testid":"your-episodes-page",children:[(0,M.jsx)(p.$,{children:l.ag.get("sidebar.your_episodes")}),(0,M.jsx)(oe,{metadata:e,backgroundColor:a,isPlaying:D,isOnline:s,togglePlay:m}),(0,M.jsxs)("div",{className:O,children:[(0,M.jsx)(N,{metadata:e,backgroundColor:a,isPlaying:D,isOnline:s,togglePlay:m,canSort:t}),(0,M.jsx)("div",{className:"contentSpacing",children:e.totalLength>0?(0,M.jsx)(ae,{contextUri:e.uri,usePlayContextItem:h}):(0,M.jsx)(n.u,{message:l.ag.get("collection.empty-page.episodes-subtitle"),title:l.ag.get("collection.empty-page.episodes-title"),linkTo:"/genre/podcasts-web",linkTitle:l.ag.get("collection.empty-page.shows-cta"),renderInline:!0,children:(0,M.jsx)(i.G,{"aria-hidden":"true"})})})]})]})},Ae=(0,r.memo)((function(){const e=(0,r.useContext)(T.H).getCapabilities(),t=(0,D.x)();return t?(0,M.jsx)(A.$,{uri:t.uri,defaultSortOption:u.oT.ADDED_AT,children:(0,M.jsx)(c.hz,{uri:t.uri,children:(0,M.jsx)(ce,{metadata:t,canSort:e.canSortTracksAndEpisodes&&t.totalLength>0})})}):(0,M.jsx)(s.h,{hasError:!1,errorMessage:l.ag.get("error.not_found.title.page"),loadOffline:e.canModifyOffline})}))},83719:(e,t,a)=>{a.d(t,{e:()=>E});var r=a(65297);const i="(min-width: 0px)",l="(min-width: 0px) and (max-width: 767px)",n="(min-width: 768px)",s="(min-width: 768px) and (max-width: 1023px)",o="(min-width: 1024px)",c="(min-width: 1024px) and (max-width: 1279px)",A="(min-width: 1280px)",u="(min-width: 1280px) and (max-width: 1919px)",d="(min-width: 1920px)",E=()=>({isXS:(0,r.a)(i),isXSOnly:(0,r.a)(l),isSM:(0,r.a)(n),isSMOnly:(0,r.a)(s),isMD:(0,r.a)(o),isMDOnly:(0,r.a)(c),isLG:(0,r.a)(A),isLGOnly:(0,r.a)(u),isXL:(0,r.a)(d)})}}]);
//# sourceMappingURL=xpui-routes-collection-episodes.js.map