"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[3727],{22578:(e,t,n)=>{n.d(t,{$:()=>d});n(26699),n(32023),n(69600),n(68309),n(21249);var a=n(67294),i=n(64593),r=n(96206),l=n(69691),u=n(8341),o=n(89952),c=n(51615),s=n(24183);function m(e){return e.includes("Spotify")?e:"Spotify – ".concat(e)}var d=function(e){var t,n,d,E,v,g,f,p=e.children,y=e.usePlayingItem,x=m(p);t=p,E=(0,s.Oh)().mainLandmarkRef,v=(0,c.k6)(),g=null===(n=v.location)||void 0===n||null===(d=n.state)||void 0===d?void 0:d.preventMoveFocus,(f=(0,a.useRef)(v.length<2)).current=v.length<2,(0,a.useEffect)((function(){var e=E.current;!g&&!f.current&&e&&t&&(e.setAttribute("aria-label",t),e.focus())}),[t,E,g]);var b=(0,l.IK)().isPlaying,h=(0,u.Y)((function(e){return null==e?void 0:e.item}));return h&&(b||y)&&((0,o.G_)(h)?x=[h.name,h.artists.map((function(e){return e.name})).join(r.ag.getSeparator())].join(" • "):(0,o.iw)(h)?x=[h.name,h.show.name].join(" • "):(0,o.k6)(h)&&(x=m(r.ag.get("ad-formats.advertisement")))),a.createElement(i.q,{defaultTitle:"Spotify",defer:!1},a.createElement("title",null,x))}},70369:(e,t,n)=>{n.d(t,{$:()=>a.$});var a=n(22578)},69376:(e,t,n)=>{n.d(t,{n:()=>T});var a=n(4942),i=n(29439),r=(n(69826),n(41539),n(91038),n(78783),n(21249),n(85827),n(47042),n(89554),n(54747),n(57327),n(26699),n(32023),n(67294)),l=n(94184),u=n.n(l),o=n(51615),c=n(32667),s=n(34142),m=n(47921),d=n(96206),E=n(24697),v=n(32648),g=n(85951);var f=n(32626),p=n(43031),y=n(30005),x=n(21691);const b="main-topBar-contentArea",h="muYk5XIwKmqR9iNibk_f",k="queue-tabBar-headerItem",C="queue-tabBar-moreButton",N="queue-tabBar-moreButtonActive",P="yxf_6IsQEmHjijEBUMTP",I="queue-tabBar-active",w="queue-tabBar-headerItemLink",U="queue-tabBar-header",A="queue-tabBar-chevron";var R=function(e){var t=e.items,n=e.activeItemId;return r.createElement(y.v,null,t.map((function(e){return e.disabled?r.createElement(x.s,{key:e.uri,disabled:!0,role:"menuitemradio",className:P,onClick:e.handleClick},e.title):r.createElement(x.s,{key:e.uri,role:"menuitemradio",to:e.to,exact:!0,"aria-checked":e.itemId===n,className:P,activeClassName:I,onClick:e.handleClick},e.title)})))},T=r.memo((function(e){var t,n=e.isCentered,l=e.links,y=e.landmarkLabel,x=e.className,P=(0,r.useRef)(null),T=(0,r.useState)([]),D=(0,i.Z)(T,2),O=D[0],S=D[1],q=(0,r.useState)(0),L=(0,i.Z)(q,2),_=L[0],M=L[1],Q=(0,r.useState)([]),F=(0,i.Z)(Q,2),B=F[0],G=F[1],Z=null!==(t=function(){var e=(0,r.useState)(window.innerWidth),t=(0,i.Z)(e,2),n=t[0],a=t[1],l=(0,r.useContext)(v.VX).scrollNodeChildRef,u=(0,E.y1)((function(e){null!=e&&e.width&&a(e.width)}),250);return(0,g.y)({refOrElement:l,observeOnly:"width",onResize:u}),n}())&&void 0!==t?t:1/0,W=(0,o.TH)().pathname,K=l.find((function(e){return e.to===W}));return(0,r.useEffect)((function(){P.current&&M(P.current.clientWidth)}),[Z]),(0,r.useEffect)((function(){if(P.current){var e=Array.from(P.current.children).map((function(e){return e.clientWidth}));S(e)}}),[l]),(0,r.useEffect)((function(){if(P.current)if(O.slice(0,-1).reduce((function(e,t){return e+t}),0)<=_)G([]);else{var e=O.reduce((function(e,t){return e>t?e:t}),0),t=[],n=e;O.forEach((function(e,a){_>=n+e?n+=e:t.push(a)})),G(t)}}),[_,O]),r.createElement("nav",{className:u()(x,b),"aria-label":y},r.createElement("ul",{className:n?h:U,ref:P},l.filter((function(e,t){return!B.includes(t)})).map((function(e){var t;return(null!==(t=null==e?void 0:e.render)&&void 0!==t?t:function(e){return e})(r.createElement("li",{key:e.to,className:k},e.disabled?r.createElement("div",{className:w},r.createElement(c.D,{variant:"mestoBold"},e.title)):r.createElement(p.O,{exact:!0,className:w,activeClassName:I,to:e.to,onClick:e.handleClick},r.createElement(c.D,{variant:"mestoBold"},e.title))))})),B.length||0===O.length?r.createElement("li",{className:k},r.createElement(f.xV,{renderInline:!0,menu:r.createElement(R,{items:l.filter((function(e,t){return B.includes(t)})),activeItemId:null==K?void 0:K.itemId})},(function(e,t,n){return r.createElement("button",{className:u()(C,(0,a.Z)({},N,K)),type:"button",onClick:t,ref:n},r.createElement(c.D,{variant:"mestoBold"},K?K.title:d.ag.get("more")),e?r.createElement(s.U,{iconSize:16,className:A,"aria-hidden":"true"}):r.createElement(m.i,{iconSize:16,className:A,"aria-hidden":"true"}))}))):null))}))},32594:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Qe});var a=n(67294),i=n(73305),r=n(74414),l=n(26700),u=n(96335),o=n(68960),c=n(32667),s=n(96206),m=n(22141);const d="gTvMl6pwfRD9PobMSB5x",E="hNAQG0TAe2WFYyf_iZEB",v="Zhzrb2k9nQRActS2lp4U";var g=function(){return a.createElement("div",{className:d},a.createElement(m.Y,{iconSize:64,"aria-hidden":"true"}),a.createElement(c.D,{as:"h1",variant:"alto",semanticColor:"textBase",className:E},s.ag.get("history.empty-title")),a.createElement("p",null,s.ag.get("history.empty-description")))},f=(n(68309),n(28248)),p=n(47991),y=n(42922),x=n(89952),b=n(42781),h=n(38470),k=n(49961),C=(n(69600),n(21249),n(69518)),N=n.n(C),P=n(25988),I=n(26921),w=n(88214),U=n(21509),A=n(94107),R=n(82760),T=n(18261),D=n(85576),O=n(87257),S=n(57978),q=n(19986),L=n(84242),_=n(84788),M=n(22345),Q=n(43028),F=a.memo((function(e){var t,n,i,r,l=e.uri,u=e.name,o=e.duration_ms,c=e.index,m=e.imgUrl,d=e.artists,E=e.album,v=e.isExplicit,g=e.isMOGEFRestricted,f=e.type,p=(0,L.n)({uri:l},{featureIdentifier:"history"}),x=p.isActive,h=p.isPlaying,k=p.triggerPlay,C=p.togglePlay,F=f===b.p.TRACK,B=f===b.p.EPISODE,G=f===b.p.CHAPTER,Z=(0,q._)(l),W=(0,Q.k)(l),K=(0,_.r)({downloadAvailability:Z,isExplicit:v,isMOGEFRestricted:g}),z=K.badges,H=K.hasBadges,$=(null==d?void 0:d.map((function(e){return e.name})).join(s.ag.getSeparator()))||"";return B?r=a.createElement(P.k,{uri:l,contextUri:l,showUri:E.uri}):G?r=a.createElement(M.r,{uri:l,contextUri:l,showUri:E.uri}):F&&N().isLocalTrack(l)?r=a.createElement(I.N,{uri:l,contextUri:l}):F&&(r=a.createElement(w.$,{uri:l,contextUri:l,albumUri:E.uri,artists:d})),a.createElement(y.ZP,{value:"row",index:c},a.createElement(T._,{menu:r},a.createElement(R.c,{uri:l,contextUri:l,index:c,ariaRowIndex:c,onTriggerPlay:function(){k()},isActive:x,isPlayable:W,ageRestricted:g,dragMetadata:{name:u,createdBy:$}},a.createElement(U.vZ,{ariaColIndex:0},a.createElement(U.VG,{uri:l,src:m,isPlaying:h,isActive:x,isLocked:!1,onClick:function(){C()},isEpisode:N().isEpisode(l),playAriaLabel:s.ag.get("tracklist.a11y.play",u,$)}),a.createElement(U.vm,null,a.createElement(U.Wh,{titleText:u},u),H&&a.createElement(U.g3,null,z.download&&a.createElement(D.G,{size:16}),z.explicit&&a.createElement(O.N,null),z.nineteen&&a.createElement(S.X,{className:A.Z.nineteen,size:16})),a.createElement(U.K9,null,N().isTrack(l)?a.createElement(U.T6,{artists:d}):null!==(t=null===(n=d[0])||void 0===n?void 0:n.name)&&void 0!==t?t:""))),a.createElement(U.UA,{ariaColIndex:2},a.createElement(U.BM,{nonInteractive:N().isLocalTrack(l),uri:E.uri,name:E.name,creatorUri:null==d||null===(i=d[0])||void 0===i?void 0:i.uri},E.name)),a.createElement(U.mU,{ariaColIndex:1},!N().isLocalTrack(l)&&a.createElement(U.qS,{uri:l,type:f}),a.createElement(U.A$,{duration:o}),a.createElement(U.Zv,{menu:r,label:s.ag.get("more.label.track",u,$)})))))}),(function(e,t){return e.uri===t.uri})),B=a.memo((function(e){var t=e.items,n=(0,a.useCallback)((function(e,t){var n,i,r,l,u,o=(0,k.X)(null!==(n=e.images)&&void 0!==n?n:[],{desiredSize:40});return(0,x.G_)(e)?e.isLocal?a.createElement(F,{key:t+e.uri,index:t,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:(null==o?void 0:o.url)||"",album:e.album,artists:e.artists,isExplicit:null!==(l=e.isExplicit)&&void 0!==l&&l,isMOGEFRestricted:null!==(u=e.is19PlusOnly)&&void 0!==u&&u,type:b.p.TRACK}):a.createElement(F,{key:t+e.uri,index:t,uri:(0,p.$)(e),name:e.name,duration_ms:e.duration.milliseconds,imgUrl:(null==o?void 0:o.url)||"",album:e.album,artists:e.artists,isExplicit:null!==(i=e.isExplicit)&&void 0!==i&&i,isMOGEFRestricted:null!==(r=e.is19PlusOnly)&&void 0!==r&&r,type:b.p.TRACK}):(0,x.iw)(e)?a.createElement(F,{key:t+e.uri,index:t,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:(null==o?void 0:o.url)||"",album:e.show,artists:[],isExplicit:!1,isMOGEFRestricted:!1,type:b.p.EPISODE}):(0,x.G7)(e)?a.createElement(F,{key:t+e.uri,index:t,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:(null==o?void 0:o.url)||"",album:e.book,artists:[],isExplicit:!1,isMOGEFRestricted:!1,type:b.p.CHAPTER}):((0,x.k6)(e)||(0,x.RB)(e)||(0,h._)(e),a.createElement(f.hU,{height:"".concat(f.dN,"px")}))}),[]),i=(0,a.useMemo)((function(){return[f.QD.TITLE,f.QD.ALBUM_OR_PODCAST,f.QD.DURATION]}),[]),r=(0,a.useCallback)((function(e){return e.uri}),[]);return a.createElement(a.Fragment,null,a.createElement(y.ZP,{value:"play-history-tracklist"},a.createElement(f.Pv,{ariaLabel:"play-history",hasHeaderRow:!0,columns:i,renderRow:n,resolveUri:r,tracks:t,nrTracks:t.length,rowPlaceholder:f.hU,limit:50})))}));const G="dt3fysZYdQ6hhWfpmjAu",Z="n6LsTkKvpO88xeRyRTdw";var W=function(){var e=(0,u.U5)();return e&&e.items.length>0?a.createElement("div",{className:G},a.createElement(c.D,{as:"h1",variant:"canon",semanticColor:"textBase",className:Z},s.ag.get("view.recently-played")),a.createElement(B,{items:e.items})):a.createElement(g,null)},K=n(15861),z=n(29439),H=n(87757),$=n.n(H),X=(n(82526),n(41817),n(57327),n(41539),n(94184)),Y=n.n(X),j=n(56081),V=n(70369),J=n(67892),ee=n(23716),te=n(34891),ne=n(86081);var ae=n(14472),ie=n(15852),re=n(74257),le=function(e){var t=e.onClick;return a.createElement(re.P,{onClick:t,buttonSize:"sm"},s.ag.get("queue.clear-queue"))},ue=n(73012),oe=n(86025),ce=n(34011),se=(n(31143),n(84465));const me="i9rTNwKyT_NMDghd8q65",de="DXBMXJD8Zoj4V8MxIVTB",Ee="UEtqSfWDubkNdPIaEkfA",ve="I_Rc74Je7W4sk6KAVR05";var ge,fe=a.memo((function(e){var t=e.onClose,n=e.onConfirm,i=e.isOpen,r=e.itemCount,l=(0,a.useCallback)((function(e){n(),t(e)}),[n,t]),u=s.ag.get("queue.confirm-title",r);return a.createElement(se.Z,{shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:t,contentLabel:u,isOpen:i},a.createElement("div",{className:me},a.createElement(c.D,{as:"h2",variant:"cello",className:de},u),a.createElement(c.D,{as:"p",variant:"mesto",className:Ee,paddingBottom:ue.g4V},s.ag.get("queue.confirm-message")),a.createElement("div",{className:Y()("encore-light-theme",ve)},a.createElement(oe.o,{onClick:t},s.ag.get("queue.cancel-button")),a.createElement(ce.D,{onClick:l},s.ag.get("queue.confirm-button")))))})),pe=n(73727),ye=n(15935),xe=function(){return a.createElement("div",{className:d},a.createElement(ye.S,{iconSize:64,"aria-hidden":"true"}),a.createElement(c.D,{as:"h1",variant:"alto",semanticColor:"textBase",className:E},s.ag.get("queue.empty-title")),a.createElement("p",null,s.ag.get("queue.empty-description")),a.createElement(pe.OL,{to:"/search",className:v},a.createElement(ce.D,{colorSet:"invertedLight"},s.ag.get("queue.fine-something"))))};!function(e){e[e.NowPlaying=0]="NowPlaying",e[e.NextInQueue=1]="NextInQueue",e[e.NextUp=2]="NextUp"}(ge||(ge={}));n(92222);var be,he=n(56802),ke=n(74548),Ce=n(1848),Ne=n(57784),Pe=n(69691);!function(e){e.TRACK="track",e.EPISODE="episode",e.CHAPTER="chapter",e.LOCAL="local",e.AD="ad"}(be||(be={}));var Ie=a.memo((function(e){var t,n,i=e.uri,r=e.uid,l=e.contextUri,u=e.name,o=e.duration_ms,c=e.artists,m=e.index,d=e.rowNumberOffset,E=e.imgUrl,v=e.isExplicit,g=e.isPlayable,f=e.isMOGEFRestricted,p=e.album,x=e.type,b=e.section,h=e.usePlayContextItem,k=e.isAutoPlay,C=void 0!==k&&k,L=e.isEnhanced,F=e.queueSpec,B=(0,ie.$P)(),G=(0,ee.g)(),Z=h({uid:r,uri:i,index:m}),W=Z.triggerPlay,K=Z.togglePlay,z=(0,ie.fU)(Ce.createDesktopTrackListRowEventFactory,{data:{position:m,reason:"",uri:i}}).spec,H=(0,Pe.$o)(i),$=H.isActive,X=H.isPlaying,Y=(0,a.useCallback)((function(e,t){r?W({loggingParams:t},(function(){return G.skipToNext({uri:i,uid:r})})):W({loggingParams:t})}),[G,W,i,r]),j=(0,a.useCallback)((function(e){r?K({loggingParams:e},(function(){return $?X?G.pause():G.resume():G.skipToNext({uri:i,uid:r})})):K({loggingParams:e})}),[G,K,i,r,$,X]),V=x===be.TRACK,J=x===be.EPISODE,te=x===be.CHAPTER,ne=J&&"video"===(null==p?void 0:p.mediaType),ae=x===be.LOCAL,re=x===be.AD,le=(null==c?void 0:c.map((function(e){return e.name})).join(s.ag.getSeparator()))||"",ue=(0,q._)(i),oe=(0,Q.k)(i,g,N().isLocalTrack(i)),ce=(0,_.r)({downloadAvailability:ue,isExplicit:v,isMOGEFRestricted:f,isEnhanced:L}),se=ce.badges,me=ce.hasBadges;n=J?a.createElement(P.k,{uri:i,uid:C?void 0:r,showUri:p.uri,contextUri:l}):te?a.createElement(M.r,{uri:i,uid:C?void 0:r,showUri:p.uri,contextUri:l}):ae?a.createElement(I.N,{uri:i,uid:C?void 0:r,contextUri:l}):re?null:a.createElement(w.$,{uri:i,uid:C?void 0:r,albumUri:p.uri,artists:c,contextUri:l});var de=(0,a.useCallback)((function(e,t){var n,a=e.meta,l=e.uris.map((function(e){return{uri:e,uid:null}}));n=t===R.W.Before?{before:{uri:i,uid:null!=r?r:null}}:{after:{uri:i,uid:null!=r?r:null}},a.section===ge.NowPlaying?G.addToQueue(l):a.origin===ge.NowPlaying?G.insertIntoQueue(l,n):G.reorderQueue(l,n)}),[G,r,i]),Ee=(0,a.useCallback)((function(e,t){var n,a=e.uids.map((function(e){return{uri:"",uid:e}}));n=t===R.W.Before?{before:{uri:i,uid:null!=r?r:null}}:{after:{uri:i,uid:null!=r?r:null}},G.reorderQueue(a,n)}),[G,r,i]),ve=C?[]:[Ne.aN[N().Type.TRACK],Ne.aN[N().Type.EPISODE]];return a.createElement(y.ZP,{value:"row",index:m},a.createElement(T._,{menu:n},a.createElement(R.c,{uri:i,contextUri:l,index:m,onTriggerPlay:Y,isActive:b===ge.NowPlaying&&$,ariaRowIndex:m,isPlayable:oe,ageRestricted:f,spec:z,dragMetadata:{name:u,createdBy:le,sectionId:b},onInsert:function(e,t,n,a,r){de({uris:e,dropIndex:t,meta:r},n),F&&B.logInteraction(F.dragAddItemToQueue({itemToAddToQueue:i}))},onMove:function(e,t,n,a){Ee({uids:e,dropIndex:t,meta:a},n),F&&B.logInteraction(F.dragSort())},allowedDropTypes:ve},a.createElement(U.Dd,{ariaColIndex:0},a.createElement(U.Du,{uri:i,playAriaLabel:s.ag.get("tracklist.a11y.play",u,le),isPlaying:b===ge.NowPlaying&&X,isActive:b===ge.NowPlaying&&$,spec:z,onClick:function(e,t){j(t)}},a.createElement(U.km,null,m+d+1))),a.createElement(U.vZ,{ariaColIndex:1},a.createElement(U.lD,{src:E,isVideo:ne,isEpisode:J||te}),a.createElement(U.vm,null,a.createElement(U.Wh,{titleText:u},u),me&&a.createElement(U.g3,null,se.enhanced&&a.createElement(ke._,{iconSize:16,className:A.Z.enhanced,title:s.ag.get("web-player.enhance.button_text_enhanced"),"aria-label":s.ag.get("web-player.enhance.button_text_enhanced")}),se.download&&a.createElement(D.G,{size:16}),se.explicit&&a.createElement(O.N,null),se.nineteen&&a.createElement(S.X,{className:A.Z.nineteen,size:16})),a.createElement(U.K9,null,V&&a.createElement(U.T6,{artists:c,spec:z}),(J||ae)&&!ne&&le))),a.createElement(U.UA,{ariaColIndex:2},a.createElement(U.BM,{nonInteractive:ae,uri:p.uri,name:p.name,creatorUri:null==c||null===(t=c[0])||void 0===t?void 0:t.uri,spec:z},p.name)),a.createElement(U.mU,{ariaColIndex:3},!ae&&!te&&a.createElement(U.qS,{uri:i,type:x}),a.createElement(U.A$,{duration:o}),a.createElement(U.Zv,{menu:n,label:s.ag.get("more.label.track",u,le),spec:z})))))}),(function(e,t){return e.uri===t.uri&&e.index===t.index&&e.name===t.name})),we=a.memo((function(e){var t=e.tracks,n=e.ariaLabel,i=e.contextUri,r=e.rowNumberOffset,l=void 0===r?0:r,u=e.section,o=e.usePlayContextItem,c=(0,he.o)(),m=(0,ee.g)(),d=(0,a.useCallback)((function(e,t){c({intent:"remove-from-queue",type:"click"}),m.removeFromQueue(e.map((function(e){return{uid:e.id,uri:e.uri}}))).then(t)}),[m,c]),E=(0,a.useCallback)((function(e,t){if((0,x.iw)(e)){var n,r,c=(0,k.X)(null===(n=e.show)||void 0===n?void 0:n.images,{desiredSize:40});return a.createElement(Ie,{key:"".concat(t).concat(l).concat(e.uid),index:t,rowNumberOffset:l,imgUrl:(null==c?void 0:c.url)||"",uri:(0,p.$)(e),uid:null!==(r=e.uid)&&void 0!==r?r:e.uri,contextUri:i,duration_ms:e.duration.milliseconds,name:e.name,artists:[],album:{name:e.show.name,uri:e.show.uri},isExplicit:!1,isPlayable:!0,isMOGEFRestricted:!1,type:be.EPISODE,section:u,usePlayContextItem:o,isAutoPlay:"autoplay"===e.provider})}if((0,x.G7)(e)){var m,d=(0,k.X)(e.images||void 0,{desiredSize:40});return a.createElement(Ie,{key:"".concat(t).concat(l).concat(e.uid),index:t,rowNumberOffset:l,imgUrl:(null==d?void 0:d.url)||"",uri:(0,p.$)(e),uid:null!==(m=e.uid)&&void 0!==m?m:e.uri,contextUri:i,duration_ms:e.duration.milliseconds,name:e.name,artists:[],album:{name:e.book.name,uri:e.book.uri},isExplicit:!1,isPlayable:!0,isMOGEFRestricted:!1,type:be.CHAPTER,section:u,usePlayContextItem:o,isAutoPlay:"autoplay"===e.provider})}if((0,x.k6)(e)){var E,v,g,y=(0,k.X)(e.images||void 0,{desiredSize:40});return a.createElement(Ie,{key:"".concat(t).concat(l).concat(e.uid),index:t,rowNumberOffset:l,imgUrl:(null==y?void 0:y.url)||"",uri:e.uri,uid:null!==(E=e.uid)&&void 0!==E?E:e.uri,contextUri:i,duration_ms:e.duration.milliseconds,name:null!==(v=null!==(g=e.advertiser)&&void 0!==g?g:e.title)&&void 0!==v?v:s.ag.get("ad-formats.advertisement"),artists:[],album:{name:"",uri:""},isExplicit:!1,isPlayable:!0,isMOGEFRestricted:!1,type:be.AD,section:u,usePlayContextItem:o,isAutoPlay:"autoplay"===e.provider,isEnhanced:!1})}if((0,x.G_)(e)||(0,x.RB)(e)){var h,C,N,P,I,w=(0,k.X)(null==e||null===(h=e.album)||void 0===h?void 0:h.images,{desiredSize:40}),U=e.type===b.p.TRACK?e:null;return a.createElement(Ie,{key:"".concat(t).concat(l).concat(e.uid),index:t,rowNumberOffset:l,imgUrl:(null==w?void 0:w.url)||"",uri:(0,p.$)(e),uid:null!==(C=e.uid)&&void 0!==C?C:e.uri,contextUri:i,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,album:e.album,isExplicit:null!==(N=null==U?void 0:U.isExplicit)&&void 0!==N&&N,isPlayable:!0,isMOGEFRestricted:null!==(P=null==U?void 0:U.is19PlusOnly)&&void 0!==P&&P,type:null!=U&&U.isLocal?be.LOCAL:be.TRACK,section:u,usePlayContextItem:o,isAutoPlay:"autoplay"===e.provider,isEnhanced:"enhanced_recommendation"===(null===(I=e.metadata)||void 0===I?void 0:I.provider)})}return a.createElement(f.Lb,{height:"".concat(f.dN,"px")})}),[l,i,u,o]),v=(0,a.useMemo)((function(){return[f.QD.INDEX,f.QD.TITLE,f.QD.ALBUM,f.QD.DURATION]}),[]),g=(0,a.useCallback)((function(e){return e.uri}),[]),y=(0,a.useCallback)((function(e){var t;return null!==(t=e.uid)&&void 0!==t?t:e.uri}),[]);return a.createElement(f.Pv,{ariaLabel:n,tracks:t,nrTracks:t.length,onRemove:d,renderRow:E,resolveUri:g,resolveUid:y,columns:v})}));const Ue="rHpv7osDRvs3SUPMpQ_g",Ae="DG9CsoFIptJhAneKoo_F",Re="jf2HafzDEI9jn7Yo05eM",Te="H3Puuvc2nV0GoZRrfpRS",De="HckHyQocDDePWQL2baOY";var Oe=function(){var e=(0,ae.$)(),t=e.uri,n=e.description,r=(0,ie.fU)(j.createDesktopNowPlayingQueueEventFactory,{data:{identifier:i.Wg.NOWPLAYING_QUEUE,uri:null!=t?t:""}}),l=r.spec,u=r.logger,o=r.UBIFragment,m=(0,a.useMemo)((function(){return l.nowPlayingSectionFactory()}),[l]),d=(0,a.useMemo)((function(){return l.nextInQueueSectionFactory()}),[l]),E=(0,a.useMemo)((function(){return l.nextFromSectionFactory()}),[l]),v=(0,ee.g)(),g=function(){var e=(0,ee.g)(),t=(0,a.useState)(e.getQueue()),n=(0,z.Z)(t,2),i=n[0],r=n[1];return(0,ne.G)(te.rg.QUEUE_UPDATE,(function(e){return r(e.data)})),i}(),f=g.current,p=g.nextUp,x=g.queued,b=(0,a.useState)(!1),h=(0,z.Z)(b,2),k=h[0],C=h[1],N=(0,a.useCallback)((function(){C(!1)}),[C]),P=(0,a.useCallback)((function(){v.clearQueue(),C(!1)}),[v]),I=(0,a.useCallback)((0,K.Z)($().mark((function e(){var t,n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=d.clearQueueButtonFactory(),x.length>0&&(t=n.hitRemoveItemsFromQueue({numberOfItemsToRemoveFromQueue:x.length}),u.logInteraction(t)),C(!0);case 3:case"end":return e.stop()}}),e)}))),[u,d,x]),w=(0,L.n)({uri:null!=t?t:""},{featureIdentifier:"queue"}).usePlayContextItem,U="autoplay"===(null==f?void 0:f.provider),A=p.filter((function(e){return U?e:"autoplay"!==e.provider})),R=!(null==x||!x.length),T=!(null==A||!A.length),D=!1===(f||R||T),O=(0,a.useCallback)((0,K.Z)($().mark((function e(){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T){e.next=2;break}return e.abrupt("return");case 2:n=l.nextFromSectionFactory().queueContextLinkFactory().hitUiNavigate({destination:null!=t?t:""}),u.logInteraction(n);case 4:case"end":return e.stop()}}),e)}))),[T,u,l,t]);return D?a.createElement(xe,null):a.createElement("div",{className:Ue},a.createElement(V.$,null,s.ag.get("queue.page-title")),a.createElement(c.D,{as:"h1",variant:"canon",semanticColor:"textBase",className:Ae},s.ag.get("playback-control.queue")),f&&t&&a.createElement(a.Fragment,null,a.createElement(c.D,{as:"h2",variant:"balladBold",semanticColor:"textSubdued"},s.ag.get("queue.now-playing")),a.createElement(o,{spec:m},a.createElement(y.ZP,{value:"now-playing"},a.createElement(we,{ariaLabel:s.ag.get("queue.now-playing"),tracks:[f],contextUri:t,section:ge.NowPlaying,usePlayContextItem:w})))),R&&t&&a.createElement(a.Fragment,null,a.createElement("div",{className:Y()(De,Re)},a.createElement(c.D,{as:"h2",variant:"balladBold",semanticColor:"textSubdued"},s.ag.get("queue.next-in-queue")),R&&a.createElement(le,{onClick:I})),a.createElement(o,{spec:d},a.createElement(y.ZP,{value:"next-in-queue"},a.createElement(we,{ariaLabel:s.ag.get("queue.next-in-queue"),tracks:x,rowNumberOffset:1,contextUri:"spotify:app:queue:NextInQueue",section:ge.NextInQueue,usePlayContextItem:w})))),T&&t&&a.createElement(a.Fragment,null,a.createElement(c.D,{as:"h2",variant:"balladBold",semanticColor:"textSubdued",className:Y()(Re,"standalone-ellipsis-one-line")},n&&!U?a.createElement(a.Fragment,null,s.ag.get("queue.next-from")," ",a.createElement(J.r,{className:Te,to:t,onClick:O},n)):s.ag.get("queue.next-up")),a.createElement(o,{spec:E},a.createElement(y.ZP,{value:"next-up"},a.createElement(we,{ariaLabel:s.ag.get("queue.next-up"),tracks:A,rowNumberOffset:1+((null==x?void 0:x.length)||0),contextUri:"spotify:app:queue:NextUp",section:ge.NextUp,usePlayContextItem:w})))),a.createElement(fe,{itemCount:(null==x?void 0:x.length)||0,isOpen:k,onClose:N,onConfirm:P}))},Se=n(69376),qe=n(28638),Le=n(63138);const _e="queue-tabBar-nav";var Me=function(){var e=(0,o.Y)(),t=(0,a.useCallback)((function(e){return a.createElement(Le.v,{placement:"bottomEnd",arrow:"topStart",title:s.ag.get("pick-and-shuffle.upsell.title.queue")},e)}),[]),n=(0,a.useMemo)((function(){return[{title:s.ag.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue",render:t,disabled:e},{title:s.ag.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}]}),[e,t]);return a.createElement(qe.w,null,a.createElement(Se.n,{className:_e,links:n}))};const Qe=function(){var e=(0,u.nF)(),t=(0,o.Y)();return a.createElement("section",{className:"contentSpacing"},t&&a.createElement(r.o,{from:"/queue",to:"/history"}),e&&a.createElement(l.l,{path:"/history",pageId:i.Wg.NOWPLAYING_HISTORY},a.createElement(W,null)),a.createElement(l.l,{path:"/queue",pageId:i.Wg.NOWPLAYING_QUEUE},a.createElement(a.Suspense,{fallback:null},a.createElement(Oe,null))),e&&a.createElement(Me,null))}},47991:(e,t,n)=>{n.d(t,{$:()=>a});var a=function(e){var t;return(null==e||null===(t=e.linked_from)||void 0===t?void 0:t.uri)||e.uri}}}]);
//# sourceMappingURL=xpui-routes-queue.js.map