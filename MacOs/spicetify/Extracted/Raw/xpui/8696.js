"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[8696],{38696:(n,t,e)=>{e.r(t),e.d(t,{EpisodeSponsorNowPlayingBarHatIfPodcastAdIsPlaying:()=>P,default:()=>H});e(66992),e(41539),e(88674),e(78783),e(33948);var o=e(67294),r=e(23716),i=e(8341),a=e(89952),d=e(15861),s=e(29439),u=e(87757),c=e.n(u),l=(e(32564),e(86535),e(99244),e(21249),e(89554),e(54747),e(84297)),v=["podcast-preroll","podcast-midroll-1","podcast-midroll-2","podcast-midroll-3","podcast-midroll-4","podcast-midroll-5","podcast-postroll"];function f(n){var t=n.eventTypesToSubscribeTo,e=n.onPodcastAdEvent,o=n.onError,r=t.flatMap((function(n){return v.map((function(t){return(0,l.oc)(n,e,o,{slot:t})}))}));return function(){return r.forEach((function(n){return(0,n.cancel)()}))}}var p=["started","resumed","ended"];function b(){var n=(0,o.useState)(),t=(0,s.Z)(n,2);return{hidingHat:t[0],setHidingHat:t[1]}}function m(n){return"started"===n||"resumed"===n?n:void 0}var E="cta_card_sai";var g=e(85893),h=(0,o.lazy)((function(){return Promise.all([e.e(1814),e.e(5392),e.e(6772)]).then(e.bind(e,76772))}));function P(n){var t=n.subscribeToPodcastAdEvents,e=n.clickEventPosterForEpisodeSponsorNowPlayingBarHat,u=(0,r.g)(),l=(0,i.Y)((function(n){var t,e=null!==(t=null==n?void 0:n.item)&&void 0!==t?t:void 0;return(0,a.k6)(e)&&e.isPodcastAd?e:null}),(function(n,t){return(null==n?void 0:n.uri)===(null==t?void 0:t.uri)})),v=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).subscribeToPodcastAdEvents,t=void 0===n?f:n,e=(0,o.useState)(),r=(0,s.Z)(e,2),i=r[0],a=r[1],u=b(),l=u.hidingHat,v=u.setHidingHat;return(0,o.useEffect)((function(){var n=!1,e=t({eventTypesToSubscribeTo:p,onPodcastAdEvent:function(t){return(0,d.Z)(c().mark((function e(){var o,r,d,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=m(t.event_type),r=Boolean(o&&t.ad.metadata.product_name===E),d=Boolean(i&&r&&i.ad.id===t.ad.id),(s=d?void 0:new Promise((function(t){return setTimeout((function(){n||(a(void 0),v(void 0)),t()}),250)})))&&v(s),!r){e.next=9;break}return e.next=8,s;case 8:a(t);case 9:case"end":return e.stop()}}),e)})))()}});return function(){n=!0,e()}}),[i,v,t]),{activeAdEvent:i,hidingHat:l}}({subscribeToPodcastAdEvents:t}),P=v.activeAdEvent,H=v.hidingHat;return(l||H)&&P?(0,g.jsx)(o.Suspense,{fallback:!0,children:(0,g.jsx)(h,{adEvent:P,ad:l,hidingHat:H,postClickEvent:null==e?void 0:e(P.ad.id,u)})}):null}const H=P}}]);
//# sourceMappingURL=8696.js.map