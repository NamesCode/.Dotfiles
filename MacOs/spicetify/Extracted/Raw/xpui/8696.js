"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[8696],{38696:(e,t,n)=>{n.r(t),n.d(t,{EpisodeSponsorNowPlayingBarHatIfPodcastAdIsPlaying:()=>P,default:()=>h});n(66992),n(41539),n(88674),n(78783),n(33948);var o=n(67294),r=n(23716),a=n(8341),i=n(89952),d=n(15861),s=n(29439),u=n(87757),c=n.n(u),l=(n(32564),n(86535),n(99244),n(21249),n(89554),n(54747),n(84297)),v=["podcast-preroll","podcast-midroll-1","podcast-midroll-2","podcast-midroll-3","podcast-midroll-4","podcast-midroll-5","podcast-postroll"];function f(e){var t=e.eventTypesToSubscribeTo,n=e.onPodcastAdEvent,o=e.onError,r=t.flatMap((function(e){return v.map((function(t){return(0,l.oc)(e,n,o,{slot:t})}))}));return function(){return r.forEach((function(e){return(0,e.cancel)()}))}}var p=["started","resumed","ended"];function b(){var e=(0,o.useState)(),t=(0,s.Z)(e,2);return{hidingHat:t[0],setHidingHat:t[1]}}function m(e){return"started"===e||"resumed"===e?e:void 0}var E="cta_card_sai";var g=(0,o.lazy)((function(){return Promise.all([n.e(1814),n.e(5392),n.e(6772)]).then(n.bind(n,76772))}));function P(e){var t=e.subscribeToPodcastAdEvents,n=e.clickEventPosterForEpisodeSponsorNowPlayingBarHat,u=(0,r.g)(),l=(0,a.Y)((function(e){var t,n=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return(0,i.k6)(n)&&n.isPodcastAd?n:null}),(function(e,t){return(null==e?void 0:e.uri)===(null==t?void 0:t.uri)})),v=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).subscribeToPodcastAdEvents,t=void 0===e?f:e,n=(0,o.useState)(),r=(0,s.Z)(n,2),a=r[0],i=r[1],u=b(),l=u.hidingHat,v=u.setHidingHat;return(0,o.useEffect)((function(){var e=!1,n=t({eventTypesToSubscribeTo:p,onPodcastAdEvent:function(t){return(0,d.Z)(c().mark((function n(){var o,r,d,s;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=m(t.event_type),r=Boolean(o&&t.ad.metadata.product_name===E),d=Boolean(a&&r&&a.ad.id===t.ad.id),(s=d?void 0:new Promise((function(t){return setTimeout((function(){e||(i(void 0),v(void 0)),t()}),250)})))&&v(s),!r){n.next=9;break}return n.next=8,s;case 8:i(t);case 9:case"end":return n.stop()}}),n)})))()}});return function(){e=!0,n()}}),[a,v,t]),{activeAdEvent:a,hidingHat:l}}({subscribeToPodcastAdEvents:t}),P=v.activeAdEvent,h=v.hidingHat;return(l||h)&&P?o.createElement(o.Suspense,{fallback:!0},o.createElement(g,{adEvent:P,ad:l,hidingHat:h,postClickEvent:null==n?void 0:n(P.ad.id,u)})):null}const h=P}}]);
//# sourceMappingURL=8696.js.map