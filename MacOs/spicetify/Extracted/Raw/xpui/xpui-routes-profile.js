"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2499],{61864:(e,t,r)=>{r.d(t,{B:()=>R});var n=r(87462),a=(r(82526),r(41817),r(68309),r(83710),r(28733),r(67294)),i=r(96206),l=r(18261),o=r(87257),s=r(57978),u=r(89104),c=r(91355),m=r(43315),d=r(49961),g=r(25988),f=r(36590),p=r(8498),v=r(15861),h=r(29439),E=r(45987),y=r(87757),b=r.n(y),I=(r(92222),r(32667)),k=r(61251),w=r(85392);const _="z4popIk32AsyDKlV1o1v",P="_xxuonqkZEQ7pCffxlUD";var O=["src","description"],x=a.memo((function(e){var t=e.src,r=e.description,i=(0,E.Z)(e,O),l=(0,a.useState)("inherit"),o=(0,h.Z)(l,2),s=o[0],u=o[1];return(0,a.useEffect)((function(){function e(){return(e=(0,v.Z)(b().mark((function e(t){var r,n,a,i,l,o,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.extractColors)(t);case 2:r=e.sent,n=r.colorRaw,a=n.hsl,i=a.h,l=a.s,o=a.l,s="hsl(".concat(360*i,", ").concat(100*l,"%, ").concat(Math.min(100*o,30),"%)"),u(s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&function(t){e.apply(this,arguments)}(t)}),[t]),t?a.createElement("div",{className:_,style:{backgroundColor:s},"data-testid":"episode-fallback-image-container"},a.createElement("div",{className:P},a.createElement(I.D,{as:"p",variant:"canon"},r))):a.createElement(k.J,(0,n.Z)({},i,{iconSize:64}))})),N=r(21610),C=r(16257);const S="x1FErCk9Xh9VumpOLyfm",D="heeHk6hz8sAXLIU6P6an",U="Hhfi1xnYwoHoMP2rcltS";var R=function(e){var t,r=e.description,v=e.isExplicit,h=e.images,E=e.name,y=e.uri,b=e.durationMilliseconds,I=e.releaseDate,k=e.resume_point,w=e.showImages,_=e.sharingInfo,P=e.is19PlusOnly,O=e.isHero,R=e.onClick,A=e.testId,T=e.index,M=e.requestId,j=e.color,L=I?new Date(I):void 0,F=L&&!isNaN(L.getTime())&&!isNaN(b),H=(0,d.X)(w,{desiredSize:48}),Z=(0,c.G3)(y,null==L?void 0:L.toISOString(),null==k?void 0:k.resume_position_ms,null==k?void 0:k.fully_played);return t=O?a.createElement(N.Z,{index:T,onClick:R,headerText:E,featureIdentifier:"episode",uri:y,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:Z,renderCardImage:function(){return a.createElement(p.x,{isHero:!0,images:h,color:j,FallbackComponent:function(e){return a.createElement(x,(0,n.Z)({},e,{description:r,src:H&&H.url}))}},H&&a.createElement(u.E,{loading:"lazy",src:H.url,className:S,radius:4}))},renderSubHeaderContent:function(){return a.createElement(a.Fragment,null,v&&!P&&a.createElement(o.N,{className:D}),P&&a.createElement(s.X,{size:16,className:D}),F&&a.createElement("span",{className:U},L&&(0,m.rL)(L)," ·"," ",i.ag.get("episode.length",Math.ceil(b/6e4))),a.createElement(C.k,null,i.ag.get("card.tag.episode")))},testId:A,requestId:M}):a.createElement(f.C,{index:T,onClick:R,headerText:E,featureIdentifier:"episode",uri:y,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:Z,renderCardImage:function(){return a.createElement(p.x,{images:h,color:j,FallbackComponent:function(e){return a.createElement(x,(0,n.Z)({},e,{description:r,src:H&&H.url}))}},H&&a.createElement(u.E,{loading:"lazy",src:H.url,className:S,radius:4,testid:"episode-card-show-image"}))},renderSubHeaderContent:function(){return a.createElement(a.Fragment,null,v&&!P&&a.createElement(o.N,{className:D}),P&&a.createElement(s.X,{size:16,className:D}),F&&a.createElement("span",{className:U},L&&(0,m.rL)(L)," ·"," ",i.ag.get("episode.length",Math.ceil(b/6e4))))},testId:A,requestId:M}),a.createElement(l._,{menu:a.createElement(g.k,{uri:y,sharingInfo:_})},t)}},30523:(e,t,r)=>{r.d(t,{P:()=>g});var n=r(87462),a=(r(68309),r(67294)),i=r(39278),l=r(96206),o=r(18261),s=r(43480),u=r(36590),c=r(8498),m=r(21610),d=r(16257),g=a.memo((function(e){var t,r=e.images,g=e.name,f=e.uri,p=e.onClick,v=e.isHero,h=e.testId,E=e.index,y=e.requestId,b=e.color,I=(0,a.useCallback)((function(){return a.createElement(c.x,{isCircular:!0,isHero:v,images:r,color:b,FallbackComponent:function(e){return a.createElement(i.a,(0,n.Z)({iconSize:64},e))}})}),[b,r,v]),k=(0,a.useCallback)((function(){return v?a.createElement(d.k,null,l.ag.get("card.tag.profile")):l.ag.get("card.tag.profile")}),[v]);return t=v?a.createElement(m.Z,{index:E,onClick:p,headerText:g,featureIdentifier:"profile",uri:f,isPlayable:!1,renderCardImage:I,renderSubHeaderContent:k,testId:h,requestId:y}):a.createElement(u.C,{index:E,onClick:p,headerText:g,featureIdentifier:"profile",uri:f,isPlayable:!1,renderCardImage:I,renderSubHeaderContent:k,testId:h,requestId:y}),a.createElement(o._,{menu:a.createElement(s.I,{uri:f})},t)}))},22578:(e,t,r)=>{r.d(t,{$:()=>d});r(26699),r(32023),r(69600),r(68309),r(21249);var n=r(67294),a=r(64593),i=r(96206),l=r(69691),o=r(8341),s=r(89952),u=r(51615),c=r(24183);function m(e){return e.includes("Spotify")?e:"Spotify – ".concat(e)}var d=function(e){var t,r,d,g,f,p,v,h=e.children,E=e.usePlayingItem,y=m(h);t=h,g=(0,c.Oh)().mainLandmarkRef,f=(0,u.k6)(),p=null===(r=f.location)||void 0===r||null===(d=r.state)||void 0===d?void 0:d.preventMoveFocus,(v=(0,n.useRef)(f.length<2)).current=f.length<2,(0,n.useEffect)((function(){var e=g.current;!p&&!v.current&&e&&t&&(e.setAttribute("aria-label",t),e.focus())}),[t,g,p]);var b=(0,l.IK)().isPlaying,I=(0,o.Y)((function(e){return null==e?void 0:e.item}));return I&&(b||E)&&((0,s.G_)(I)?y=[I.name,I.artists.map((function(e){return e.name})).join(i.ag.getSeparator())].join(" • "):(0,s.iw)(I)?y=[I.name,I.show.name].join(" • "):(0,s.k6)(I)&&(y=m(i.ag.get("ad-formats.advertisement")))),n.createElement(a.q,{defaultTitle:"Spotify",defer:!1},n.createElement("title",null,y))}},70369:(e,t,r)=>{r.d(t,{$:()=>n.$});var n=r(22578)},20701:(e,t,r)=>{r.d(t,{T:()=>d});var n=r(29439),a=(r(68309),r(67294)),i=r(57784),l=r(37925),o=r(25678),s=r(60289),u=r(23401);const c="profile-editImage-imageContainer",m="profile-editImage-editImageButtonContainer";var d=function(e){var t=e.onClick,r=e.name,d=e.images,g=e.canEdit,f=e.placeholderType,p=e.shape,v=void 0===p?s.Kc.SQUARE:p,h=e.dragUri,E=void 0===h?"":h,y=(0,l.RH)(d),b=(0,n.Z)(y,2),I=b[0],k=b[1],w=(0,o.VO)(I,k)===o.KO.loaded,_=(0,i.O1)([E],r);return a.createElement("div",{className:c,"data-testid":"".concat(f,"-image"),draggable:!!E,onDragStart:_},a.createElement(s.Oe,{loading:"eager",name:r,images:d,placeholderType:f,shape:v}),g&&a.createElement("div",{className:m},a.createElement(u.F,{overlay:w,onClick:t,rounded:v===s.Kc.CIRCLE})))}},1850:(e,t,r)=>{r.d(t,{e:()=>m});var n=r(4942),a=r(67294),i=r(94184),l=r.n(i),o=r(96206);const s="idI9vydtCzXVhU1BaKLw",u="fEbcweEiUPPy2eaIaD3F",c="Qq16641w1flRfBavPaAn";var m=a.memo((function(e){var t,r=e.isFollowing,i=e.onClick,m=e.disabled,d=void 0!==m&&m,g=e.buttonText,f=r?o.ag.get("following"):o.ag.get("follow");return a.createElement("button",{type:"button",className:l()(s,(t={},(0,n.Z)(t,u,r),(0,n.Z)(t,c,d),t)),onClick:i},g||f)}))},68513:(e,t,r)=>{r.d(t,{S:()=>u});r(92222);var n=r(67294),a=r(31397),i=r(32667);const l="CmR9tHJ5ta6oWJlKBm3k",o="b0NcxAbHvRbqgs2S8QDg",s="bn2UNQDs5GLY5rjp5Ljh";var u=function(e){var t=e.text;return n.createElement("span",{className:l},n.createElement("div",{className:"".concat(o," ").concat(s)}),n.createElement(a.T,{semanticColor:"textAnnouncement",className:o,iconSize:24}),t?n.createElement(i.D,{variant:"mesto"},t):null)}},39279:(e,t,r)=>{r.r(t),r.d(t,{default:()=>fr});var n=r(67294),a=r(51615),i=r(69518),l=r.n(i),o=r(73305),s=r(26700),u=r(15861),c=r(29439),m=(r(21249),r(68309),r(82526),r(41817),r(87757)),d=r.n(m),g=r(70369),f=r(87972),p=r(6024),v=r(27999),h=r(46877),E=r(61864),y=r(19480),b={totalCount:0,nextOffset:0,items:[]};var I=function(e){var t,r=e.uri,a=(0,f.J)(p.n5.getProfile,[{uri:r,playlists:0,artists:0,episodes:0}]).data,i=function(e){var t=(0,v.zZ)(),r=(0,n.useState)(b),a=(0,c.Z)(r,2),i=a[0],l=a[1],o=(0,n.useCallback)((0,u.Z)(d().mark((function r(){var n;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,t.getContents(e,{offset:0,limit:50});case 4:n=r.sent,l(n);case 6:case"end":return r.stop()}}),r)}))),[e,t]);return(0,n.useEffect)((function(){o()}),[o]),i}(null==a||null===(t=a.user_created_show)||void 0===t?void 0:t.uri);return n.createElement(y.P,{className:"contentSpacing",total:i.items.length,title:h.ag.get("episodes"),showAll:!0},i.items.map((function(e,t){var r;return n.createElement(E.B,{key:e.uri,index:t,uri:e.uri,name:e.name,images:e.coverArt,showImages:[],durationMilliseconds:e.duration.milliseconds,releaseDate:null===(r=e.releaseDate)||void 0===r?void 0:r.isoString,resume_point:null,description:e.description,isExplicit:!1,is19PlusOnly:!1,sharingInfo:e.sharingInfo})})))},k=function(e){var t=e.uri;return n.createElement("section",null,n.createElement(g.$,null,"Podcasts from the user"),n.createElement(I,{uri:t}))},w=r(94184),_=r.n(w),P=r(96206),O=r(30523),x=r(6158);const N="umiKMm5NVr5UeBJCHS6U",C="jzhwZKbfx4vrC_MYd_7c",S="MWWPQQjbjRfoGdPD8D68",D="rMpf7sfaPDcj387_52fA",U="kWCnF32FrVtGHmTy8QeV",R="uJxNEI2k7x8UCDdMKELt",A="wDIZ2yYKjfGI68I4cZ98";var T=function(e){var t=e.uri,r=(0,f.J)(p.n5.getFollowers,[t]),a=r.data,i=r.loading,l=r.error,o=null==a?void 0:a.profiles;return i?n.createElement(x.h,{hasError:null!==l,errorMessage:P.ag.get("error.not_found.title.page")}):n.createElement(y.P,{className:_()("contentSpacing",S),title:P.ag.get("followers"),total:null==o?void 0:o.length,showAll:!0},null==o?void 0:o.map((function(e,t){return n.createElement(O.P,{key:e.uri,index:t,uri:e.uri,name:e.name,images:[{url:e.image_url}]})})))},M=function(e){var t=e.uri,r=(0,f.J)(p.n5.getFollowing,[t]),a=r.data,i=r.loading,l=r.error,o=null==a?void 0:a.profiles;return i?n.createElement(x.h,{hasError:null!==l,errorMessage:P.ag.get("error.not_found.title.page")}):n.createElement(y.P,{className:_()("contentSpacing",S),title:P.ag.get("following"),total:null==o?void 0:o.length,showAll:!0},null==o?void 0:o.map((function(e,t){return n.createElement(O.P,{key:e.uri,index:t,uri:e.uri,name:e.name,images:[{url:e.image_url}]})})))},j=(r(41539),r(88674),r(69826),r(91058),r(28733),r(86706)),L=r(87577),F=r(45546),H=r(18270),Z=r(48690),W=r(89477),z=r(46309),B=r(43480),K=r(20701),G=r(60289),J=r(98778),V=r(59482),q=r(72907),Q=r(1850),X=(r(73210),r(32667)),Y=r(74410),$=r(6060),ee=r(34011),te=r(84465),re=r(93659),ne=r(64578),ae=r(4942),ie=r(18525),le=r(37925),oe=r(25678);const se="F8_EX1AeKxXNSeh1qiHq",ue="valcBm4lLe9qFBcg0sFY",ce="tAIzXn8C9KriGwGuBfWg",me="PsrXxenHUFXYM1ub1xWw",de="U_VWfeeLWnDPhUTxCmrQ";var ge=function(e){var t=e.onClickEdit,r=e.onClickRemove,a=e.name,i=e.images,l=(0,le.RH)(i),o=(0,c.Z)(l,2),s=o[0],u=o[1],m=(0,oe.VO)(s,u)===oe.KO.loaded;return n.createElement("div",{className:se},n.createElement(G.Oe,{loading:"eager",name:a,images:i,placeholderType:"user",shape:G.Kc.CIRCLE}),n.createElement("div",{className:_()(ue,(0,ae.Z)({},me,m))},n.createElement("button",{className:ce,"aria-haspopup":"true",onClick:t,type:"button"},n.createElement(X.D,{variant:"ballad"},P.ag.get("user.edit-details.choose-photo"))),n.createElement("div",{className:_()(de,"icon")},n.createElement(ie.y,{iconSize:48,"aria-hidden":!0})),n.createElement("button",{className:ce,onClick:r,type:"button"},n.createElement(X.D,{variant:"ballad"},P.ag.get("user.edit-details.remove-photo")))))},fe=(r(21703),r(96647),r(92222),r(16516)),pe=r(15429),ve=(r(66992),r(39575),r(82472),r(48675),r(92990),r(18927),r(33105),r(35035),r(74345),r(7174),r(32846),r(44731),r(77209),r(96319),r(58867),r(37789),r(33739),r(29368),r(14483),r(12056),r(3462),r(30678),r(27462),r(33824),r(55021),r(12974),r(15016),r(37380),r(1118),r(9653),r(5735),r(83753),r(47941),r(57327),r(38880),r(89554),r(54747),r(49337),r(33321),r(69070),r(47042),r(91038),r(78783),r(74916),r(77601),r(32165),r(33948),r(79753),r(62100));function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){(0,ae.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ye(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return be(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){o=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(o)throw i}}}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ie={paths:""},ke=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ve.Writer.create(),n=ye(e.paths);try{for(n.s();!(t=n.n()).done;){var a=t.value;r.uint32(10).string(a)}}catch(e){n.e(e)}finally{n.f()}return r},we=function(e){var t=Ee({},Ie);if(t.paths=[],void 0!==e.paths&&null!==e.paths){var r,n=ye(e.paths);try{for(n.s();!(r=n.n()).done;){var a=r.value;t.paths.push(a)}}catch(e){n.e(e)}finally{n.f()}}return t},_e=(r(83710),r(39714),r(35837),r(75505),r(87714),r(82801),r(1174),r(27479),r(69600),r(43720)),Pe=r(48764).lW;var Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ve.Writer.create();return t.uint32(8).int32(e.value),t},xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ve.Writer.create();return t.uint32(8).bool(e.value),t},Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ve.Writer.create();return t.uint32(10).string(e.value),t};ve.util.Long!==_e&&(ve.util.Long=_e,(0,ve.configure)());var Ce=globalThis;Ce.atob,Ce.btoa;function Se(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return De(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){o=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(o)throw i}}}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){(0,ae.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ae={maxWidth:0,maxHeight:0,url:""},Te={},Me={},je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ve.Writer.create();return t.uint32(8).int32(e.maxWidth),t.uint32(16).int32(e.maxHeight),t.uint32(26).string(e.url),t},Le=function(e){var t=Re({},Ae);return void 0!==e.maxWidth&&null!==e.maxWidth?t.maxWidth=e.maxWidth:t.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?t.maxHeight=e.maxHeight:t.maxHeight=0,void 0!==e.url&&null!==e.url?t.url=e.url:t.url="",t},Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ve.Writer.create();void 0!==e.username&&void 0!==e.username&&Ne({value:e.username},t.uint32(10).fork()).ldelim(),void 0!==e.name&&void 0!==e.name&&Ne({value:e.name},t.uint32(18).fork()).ldelim();var r,n=Se(e.images);try{for(n.s();!(r=n.n()).done;){var a=r.value;je(a,t.uint32(26).fork()).ldelim()}}catch(e){n.e(e)}finally{n.f()}return void 0!==e.verified&&void 0!==e.verified&&xe({value:e.verified},t.uint32(34).fork()).ldelim(),void 0!==e.editProfileDisabled&&void 0!==e.editProfileDisabled&&xe({value:e.editProfileDisabled},t.uint32(42).fork()).ldelim(),void 0!==e.reportAbuseDisabled&&void 0!==e.reportAbuseDisabled&&xe({value:e.reportAbuseDisabled},t.uint32(50).fork()).ldelim(),void 0!==e.abuseReportedName&&void 0!==e.abuseReportedName&&xe({value:e.abuseReportedName},t.uint32(58).fork()).ldelim(),void 0!==e.abuseReportedImage&&void 0!==e.abuseReportedImage&&xe({value:e.abuseReportedImage},t.uint32(66).fork()).ldelim(),void 0!==e.hasSpotifyName&&void 0!==e.hasSpotifyName&&xe({value:e.hasSpotifyName},t.uint32(74).fork()).ldelim(),void 0!==e.hasSpotifyImage&&void 0!==e.hasSpotifyImage&&xe({value:e.hasSpotifyImage},t.uint32(82).fork()).ldelim(),void 0!==e.color&&void 0!==e.color&&Oe({value:e.color},t.uint32(90).fork()).ldelim(),t},He=function(e){var t=Re({},Te);if(t.images=[],void 0!==e.username&&null!==e.username?t.username=e.username:t.username=void 0,void 0!==e.name&&null!==e.name?t.name=e.name:t.name=void 0,void 0!==e.images&&null!==e.images){var r,n=Se(e.images);try{for(n.s();!(r=n.n()).done;){var a=r.value;t.images.push(Le(a))}}catch(e){n.e(e)}finally{n.f()}}return void 0!==e.verified&&null!==e.verified?t.verified=e.verified:t.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?t.editProfileDisabled=e.editProfileDisabled:t.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?t.reportAbuseDisabled=e.reportAbuseDisabled:t.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?t.abuseReportedName=e.abuseReportedName:t.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?t.abuseReportedImage=e.abuseReportedImage:t.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?t.hasSpotifyName=e.hasSpotifyName:t.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?t.hasSpotifyImage=e.hasSpotifyImage:t.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?t.color=e.color:t.color=void 0,t},Ze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ve.Writer.create();return void 0!==e.mask&&void 0!==e.mask&&ke(e.mask,t.uint32(10).fork()).ldelim(),void 0!==e.userProfile&&void 0!==e.userProfile&&Fe(e.userProfile,t.uint32(18).fork()).ldelim(),t},We=function(e){var t=Re({},Me);return void 0!==e.mask&&null!==e.mask?t.mask=we(e.mask):t.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?t.userProfile=He(e.userProfile):t.userProfile=void 0,t},ze="".concat(fe.XA,"/identity");function Be(e,t,r){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,u.Z)(d().mark((function e(t,r,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withHost(ze).withMethod("POST").withPath("/v3/profile-image/".concat(encodeURIComponent((0,pe.C)(r)),"/").concat(n)).withEndpointIdentifier("/v3/profile-image/{username}/{uploadToken}").withoutMarket().send();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e,t){return Je.apply(this,arguments)}function Je(){return(Je=(0,u.Z)(d().mark((function e(t,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withHost(ze).withMethod("DELETE").withPath("/v3/profile-image/".concat(encodeURIComponent((0,pe.C)(r)))).withEndpointIdentifier("/v3/profile-image/{username}").withoutMarket().send();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(e,t,r){return qe.apply(this,arguments)}function qe(){return(qe=(0,u.Z)(d().mark((function e(t,r,n){var a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ze(We({mask:{paths:["name"]},userProfile:null!==n?{name:n}:{}})),e.next=3,t.build().withHost(ze).withMethod("POST").withPath("/v3/user/username/".concat(encodeURIComponent((0,pe.C)(r)))).withEndpointIdentifier("/v3/user/username/{username}").withBody(a.finish()).withoutMarket().send();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e,t,r){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,u.Z)(d().mark((function e(t,r,n){var a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.name,i=n.imageUploadToken,void 0===a){e.next=4;break}return e.next=4,Ve(t,r,a);case 4:if(void 0===i){e.next=12;break}if(null===i){e.next=10;break}return e.next=8,Be(t,r,i);case 8:e.next=12;break;case 10:return e.next=12,Ge(t,r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ye=r(87961),$e="https://image-upload.spotify.com/v4";function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=(0,u.Z)(d().mark((function e(t,r){var n,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.name,a=r.imageUploadToken,e.next=3,Qe(Ye.b.getInstance(),t,{name:n,imageUploadToken:a});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e){return nt.apply(this,arguments)}function nt(){return(nt=(0,u.Z)(d().mark((function e(t){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.b.getInstance().build().withEndpointIdentifier("image-upload/v4/user-profile").withHost($e).withMethod("POST").withPath("/user-profile").withBody(t).withoutGlobalHeaders().withHeaders([{key:"Content-Type",value:"image/jpeg"}]).withoutMarket().send();case 2:if((r=e.sent).body){e.next=5;break}throw new Error("No upload token recieved");case 5:return e.abrupt("return",r.body.uploadToken);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var at={type:"error",get message(){return P.ag.get("user.edit-details.error.file-size-exceeded",10)}},it={type:"error",get message(){return P.ag.get("user.edit-details.error.too-small",300,300)}},lt={type:"error",get message(){return P.ag.get("user.edit-details.error.missing-name")}},ot={type:"error",get message(){return P.ag.get("user.edit-details.error.failed-to-save")}},st={type:"error",get message(){return P.ag.get("user.edit-details.error.file-upload-failed")}};function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(r),!0).forEach((function(t){(0,ae.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mt(e){return{type:"setLoading",loading:e}}function dt(e){return{type:"setMessage",message:e}}function gt(e){return{type:"setImageData",data:e}}function ft(e){return{type:"setImageToken",token:e}}function pt(e,t){switch(t.type){case"setName":return ct(ct({},e),{},{name:t.name});case"setMessage":return ct(ct({},e),{},{message:t.message,loading:!1});case"setLoading":return ct(ct({},e),{},{loading:t.loading,message:null});case"setImageData":return ct(ct({},e),{},{imageData:t.data,removeImage:!1});case"setImageToken":return ct(ct({},e),{},{imageToken:t.token,removeImage:!1});case"removeImage":return ct(ct({},e),{},{imageToken:void 0,imageData:void 0,image:void 0,removeImage:!0});default:return e}}const vt="XwNfIrI6_hCa_9_T2cQB",ht="so0bdX3oZH6YW5_nGxIR",Et="aM3plU4zzDqjWlvUHGYb",yt="zHeo4VUxytwm6Ptr0QyA",bt="vAeyAmeLkDEDKdL9Hou0",It="dnmzO6yYKkxUV8jl7O1Z",kt="oN9QVvJKEtdTH3HGfCu1",wt="uj7hczcCH1dZpse8Kfmi",_t="wvLAEV5wF5C5ej6rvimT",Pt="gAQfzAUp1FuSXODeZJfP",Ot="dMhJaxli87_22jb_3d9x",xt="MDb7QhAtHeyM4gKj8j8t",Nt="zGbjZMZ1DTx4futEbN9l";var Ct=n.memo((function(e){var t=e.uri,r=e.name,a=e.image,i=e.onClose,l=e.shouldOpenImagePicker,o=(0,re.Hs)(),s=(0,c.Z)(o,2),m=s[0],g=s[1],f=function(e){var t=e.name,r=e.image;return(0,n.useReducer)(pt,{loading:!1,message:null,name:t,image:r})}({name:r,image:a}),p=(0,c.Z)(f,2),v=p[0],h=p[1],E=(0,n.useMemo)((function(){var e=v.imageData||v.image;return e?[{url:e,width:300,height:300}]:[]}),[v.image,v.imageData]);function y(){return(y=(0,u.Z)(d().mark((function e(t){var r,n,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(r=t.imageFile,n=t.imageDataUrl,h(dt(null)),h(gt(n)),!r){e.next=18;break}return e.prev=6,h(mt(!0)),e.next=10,rt(r);case 10:a=e.sent,h(ft(a)),h(mt(!1)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),h(dt(st));case 18:case"end":return e.stop()}}),e,null,[[6,15]])})))).apply(this,arguments)}(0,n.useEffect)((function(){l&&g()}),[g,l]);var b=(0,n.useCallback)((function(e){e===re.Hy.FILE_TOO_BIG?h(dt(at)):e===re.Hy.IMAGE_TOO_SMALL&&h(dt(it))}),[h]),I=(0,n.useCallback)((function(){h({type:"removeImage"})}),[h]),k=(0,n.useCallback)(function(){var e=(0,u.Z)(d().mark((function e(r){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),0!==v.name.trim().length){e.next=5;break}return h(dt(lt)),e.abrupt("return");case 5:return h(mt(!0)),e.prev=6,n=v.removeImage?null:v.imageToken,e.next=10,et(t,{name:v.name,imageUploadToken:n});case 10:i({name:v.name,image:v.imageData||v.image}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),h(dt(ot));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),[h,i,v.image,v.imageData,v.imageToken,v.name,v.removeImage,t]);return n.createElement(te.Z,{isOpen:!0,contentLabel:P.ag.get("user.edit-details.title"),onRequestClose:function(){return i()}},n.createElement("div",{className:vt},n.createElement("div",{className:Et},n.createElement(X.D,{as:"h1",variant:"canon"},P.ag.get("user.edit-details.title")),n.createElement("button",{className:yt,onClick:function(){return i()},"aria-label":P.ag.get("close")},n.createElement(Y.k,{iconSize:16}))),v.message&&n.createElement(ne.X,{isErrorMessage:"error"===v.message.type,message:v.message.message}),n.createElement("form",{className:ht,onSubmit:k},n.createElement(re.uL,{isOpen:m,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:function(e){return y.apply(this,arguments)},onError:b}),n.createElement("div",{className:bt},n.createElement(ge,{name:r,images:E,onClickEdit:g,onClickRemove:I}),v.loading&&n.createElement("div",{className:It},n.createElement($.T,null))),n.createElement("div",{className:wt},n.createElement("label",{htmlFor:"user-edit-name",className:_t},n.createElement(X.D,{variant:"finaleBold",className:Pt},P.ag.get("user.edit-details.name-label"))),n.createElement("input",{"data-testid":"user-edit-name-input",id:"user-edit-name",type:"text",dir:"auto",className:_()(kt,Ot),onChange:function(e){h(function(e){return{type:"setName",name:e}}(e.target.value))},placeholder:P.ag.get("user.edit-details.name-placeholder"),maxLength:32,value:v.name})),n.createElement("div",{className:xt},n.createElement(ee.D,{colorSet:"invertedLight",onClick:k,disabled:v.loading},P.ag.get("save"))),n.createElement(X.D,{as:"p",variant:"finaleBold",className:Nt},P.ag.get("image-upload.legal-disclaimer")))))})),St=(r(32564),r(13218)),Dt=r(6033),Ut=r(81612),Rt=r(70842),At=function(e){var t=e.className,r=e.isCurrentUser,a=e.userId,i=e.username,o=e.userDisplayName,s=(0,Ut.w)(r,i),u=s.projects,c=s.fetchProjects,m=null==u?void 0:u.filter((function(e){return e.publishingState!==Rt.H.PUBLISHED})),d=null==u?void 0:u.filter((function(e){return e.publishingState===Rt.H.PUBLISHED}));return(0,n.useEffect)((function(){var e=setInterval((function(){var e=null==u?void 0:u.filter((function(e){return e.publishingState===Rt.H.IN_PROGRESS}));e&&e.length>0&&c()}),3e4);return function(){return clearInterval(e)}}),[c,u]),u?n.createElement(n.Fragment,null,m.length>0&&n.createElement("section",{className:t},n.createElement(St.r,{title:P.ag.get("web-player.soundtrap.unpublished-projects.title"),tagline:P.ag.get("web-player.soundtrap.unpublished-projects.tagline"),seeAllUri:l().profileURI(a,["soundtrap","unpublished"]).toURI(),hasMoreElements:m.length>4}),n.createElement(Dt.M,{data:m,userDisplayName:o,maxNumberOfTracks:4})),d.length>0&&n.createElement("section",{className:t},n.createElement(St.r,{title:P.ag.get("web-player.soundtrap.published-projects.title"),tagline:P.ag.get("web-player.soundtrap.published-projects.tagline"),seeAllUri:l().profileURI(a,["soundtrap","published"]).toURI(),hasMoreElements:!0}),n.createElement(Dt.M,{data:d,userDisplayName:o,maxNumberOfTracks:4}))):null},Tt=r(7212),Mt=r(56802),jt=r(4236),Lt=r(62515),Ft=r(6902),Ht=r(94321),Zt=r(29255),Wt=r(52983),zt=r(20246),Bt=r(18261),Kt=r(15852),Gt=r(49961),Jt=r(84506),Vt=(r(23157),r(23123),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.imageUriOrUrl,r=void 0===t?"":t,n=e.desiredMosaicSize,a=void 0===n?300:n;if(!r)return"";if(r.startsWith("spotify:")){var i=r.split(":"),l=(0,Jt.Z)(i),o=l[1],s=l.slice(2);if("image"===o)return"https://i.scdn.co/image/".concat(s[0]);if("mosaic"===o)return"https://mosaic.scdn.co/".concat(a,"/").concat(s.join(""))}return r}),qt=r(68513),Qt=r(18686),Xt=r(49207),Yt=r(28248),$t=r(95880),er=r(47991),tr=r(42922),rr=r(84242),nr=r(42781),ar=n.memo((function(e){var t=e.tracks,r=e.hasHeaderRow,a=void 0!==r&&r,i=e.nrTracksVisible,o=e.uri,s=(0,pe.C)(o),u=l().userToplistURI(s,"tracks").toURI(),c=(0,n.useMemo)((function(){return i?t.slice(0,i):t}),[i,t]),m=(0,rr.n)({uri:u,pages:[{items:t.map((function(e){return{type:nr.p.TRACK,uri:e.uri,uid:null,provider:null}}))}]},{featureIdentifier:"profile",referrerIdentifier:"user_profile"}).usePlayContextItem,d=(0,n.useCallback)((function(e,t){var r,a=(0,Gt.X)(null==e||null===(r=e.album)||void 0===r?void 0:r.images,{desiredSize:40});return n.createElement($t.SS,{key:t+e.uri,index:t,uri:(0,er.$)(e),duration_ms:e.duration_ms,name:e.name,artists:e.artists,album:e.album,isPlayable:!0,isExplicit:!!e.explicit,isMOGEFRestricted:!!e.mogef19,imgUrl:(null==a?void 0:a.url)||"",contextUri:u,usePlayContextItem:m})}),[u,m]),g=(0,n.useMemo)((function(){return[Yt.QD.INDEX,Yt.QD.TITLE,Yt.QD.ALBUM,Yt.QD.DURATION]}),[]),f=(0,n.useCallback)((function(e){return e.uri}),[]);return n.createElement(tr.ZP,{value:"user-top-tracks-tracklist"},n.createElement(Yt.Pv,{ariaLabel:P.ag.get("top_tracks_this_month"),renderRow:d,nrTracks:c.length,tracks:c,resolveUri:f,hasHeaderRow:a,columns:g}))}),(function(e,t){return e.tracks===t.tracks})),ir=n.memo((function(e){var t=e.tracks,r=e.title,a=e.tagline,i=e.seeAllUri,l=e.className,o=e.uri,s=e.spec,u=(0,Kt.$P)(),c=(0,n.useCallback)((function(){var e=s.titleLinkFactory().hitUiNavigate({destination:i});u.logInteraction(e)}),[u,i,s]),m=(0,n.useCallback)((function(){var e=s.titleLinkFactory().hitUiNavigate({destination:i});u.logInteraction(e)}),[u,i,s]);if(!t||0===t.length)return null;var d=t.length>4;return n.createElement("section",{className:l},n.createElement(St.r,{title:r,tagline:a,seeAllUri:i,hasMoreElements:d,onClickTitle:c,onClickSeeAll:m}),n.createElement(Kt.Nh,{spec:s},n.createElement(ar,{tracks:t,uri:o,nrTracksVisible:4})))}),(function(e,t){return e.tracks===t.tracks}));function lr(e,t){switch(t.type){case"OPEN_MODAL":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!1};case"OPEN_MODAL_WITH_IMAGEPICKER":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!0};case"OPEN_SOUNDTRAP_MODAL":return{isModalOpen:!0,modalVariant:"soundtrap",shouldOpenImagePicker:!1};case"CLOSE_MODAL":return{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1};default:return e}}var or=function(e){var t,r,i,o=e.uri,s=(0,j.v9)(Zt.Gf),u=(0,j.v9)(Zt.A$),m=(0,j.I0)(),d=(0,L.W6)(Xt.Nf,{loadingValue:!1}),v=(0,Ft.H)(o),h=(0,c.Z)(v,2),y=h[0],b=h[1],I=(0,n.useMemo)((function(){return(0,Gt.X)(u)}),[u]),k=(r=(0,n.useReducer)(lr,{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1}),[(i=(0,c.Z)(r,2))[0],i[1]]),w=(0,c.Z)(k,2),S=w[0],U=S.isModalOpen,R=S.modalVariant,A=S.shouldOpenImagePicker,T=w[1],M=(0,Mt.o)(),X=!(0,jt.k)(),Y=(0,f.J)(p.n5.getProfile,[{uri:o,playlists:10,artists:10,episodes:10}]),$=Y.data,ee=Y.loading,te=null==$?void 0:$.public_playlists,re=null==$?void 0:$.is_verified,ne=(null==$?void 0:$.is_current_user)||!1,ae=null==$?void 0:$.recently_played_artists,ie=null==$?void 0:$.user_created_show,le=ne?(null==I?void 0:I.url)||"":(null==$?void 0:$.image_url)||"",oe=(0,pe.C)(o),se=(0,j.v9)(Ht.C7),ue=(ne?s:null==$?void 0:$.name)||"",ce=(0,Lt.Z)((null==$?void 0:$.image_url)||null),me=(0,a.UO)().userId,de=(0,Kt.fU)(F.createDesktopProfileEventFactory,{data:{uri:o,identifier:me}}),ge=de.spec,fe=de.logger,ve=(0,n.useMemo)((function(){return ge.sectionTopTracksFactory()}),[ge]),he=(0,f.J)(p.n5.getFollowing,[o]),Ee=he.data,ye=he.loading,be=null==Ee?void 0:Ee.profiles,Ie=(0,f.J)(p.n5.getFollowers,[o]),ke=Ie.data,we=Ie.loading,_e=null==ke?void 0:ke.profiles,Pe=(0,n.useMemo)((function(){return function(e){return e?p.n5.getUserTopArtists:function(){return Promise.resolve({status:200,body:{items:[],offset:0,limit:0,total:0,href:"",next:null,previous:null}})}}(ne)}),[ne]),Oe=(0,n.useMemo)((function(){return function(e){return e?p.n5.getUserTopTracks:function(){return Promise.resolve({status:200,body:{items:[],offset:0,limit:0,total:0,href:"",next:null,previous:null}})}}(ne&&!se)}),[ne,se]),xe=(0,f.J)(Pe,[]),Ne=xe.data,Ce=xe.loading,Se=(0,f.J)(Oe,[]),De=Se.data,Ue=Se.loading,Re=null==Ne?void 0:Ne.body,Ae=null==De?void 0:De.body,Te=(0,L.W6)(Xt.sT,{loadingValue:!1}),Me=(0,Ut.w)(ne,me).projects,je=(0,n.useState)(null),Le=(0,c.Z)(je,2),Fe=Le[0],He=Le[1],Ze=(0,a.k6)();(0,n.useEffect)((function(){var e,t;if(Te&&Me&&"soundtrap_publish"===(null===(e=Ze.location.state)||void 0===e?void 0:e.referrer)&&null!==(t=Ze.location.state)&&void 0!==t&&t.newProjectId){var r=null==Me?void 0:Me.find((function(e){return e.soundtrapProjectId===Ze.location.state.newProjectId}));r&&(He(r),T({type:"OPEN_SOUNDTRAP_MODAL"}))}}),[Ze,Te,T,Me]);var We=(0,n.useCallback)((function(){M({targetUri:o,intent:y?"unfollow":"follow",type:"click"});var e=ge.actionBarFactory().followButtonFactory();y?(b(!1),fe.logInteraction(e.hitUnfollow({itemToBeUnfollowed:o}))):(b(!0),fe.logInteraction(e.hitFollow({itemToBeFollowed:o})))}),[y,fe,M,b,ge,o]),ze=(0,n.useCallback)((function(e){T({type:"CLOSE_MODAL"}),e&&(m((0,Wt.dL)(e.name)),m((0,Wt.GR)(e.image?[{url:e.image,height:null,width:null}]:[])))}),[m,T]),Be=(0,n.useCallback)((function(){T({type:"OPEN_MODAL"});var e=ge.headerFactory().usernameFactory().hitUiReveal();fe.logInteraction(e)}),[fe,T,ge]),Ke=(0,n.useCallback)((function(){T({type:"OPEN_MODAL_WITH_IMAGEPICKER"});var e=ge.headerFactory().profileImageFactory().hitUiReveal();fe.logInteraction(e)}),[fe,T,ge]),Ge=(0,n.useMemo)((function(){return[{url:le}]}),[le]),Je=(0,n.useCallback)((function(){var e=ge.headerFactory().usernameFactory().hitUiReveal();fe.logInteraction(e)}),[fe,ge]),Ve=(0,n.useCallback)((function(e,t){if(t){var r=ge.headerFactory().followersLinkFactory().hitUiNavigate({destination:t});fe.logInteraction(r)}}),[fe,ge]),qe=(0,n.useCallback)((function(e,t){if(t){var r=ge.headerFactory().followersLinkFactory().hitUiNavigate({destination:t});fe.logInteraction(r)}}),[fe,ge]),Qe=(0,n.useCallback)((function(){var e=ge.actionBarFactory().contextMenuButtonFactory().hitUiReveal();fe.logInteraction(e)}),[fe,ge]);if(!$||ee||ye||we||Ue||Ce)return n.createElement(x.h,{hasError:!1,errorMessage:P.ag.get("error.not_found.title.page")});var Xe={total:$.followers_count},Ye=_()("contentSpacing",C);function $e(e){return ie&&d?e:e-1}return n.createElement("div",{className:N},n.createElement(g.$,null,ue),n.createElement(G.gF,{backgroundColor:ce},n.createElement(V.W,null,n.createElement(q.i,{text:ue})),n.createElement(Bt._,{menu:n.createElement(B.I,{uri:$.uri})},n.createElement("div",{className:D},n.createElement(K.T,{canEdit:ne,name:ue,images:Ge,onClick:Ke,placeholderType:"user",shape:G.Kc.CIRCLE}))),n.createElement(G.sP,null,n.createElement(G.dy,{small:!0,uppercase:!0},re?n.createElement(qt.S,{text:P.ag.get("card.tag.profile")}):P.ag.get("card.tag.profile")),n.createElement(Bt._,{menu:n.createElement(B.I,{uri:$.uri})},n.createElement(G.xd,{canEdit:ne,editTitle:P.ag.get("playlist.edit-details.title"),onClick:Be},ue)),n.createElement(G.QS,{totalFollowers:Xe.total,totalFollowing:null==be?void 0:be.length,publicPlaylists:$.total_public_playlists_count,userUri:o,onCreatorClick:Je,onTotalFollowersClick:Ve,onTotalFollowingClick:qe}))),n.createElement(H.o,{backgroundColor:ce},n.createElement(H.F,null,!ne&&n.createElement(J.r,null,n.createElement(Q.e,{isFollowing:Boolean(y),onClick:We,disabled:X})),n.createElement(zt.y,{menu:n.createElement(B.I,{uri:$.uri,onEditProfileCallback:Be})},n.createElement(Z.z,{label:P.ag.get("more.label.context",ue),onClick:Qe})))),n.createElement(Kt.Nh,{spec:ge},Te&&n.createElement(At,{className:Ye,userId:me,username:oe,userDisplayName:ue,isCurrentUser:ne}),ie&&d&&n.createElement(Qt.q,{className:Ye,total:ie.total_episode_count,title:P.ag.get("episodes"),seeAllUri:l().profileURI(oe,["episodes"]).toURI(),id:"episodes",index:0},null===(t=ie.episodes)||void 0===t?void 0:t.map((function(e,t){var r;return n.createElement(E.B,{index:t,key:e.uri,uri:e.uri,name:e.name,images:e.images,durationMilliseconds:1e3*parseInt(e.duration,10),releaseDate:null===(r=e.publish_time)||void 0===r?void 0:r.toISOString(),description:"Stream count ".concat(e.stream_count),showImages:[],resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null})}))),n.createElement(Qt.q,{className:Ye,total:(null==Re?void 0:Re.total)||0,title:P.ag.get("top_artists_this_month"),tagline:P.ag.get("only_visible_to_you"),seeAllUri:l().profileURI(oe,["top","artists"]).toURI(),id:"top-artists",index:$e(1)},null==Re?void 0:Re.items.map((function(e,t){return n.createElement(W.I,{index:t,key:e.uri,uri:e.uri,name:e.name,images:e.images})}))),n.createElement(ir,{className:Ye,title:P.ag.get("top_tracks_this_month"),tagline:P.ag.get("only_visible_to_you"),seeAllUri:l().profileURI(oe,["top","tracks"]).toURI(),uri:o,tracks:null==Ae?void 0:Ae.items,spec:ve}),n.createElement(Qt.q,{className:Ye,total:$.total_public_playlists_count,title:P.ag.get("public_playlists"),seeAllUri:l().profileURI(oe,["playlists"]).toURI(),id:"playlists",index:$e(2)},null==te?void 0:te.map((function(e,t){return n.createElement(z.Z,{index:t,key:e.uri,uri:e.uri,name:e.name,images:[{url:Vt({imageUriOrUrl:e.image_url}),width:300,height:300}],authorName:e.owner_name,description:e.followers_count?P.ag.get("user.followers",e.followers_count):""})}))),null!=ae&&ae.length?n.createElement(Qt.q,{className:Ye,total:null==ae?void 0:ae.length,title:P.ag.get("recently_played_artists"),seeAllUri:l().profileURI(oe,["recently-played-artists"]).toURI(),id:"recently-played-artists",index:$e(3)},null==ae?void 0:ae.map((function(e,t){return n.createElement(W.I,{index:t,key:e.uri,uri:e.uri,name:e.name,images:[{url:e.image_url}]})}))):null,null!=_e&&_e.length?n.createElement(Qt.q,{className:Ye,title:P.ag.get("followers"),total:null==_e?void 0:_e.length,seeAllUri:l().profileURI(oe,["followers"]).toURI(),id:"followers",index:$e(4)},null==_e?void 0:_e.map((function(e,t){return n.createElement(O.P,{key:e.uri,index:t,uri:e.uri,name:e.name,images:[{url:e.image_url}]})}))):null,null!=be&&be.length?n.createElement(Qt.q,{className:Ye,title:P.ag.get("following"),total:null==be?void 0:be.length,seeAllUri:l().profileURI(oe,["following"]).toURI(),id:"following",index:$e(5)},null==be?void 0:be.map((function(e,t){return n.createElement(O.P,{key:e.uri,index:t,uri:e.uri,name:e.name,images:[{url:e.image_url}]})}))):null,ne&&U&&("editProfile"===R?n.createElement(Ct,{uri:o,name:ue,image:le,onClose:ze,shouldOpenImagePicker:A}):"soundtrap"===R&&Te&&Fe?n.createElement(Tt.x,{project:Fe,userDisplayName:ue,onClose:ze}):null)))},sr=function(e){var t=e.uri,r=(0,f.J)(p.n5.getPlaylists,[{uri:t}]),a=r.data,i=r.loading,l=r.error,o=a||{},s=o.public_playlists,u=o.total_public_playlists_count,c=void 0===u?0:u;return i?n.createElement(x.h,{hasError:null!==l,errorMessage:P.ag.get("error.not_found.title.page")}):n.createElement(y.P,{className:_()("contentSpacing",S),total:c,title:P.ag.get("public_playlists"),showAll:!0},null==s?void 0:s.map((function(e,t){return n.createElement(z.Z,{index:t,key:e.uri,uri:e.uri,name:e.name,authorName:e.owner_name,description:e.followers_count?P.ag.get("user.followers",e.followers_count):"",images:[{url:Vt({imageUriOrUrl:e.image_url}),width:300,height:300}]})})))},ur=function(e){var t=e.uri,r=(0,f.J)(p.n5.getRecentlyPlayedArtists,[{uri:t,limit:50}]),a=r.data,i=r.loading,l=r.error,o=null==a?void 0:a.artists;return i?n.createElement(x.h,{hasError:null!==l,errorMessage:P.ag.get("error.not_found.title.page")}):n.createElement(y.P,{className:_()("contentSpacing",S),total:null==o?void 0:o.length,title:P.ag.get("recently_played_artists"),showAll:!0},null==o?void 0:o.map((function(e,t){return n.createElement(W.I,{index:t,key:e.uri,name:e.name,uri:e.uri,images:[{url:e.image_url}]})})))},cr=function(){var e=(0,f.J)(p.n5.getUserTopArtists),t=e.data,r=e.loading,a=e.error,i=null==t?void 0:t.body;return r?n.createElement(x.h,{hasError:null!==a,errorMessage:P.ag.get("error.not_found.title.page")}):i?n.createElement(y.P,{className:_()("contentSpacing",S),total:i.items.length,title:P.ag.get("top_artists_this_month"),tagline:P.ag.get("only_visible_to_you"),showAll:!0},i.items.map((function(e,t){return n.createElement(W.I,{key:e.uri,index:t,uri:e.uri,name:e.name,images:e.images})}))):null},mr=function(e){var t=e.uri,r=(0,f.J)(p.n5.getProfile,[{uri:t}]),a=r.data,i=r.loading,l=r.error,o=(null==a?void 0:a.is_current_user)||!1;return a&&!i&&o?n.createElement(cr,null):n.createElement(x.h,{hasError:null!==l,errorMessage:P.ag.get("error.not_found.title.page")})},dr=function(e){var t=e.uri,r=(0,f.J)(p.n5.getUserTopTracks,[{offset:0,limit:50}]),a=r.data,i=r.loading,l=r.error,o=null==a?void 0:a.body;return i?n.createElement(x.h,{hasError:null!==l,errorMessage:P.ag.get("error.not_found.title.page")}):o?n.createElement("div",{className:_()("contentSpacing",S,U)},n.createElement("div",{className:R},n.createElement(X.D,{as:"h1",variant:"canon",className:A},P.ag.get("top_tracks_this_month")),n.createElement(X.D,{as:"p",variant:"mesto"},P.ag.get("only_visible_to_you"))),n.createElement(ar,{tracks:o.items,uri:t,hasHeaderRow:!0})):null},gr=function(e){var t=e.uri,r=(0,f.J)(p.n5.getProfile,[{uri:t}]),a=r.data,i=r.loading,l=r.error,o=(null==a?void 0:a.is_current_user)||!1;return a&&!i&&o?n.createElement(dr,{uri:t}):n.createElement(x.h,{hasError:null!==l,errorMessage:P.ag.get("error.not_found.title.page")})};const fr=n.memo((function(){var e=(0,a.UO)().userId,t=decodeURIComponent(e),r=l().profileURI(t).toURI();return n.createElement("section",null,n.createElement(s.l,{exact:!0,path:"/user/:userId/playlists",pageId:o.Wg.PROFILE_PLAYLISTS},n.createElement(sr,{uri:r})),n.createElement(s.l,{exact:!0,path:"/user/:userId/top/tracks",pageId:o.Wg.PROFILE_TOP_TRACKS},n.createElement(gr,{uri:r})),n.createElement(s.l,{exact:!0,path:"/user/:userId/top/artists",pageId:o.Wg.PROFILE_TOP_ARTISTS},n.createElement(mr,{uri:r})),n.createElement(s.l,{exact:!0,path:"/user/:userId/recently-played-artists",pageId:o.Wg.PROFILE_RECENTLY_PLAYED_ARTISTS},n.createElement(ur,{uri:r})),n.createElement(s.l,{exact:!0,path:"/user/:userId/following",pageId:o.Wg.PROFILE_FOLLOWING},n.createElement(M,{uri:r})),n.createElement(s.l,{exact:!0,path:"/user/:userId/followers",pageId:o.Wg.PROFILE_FOLLOWERS},n.createElement(T,{uri:r})),n.createElement(s.l,{exact:!0,path:"/user/:userId/episodes",pageId:o.Wg.PROFILE_EPISODES},n.createElement(k,{uri:r})),n.createElement(s.l,{exact:!0,path:"/user/:userId",pageId:o.Wg.PROFILE},n.createElement(or,{uri:r})))}))},47991:(e,t,r)=>{r.d(t,{$:()=>n});var n=function(e){var t;return(null==e||null===(t=e.linked_from)||void 0===t?void 0:t.uri)||e.uri}}}]);
//# sourceMappingURL=xpui-routes-profile.js.map