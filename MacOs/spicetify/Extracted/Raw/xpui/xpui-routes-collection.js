"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[6309],{40771:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(87462),a=n(45987),i=n(67294),l=n(67892),c=["href","children"],o=function(e){var t=e.href,n=e.children,o=(0,a.Z)(e,c);return i.createElement(l.Z,(0,r.Z)({to:t},o),n)}},22578:(e,t,n)=>{n.d(t,{$:()=>f});n(26699),n(32023),n(69600),n(68309),n(21249);var r=n(67294),a=n(64593),i=n(96206),l=n(69691),c=n(8341),o=n(89952),u=n(51615),s=n(24183);function m(e){return e.includes("Spotify")?e:"Spotify – ".concat(e)}var f=function(e){var t,n,f,d,p,g,v,h=e.children,E=e.usePlayingItem,b=m(h);t=h,d=(0,s.Oh)().mainLandmarkRef,p=(0,u.k6)(),g=null===(n=p.location)||void 0===n||null===(f=n.state)||void 0===f?void 0:f.preventMoveFocus,(v=(0,r.useRef)(p.length<2)).current=p.length<2,(0,r.useEffect)((function(){var e=d.current;!g&&!v.current&&e&&t&&(e.setAttribute("aria-label",t),e.focus())}),[t,d,g]);var y=(0,l.IK)().isPlaying,k=(0,c.Y)((function(e){return null==e?void 0:e.item}));return k&&(y||E)&&((0,o.G_)(k)?b=[k.name,k.artists.map((function(e){return e.name})).join(i.ag.getSeparator())].join(" • "):(0,o.iw)(k)?b=[k.name,k.show.name].join(" • "):(0,o.k6)(k)&&(b=m(i.ag.get("ad-formats.advertisement")))),r.createElement(a.q,{defaultTitle:"Spotify",defer:!1},r.createElement("title",null,b))}},69376:(e,t,n)=>{n.d(t,{n:()=>L});var r=n(4942),a=n(29439),i=(n(69826),n(41539),n(91038),n(78783),n(21249),n(85827),n(47042),n(89554),n(54747),n(57327),n(26699),n(32023),n(67294)),l=n(94184),c=n.n(l),o=n(51615),u=n(32667),s=n(34142),m=n(47921),f=n(96206),d=n(24697),p=n(32648),g=n(85951);var v=n(32626),h=n(43031),E=n(30005),b=n(21691);const y="main-topBar-contentArea",k="muYk5XIwKmqR9iNibk_f",O="queue-tabBar-headerItem",w="queue-tabBar-moreButton",x="queue-tabBar-moreButtonActive",C="yxf_6IsQEmHjijEBUMTP",I="queue-tabBar-active",R="queue-tabBar-headerItemLink",P="queue-tabBar-header",S="queue-tabBar-chevron";var Z=function(e){var t=e.items,n=e.activeItemId;return i.createElement(E.v,null,t.map((function(e){return e.disabled?i.createElement(b.s,{key:e.uri,disabled:!0,role:"menuitemradio",className:C,onClick:e.handleClick},e.title):i.createElement(b.s,{key:e.uri,role:"menuitemradio",to:e.to,exact:!0,"aria-checked":e.itemId===n,className:C,activeClassName:I,onClick:e.handleClick},e.title)})))},L=i.memo((function(e){var t,n=e.isCentered,l=e.links,E=e.landmarkLabel,b=e.className,C=(0,i.useRef)(null),L=(0,i.useState)([]),N=(0,a.Z)(L,2),A=N[0],j=N[1],T=(0,i.useState)(0),D=(0,a.Z)(T,2),B=D[0],H=D[1],Y=(0,i.useState)([]),U=(0,a.Z)(Y,2),M=U[0],_=U[1],F=null!==(t=function(){var e=(0,i.useState)(window.innerWidth),t=(0,a.Z)(e,2),n=t[0],r=t[1],l=(0,i.useContext)(p.VX).scrollNodeChildRef,c=(0,d.y1)((function(e){null!=e&&e.width&&r(e.width)}),250);return(0,g.y)({refOrElement:l,observeOnly:"width",onResize:c}),n}())&&void 0!==t?t:1/0,W=(0,o.TH)().pathname,G=l.find((function(e){return e.to===W}));return(0,i.useEffect)((function(){C.current&&H(C.current.clientWidth)}),[F]),(0,i.useEffect)((function(){if(C.current){var e=Array.from(C.current.children).map((function(e){return e.clientWidth}));j(e)}}),[l]),(0,i.useEffect)((function(){if(C.current)if(A.slice(0,-1).reduce((function(e,t){return e+t}),0)<=B)_([]);else{var e=A.reduce((function(e,t){return e>t?e:t}),0),t=[],n=e;A.forEach((function(e,r){B>=n+e?n+=e:t.push(r)})),_(t)}}),[B,A]),i.createElement("nav",{className:c()(b,y),"aria-label":E},i.createElement("ul",{className:n?k:P,ref:C},l.filter((function(e,t){return!M.includes(t)})).map((function(e){var t;return(null!==(t=null==e?void 0:e.render)&&void 0!==t?t:function(e){return e})(i.createElement("li",{key:e.to,className:O},e.disabled?i.createElement("div",{className:R},i.createElement(u.D,{variant:"mestoBold"},e.title)):i.createElement(h.O,{exact:!0,className:R,activeClassName:I,to:e.to,onClick:e.handleClick},i.createElement(u.D,{variant:"mestoBold"},e.title))))})),M.length||0===A.length?i.createElement("li",{className:O},i.createElement(v.xV,{renderInline:!0,menu:i.createElement(Z,{items:l.filter((function(e,t){return M.includes(t)})),activeItemId:null==G?void 0:G.itemId})},(function(e,t,n){return i.createElement("button",{className:c()(w,(0,r.Z)({},x,G)),type:"button",onClick:t,ref:n},i.createElement(u.D,{variant:"mestoBold"},G?G.title:f.ag.get("more")),e?i.createElement(s.U,{iconSize:16,className:S,"aria-hidden":"true"}):i.createElement(m.i,{iconSize:16,className:S,"aria-hidden":"true"}))}))):null))}))},99499:(e,t,n)=>{n.r(t),n.d(t,{default:()=>St});var r=n(15861),a=n(87757),i=n.n(a),l=(n(66992),n(41539),n(88674),n(78783),n(33948),n(67294)),c=n(86706),o=n(87577),u=n(73305),s=n(96206),m=n(70369),f=n(26700),d=n(13983),p=n(49207),g=n(98773),v=(n(57327),n(68309),n(32667)),h=n(72803),E=n(3634),b=n(4942),y=(n(21249),n(94184)),k=n.n(y),O=n(29439);n(91038),n(47042),n(69826),n(5212),n(47941),n(82526),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{items:[],invalid:!0};return{items:Array.from({length:e.totalLength}).map((function(r,a){var i,l=n.invalid||null===(i=n.items[a])||void 0===i?void 0:i.value;return{value:a-t in e.items?e.items[a-t]:l,index:a}})),invalid:!1}},I=function(e){return e.filter((function(e){return null!==e.value}))};var R=n(48817),P=n(68828),S=function(e){var t=e.renderItems,n=e.nrItems,r=e.estimatedItemMaxHeight,a=e.scrollNodeRef,i=e.nrRowsOverscan,c=void 0===i?5:i,o=(0,l.useRef)(null),u=(0,l.useRef)(null),s=(0,l.useRef)(null),m=(0,l.useRef)(0),f=(0,l.useRef)({rowCount:0,rowHeight:r,columnCount:1}),d=(0,l.useState)({firstItemToRender:0,lastItemToRender:-1}),p=(0,O.Z)(d,2),g=p[0],v=p[1],h=(0,l.useCallback)((function(e,t){var n=a.current;if(n){var r=Math.floor(n.offsetHeight/t)+2*c;f.current={rowCount:r,rowHeight:t,columnCount:e}}}),[c,a]),E=(0,l.useCallback)((function(){var e=a.current;if(e){var t=Math.floor((e.scrollTop-m.current)/f.current.rowHeight),r=Math.max(t-c,0),i=r*f.current.columnCount,l=Math.min((r+f.current.rowCount-1)*f.current.columnCount-1,n-1);i===g.firstItemToRender&&l===g.lastItemToRender||v({firstItemToRender:i,lastItemToRender:l})}}),[g.firstItemToRender,g.lastItemToRender,n,c,a]),b=(0,l.useCallback)((function(e){return t(g.firstItemToRender,g.lastItemToRender,e)}),[g.firstItemToRender,g.lastItemToRender,t]),y=(0,l.useCallback)((function(e){var t=e.columnCount,n=e.rowHeight+R.w;n!==f.current.rowHeight&&t>0&&(h(t,n),E())}),[h,E]);(0,l.useEffect)((function(){var e=s.current,t=a.current;e&&t&&(m.current=e.getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop)}),[a]),(0,l.useEffect)((function(){if(!window.IntersectionObserver)return function(){};var e=new window.IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&E()}))}));return o.current&&e.observe(o.current),u.current&&e.observe(u.current),function(){e.disconnect()}}),[E]);var k=Math.ceil(n/f.current.columnCount),w=Math.min(k*f.current.rowHeight,f.current.rowHeight*(c-2)),x=f.current.rowHeight*(g.firstItemToRender/f.current.columnCount),C=g.lastItemToRender/f.current.columnCount+1<k?f.current.rowHeight*(k-f.current.rowCount)-x:0;return l.createElement("div",{ref:s,className:P.Z.wrapper,style:{height:"".concat(k*f.current.rowHeight,"px")}},l.createElement("div",{ref:o,className:P.Z.topSentinel,style:{height:"".concat(x+w,"px")}},l.createElement("div",{style:{height:"".concat(w,"px")}})),l.createElement("div",{style:{transform:"translateY(".concat(x,"px)")}},l.createElement(R.T,{render:b,onLayoutChange:y})),l.createElement("div",{ref:u,className:P.Z.bottomSentinel,style:{height:"".concat(C+w,"px")}},l.createElement("div",{style:{height:"".concat(w,"px")}})))},Z=n(32648),L=n(36590),N=n(8498),A=l.memo((function(e){var t=e.index;return l.createElement(L.C,{index:t,headerText:"",uri:"",renderCardImage:function(){return l.createElement(N.x,{images:[]})},featureIdentifier:"unknown"})}));const j="lA3jnNwnLc3CoYKT06Vz";function T(e){var t=e.renderCard,n=e.nrCards,a=e.fetchData,c=e.limit,o=void 0===c?50:c,u=e.cardGridApiRef,s=(0,l.useContext)(Z.VX).scrollNodeRef,m=function(e){var t=e.initialItems,n=void 0===t?[]:t,a=e.nrItems,c=e.fetch,o=e.limit,u=void 0===o?0:o,s=(0,l.useRef)(!1),m=(0,l.useState)(C({totalLength:a,items:n})),f=(0,O.Z)(m,2),d=f[0],p=f[1],g=(0,l.useCallback)((function(){p((function(e){return x(x({},e),{},{invalid:!0})}))}),[]),v=(0,l.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var r,l,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:u,!s.current){e.next=3;break}return e.abrupt("return");case 3:if(c){e.next=6;break}return p(C({totalLength:a,items:n})),e.abrupt("return");case 6:return s.current=!0,e.next=9,c(t,r);case 9:l=e.sent,s.current=!1,p((function(e){return C(l,t,e)}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,n,u,a]);return{getItems:(0,l.useCallback)((function(e,t){var n,r,a=I(d.items).slice(e,t+1),i=null!==(n=null===(r=a.find((function(e){return d.invalid||void 0===e.value})))||void 0===r?void 0:r.index)&&void 0!==n?n:d.invalid?e:void 0;return void 0!==i&&v(i),a.map((function(e){return e.value}))}),[d,v]),invalidateCache:g,hasItems:I(d.items).some((function(e){return!!e.value})),nrValidItems:I(d.items).length}}({nrItems:n,fetch:a,limit:o}),f=m.getItems,d=m.nrValidItems,p=m.invalidateCache,g=m.hasItems;(0,l.useImperativeHandle)(u,(function(){return{update:function(){return p()}}}));return l.createElement("div",{className:k()((0,b.Z)({},j,!g))},l.createElement(S,{renderItems:function(e,n,r){var a=f(e,n,o);return-1===n&&d>0?[l.createElement(A,{key:"placeholder",index:0})]:a.map((function(n,a){var i=n?t(n,e+a,r):null;return null!=i?i:l.createElement(A,{key:a,index:a})}))},scrollNodeRef:s,nrItems:d,estimatedItemMaxHeight:500}))}var D=n(30731),B=n(84200),H=n(6158),Y=n(22423),U=n(42922),M=n(45342),_=n(15852),F=n(64971),W=n(47032),G=n(38911),z=(n(92222),n(6489)),V=n(76391);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){var r=q({},n);return r.entities=t?e.items||[]:r.entities.concat(e.items||[]),r.total=e.totalLength,r.next=e.next,r}function Q(e,t){var n=q({},t),r=t.entities.filter((function(t){return t.uri!==e}));return n.total=(t.total||0)-(t.entities.length-r.length),n.entities=r,n}var X={offset:0,limit:1},$=function(){var e,t,n,a,c,o,u=(0,l.useContext)(M.H),s=(0,l.useCallback)((function(){return u?null==u?void 0:u.getShows(X):Promise.resolve({totalLength:0})}),[u]);return e=s,t=(0,l.useState)(null),n=(0,O.Z)(t,2),a=n[0],c=n[1],o=(0,l.useCallback)((0,r.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e();case 4:n=t.sent,c((null==n?void 0:n.totalLength)||0);case 6:case"end":return t.stop()}}),t)}))),[e]),(0,l.useEffect)((function(){null===a&&o()}),[a,o]),{total:a}},ee=n(47975),te=l.memo((function(e){var t=e.nrAlbums,n=(0,l.useContext)(M.H),a=(0,l.useContext)(Y.fo).filter,c=(0,l.useContext)(W.Q).sortState,o=(0,l.useRef)(null),m=(0,_.fU)(h.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:albums",identifier:u.Wg.YOURLIBRARY_ALBUMS}}),f=m.spec,d=m.UBIFragment,p=(0,l.useMemo)((function(){return f.headerFactory()}),[f]),g=(0,l.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t,r){var l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getAlbums({offset:t,limit:r,filter:a,sort:(0,G.Aq)(c)});case 2:return l=e.sent,e.abrupt("return",{items:l.items,totalLength:l.totalLength});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,a,c]),b=(0,l.useCallback)((function(e,t){return l.createElement(U.ZP,{key:e.uri,value:"card",index:t},l.createElement(E.r,{index:t,uri:e.uri,name:e.name,images:e.images,artists:e.artists,sharingInfo:e.sharingInfo}))}),[]);return(0,l.useEffect)((function(){o.current&&o.current.update()}),[c,a,t]),l.createElement(d,{spec:f},l.createElement(d,{spec:p},l.createElement("div",{className:ee.Z.header},l.createElement(v.D,{as:"h1",variant:"canon"},s.ag.get("albums")),l.createElement(l.Suspense,{fallback:null},l.createElement(F.h,{filterPlaceholder:s.ag.get("collection.filter.albums"),sortOptions:G.Ru})))),l.createElement(T,{nrCards:t,renderCard:b,fetchData:g,cardGridApiRef:o}))})),ne=l.memo((function(){var e=function(){var e=(0,l.useContext)(M.H),t=(0,l.useState)(null),n=(0,O.Z)(t,2),a=n[0],c=n[1],o=(0,l.useCallback)((0,r.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,null==e?void 0:e.getAlbums(X);case 4:n=t.sent,c((null==n?void 0:n.totalLength)||0);case 6:case"end":return t.stop()}}),t)}))),[e]);return(0,l.useEffect)((function(){null===a&&o()}),[a,o]),(0,V.b)(z.EW.UPDATE,o),{total:a}}(),t=e.total;return null===t?l.createElement(H.h,{hasError:!1,errorMessage:s.ag.get("error.request-collection-albums-failure")}):t?l.createElement(te,{nrAlbums:t}):l.createElement(D.u,{linkTo:"/search",linkTitle:s.ag.get("collection.empty-page.albums-cta"),message:s.ag.get("collection.empty-page.albums-subtitle"),title:s.ag.get("collection.empty-page.albums-title")},l.createElement(B.Z,null))})),re=l.memo((function(){return l.createElement(W.$,{uri:"collection/albums",defaultSortOption:G.aY},l.createElement(Y.hz,{uri:"collection/albums"},l.createElement(ne,null)))})),ae=n(39278),ie=n(89477),le=n(70937),ce=n(66257),oe=l.memo((function(e){var t=e.nrArtists,n=(0,l.useContext)(M.H),a=(0,l.useContext)(Y.fo).filter,c=(0,l.useContext)(W.Q).sortState,o=(0,l.useRef)(null),m=(0,_.fU)(h.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:artists",identifier:u.Wg.YOURLIBRARY_ARTISTS}}),f=m.spec,d=m.UBIFragment,p=(0,l.useMemo)((function(){return f.headerFactory()}),[f]),g=(0,l.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t,r){var l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getArtists({offset:t,limit:r,filter:a,sort:(0,G.e3)(c)});case 2:return l=e.sent,e.abrupt("return",{items:l.items,totalLength:l.totalLength});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,a,c]),E=(0,l.useCallback)((function(e,t){return l.createElement(U.ZP,{key:e.uri,value:"card",index:t},l.createElement(ie.I,{index:t,name:e.name,uri:e.uri,images:e.images}))}),[]);return(0,l.useEffect)((function(){o.current&&o.current.update()}),[c,a,t]),l.createElement(d,{spec:f},l.createElement(d,{spec:p},l.createElement("div",{className:ee.Z.header},l.createElement(v.D,{as:"h1",variant:"canon"},s.ag.get("artists")),l.createElement(l.Suspense,{fallback:null},l.createElement(F.h,{filterPlaceholder:s.ag.get("collection.filter.artists"),sortOptions:G.o$})))),l.createElement(T,{nrCards:t,renderCard:E,fetchData:g,cardGridApiRef:o}))})),ue=l.memo((function(e){var t=e.nrArtists,n=(0,l.useContext)(M.H),a=(0,l.useState)({entities:[],total:t}),c=(0,O.Z)(a,2),o=c[0],u=c[1],m=(0,l.useRef)(!1),f=(0,l.useRef)(!1),d=(0,l.useCallback)((0,r.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.current||m.current){e.next=8;break}return m.current=!0,e.next=4,n.getArtists({offset:null!==(t=o.next)&&void 0!==t?t:void 0});case 4:(r=e.sent).next||(f.current=!0),m.current=!1,o.next&&r.next===o.next||u(J(r,!1,o));case 8:case"end":return e.stop()}}),e)}))),[n,o]),p=(0,l.useCallback)((function(e){u(Q(e,o))}),[o]);return l.createElement(le.C,{onReachBottom:d,triggerOnInitialLoad:!0},l.createElement("div",{className:ee.Z.header},l.createElement(v.D,{as:"h1",variant:"canon"},s.ag.get("artists"))),l.createElement(ce.r,{onLibraryItemRemove:p},l.createElement(U.ZP,{value:"EntitiesGrid"},l.createElement(R.T,{render:function(){return o.entities.map((function(e,t){return l.createElement(U.ZP,{key:e.uri,value:"card",index:t},l.createElement(ie.I,{index:t,uri:e.uri,name:e.name,images:e.images}))}))}}))))})),se=l.memo((function(){var e=function(){var e=(0,l.useContext)(M.H),t=(0,l.useState)(null),n=(0,O.Z)(t,2),a=n[0],c=n[1],o=(0,l.useCallback)((0,r.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,null==e?void 0:e.getArtists(X);case 4:n=t.sent,c((null==n?void 0:n.totalLength)||0);case 6:case"end":return t.stop()}}),t)}))),[e]);return(0,l.useEffect)((function(){null===a&&o()}),[a,o]),(0,V.b)(z.EW.UPDATE,o),{total:a}}(),t=e.total,n=(0,l.useContext)(M.H).getCapabilities().canFetchArtistsWithOffset;return null===t?l.createElement(H.h,{hasError:!1,errorMessage:s.ag.get("error.request-collection-artists-failure")}):t>0?n?l.createElement(oe,{nrArtists:t}):l.createElement(ue,{nrArtists:t}):l.createElement(D.u,{message:s.ag.get("collection.empty-page.artists-subtitle"),title:s.ag.get("collection.empty-page.artists-title"),linkTo:"/search",linkTitle:s.ag.get("collection.empty-page.artists-cta")},l.createElement(ae.a,{iconSize:64}))})),me=l.memo((function(){return l.createElement(W.$,{uri:"collection/artists",defaultSortOption:G.u3},l.createElement(Y.hz,{uri:"collection/artists"},l.createElement(se,null)))})),fe=n(51216),de=n(48064),pe=function(e){return""===e.authorName&&""===e.name},ge=l.memo((function(e){var t=e.nrBooks,n=(0,l.useContext)(M.H),a=(0,l.useContext)(Y.fo).filter,c=(0,l.useContext)(W.Q).sortState,o=(0,_.fU)(h.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:audiobooks",identifier:u.Wg.YOURLIBRARY_AUDIOBOOKS}}),m=o.spec,f=o.UBIFragment,d=(0,l.useMemo)((function(){return m.headerFactory()}),[m]),p=(0,l.useRef)(null),g=(0,l.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t,r){var l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getBooks({offset:t,limit:r,filter:a,sort:(0,G.G5)(c)});case 2:return l=e.sent,e.abrupt("return",{items:l.items.map((function(e){return pe(e)?null:e})),totalLength:l.totalLength});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,a,c]),E=(0,l.useCallback)((function(e,t){return l.createElement(U.ZP,{key:e.uri,value:"card",index:t},l.createElement(fe.c,{index:t,uri:e.uri,name:e.name,images:e.images,authorName:e.authorName,isLocked:e.isLocked}))}),[]);return(0,l.useEffect)((function(){p.current&&p.current.update()}),[c,a,t]),l.createElement(f,{spec:m},l.createElement(f,{spec:d},l.createElement("div",{className:ee.Z.header},l.createElement(v.D,{as:"h1",variant:"canon"},s.ag.get("search.title.audiobooks")),l.createElement(F.h,{filterPlaceholder:"Search in Audiobooks",sortOptions:G.ZP}))),l.createElement(T,{nrCards:t,renderCard:E,fetchData:g,cardGridApiRef:p}))})),ve=l.memo((function(){var e=function(){var e=(0,l.useContext)(M.H),t=(0,l.useState)(null),n=(0,O.Z)(t,2),a=n[0],c=n[1],o=(0,l.useCallback)((0,r.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,null==e?void 0:e.getBooks(X);case 4:n=t.sent,c((null==n?void 0:n.totalLength)||0);case 6:case"end":return t.stop()}}),t)}))),[e]);return(0,l.useEffect)((function(){null===a&&o()}),[a,o]),(0,V.b)(z.EW.UPDATE,o),{total:a}}(),t=e.total;return null===t?l.createElement(H.h,{hasError:!1,errorMessage:s.ag.get("error.request-collection-albums-failure")}):t>0?l.createElement(ge,{nrBooks:t}):l.createElement(D.u,{linkTo:"/search",linkTitle:s.ag.get("collection.empty-page.books-cta"),message:s.ag.get("collection.empty-page.books-subtitle"),title:s.ag.get("collection.empty-page.books-title")},l.createElement(de.Z,null))})),he=l.memo((function(){return l.createElement(W.$,{uri:"collection/books",defaultSortOption:G.JV},l.createElement(Y.hz,{uri:"collection/books"},l.createElement(ve,null)))})),Ee=n(93433),be=(n(41817),n(46309)),ye=n(55508),ke=n(74895),Oe=n(24697),we=n(72573),xe=n(98620),Ce=n(13947),Ie=n(72131),Re=n(45788),Pe=n(66393),Se=n(5229),Ze=n(84242),Le=n(69691),Ne=n(28230);const Ae="tlNAdRNP5lIeiD85nMcL",je="FmJEtzkC9046pKloStht";var Te=function(){var e=(0,Ne.g)("images/playlist-folder-filled.svg");return l.createElement("div",{className:Ae},l.createElement("img",{src:e,alt:s.ag.get("local-files"),className:je}))};function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var He=function(e){var t,n=e.uri,a=e.name,c=e.images,o=e.index,u=(0,Re.u)(),m=(0,l.useRef)(null),f=(0,l.useRef)(!0),d=(0,l.useContext)(Pe.t),p=(0,Le.cR)(Ie.b).isPlaying,g=(0,Ze.n)({uri:Ie.b,pages:[{items:(null===(t=m.current)||void 0===t?void 0:t.map((function(e){return Be(Be({},e),{},{provider:null})})))||[]}]},{featureIdentifier:"local_files"}).togglePlay;(0,l.useEffect)((function(){return f.current=!0,function(){f.current=!1}}),[]);var v=(0,Se.z)(we.J,!1),h=(0,O.Z)(v,1)[0],E=(0,Oe.y1)(function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m.current){e.next=5;break}return e.next=3,d.getTracks();case 3:r=e.sent,m.current=r;case 5:f&&g({loggingParams:n},{uri:Ie.b,pages:[{items:(null===(a=m.current)||void 0===a?void 0:a.map((function(e){return Be(Be({},e),{},{provider:null})})))||[]}]});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ce.s_,{leading:!0,trailing:!1});return u.canFetchAllTracks&&h?l.createElement(L.Z,{index:o,delegatePlayback:!0,delegateLogging:!0,isPlaying:p,onPlay:E,headerText:a,featureIdentifier:"local_files",uri:n,renderCardImage:function(){return l.createElement(N.x,{images:c,FallbackComponent:Te})},renderSubHeaderContent:function(){return l.createElement("span",null,s.ag.get("local-files.description"))}}):null},Ye=function(e){var t=e.index,n=(0,xe.gB)();return l.createElement(l.Suspense,{fallback:null},l.createElement(He,{index:t,name:n.name,uri:n.uri,images:n.images}))},Ue=n(49068),Me=n(64269),_e=n(42624),Fe=n(29255),We=n(72138),Ge=n(42781),ze=n(38470),Ve=n(21610),Ke=n(39561),qe=n(22247);const Je="collection-collectionEntityHeroCard-likedSongs",Qe="collection-collectionEntityHeroCard-container",Xe="kST1INfbHSxzydJffBq_",$e="collection-collectionEntityHeroCard-headerContainer",et="collection-collectionEntityHeroCard-tracksContainer",tt="lBs1v3T3HAPrOxfyWemr",nt="collection-collectionEntityHeroCard-descriptionContainer",rt="d8ifuAZX8mK644AwlRZK";function at(e,t){return Array.from(new Array(e).keys()).map((function(e){return l.createElement(qe.C,{key:e,as:"div",className:tt,charCount:t,isLoading:!0})}))}var it=function(e){var t=e.index,n=e.onClick,r=(0,Ke.MY)({limit:7}),a=(0,c.v9)(Fe.Gg).user,i=(0,xe.I2)(null==a?void 0:a.id);return i?l.createElement(Ve.Z,{index:t,className:k()(Je,Qe),onClick:n,headerText:i.name,featureIdentifier:"your_library",uri:i.uri,ariaPlayLabel:s.ag.get("playlist.a11y.play",i.name),ariaPauseLabel:s.ag.get("playlist.a11y.pause",i.name),renderCardImage:function(){return l.createElement("div",{className:$e},l.createElement("div",{className:et},r?r.items.map((function(e,t){var n=e.uri,r=e.name,a=(0,O.Z)(e.artists,1)[0];return l.createElement("span",{key:n},l.createElement("span",{className:rt},t?" • ":""),l.createElement("span",{dir:"auto"},a.name),l.createElement("span",{dir:"auto",className:rt},r))})):at(3)))},renderSubHeaderContent:function(){return l.createElement("div",{className:nt},r?"".concat(r.totalLength," ").concat(i.name):at(1,i.name.length))}}):null},lt=function(e,t,n){var r;return l.createElement(U.ZP,{key:null!==(r="".concat(e.uri))&&void 0!==r?r:t,value:"card",index:t},n)},ct=function(e,t,n){var r;switch(e.type){case Ge.p.LIKED_SONGS:return lt(e,t,n>1?l.createElement(it,{key:e.uri,index:t}):l.createElement(ke.p,{key:e.uri,index:t}));case Ge.p.YOUR_EPISODES:return lt(e,t,l.createElement(Me.T,{key:e.uri,index:t}));case Ge.p.LOCAL_FILES:return lt(e,t,l.createElement(Ye,{key:e.uri,index:t}));case Ge.p.PLAYLIST:return lt(e,t,l.createElement(be.Z,{key:e.uri,index:t,name:e.name,uri:e.uri,images:e.images,description:e.description,authorName:null===(r=e.owner)||void 0===r?void 0:r.displayName}));case"placeholder":return lt(e,t,l.createElement(be.Z,{index:t,key:e.uri,uri:e.uri,name:"",images:[],description:"",authorName:""}));case"empty":return l.createElement(l.Fragment,{key:t});case"folder":return null;default:return(0,ze._)(e),null}},ot=l.memo((function(e){var t=e.nrPlaylists,n=e.showYourEpisodesCard,a=e.showLocalFilesCard,o=(0,l.useContext)(Y.fo).filter,m=(0,l.useContext)(W.Q).sortState,f=(0,l.useContext)(We.BS),d=(0,l.useRef)(null),p=(0,c.v9)(Fe.Gg).user,g=(0,_.fU)(h.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:playlists",identifier:u.Wg.YOURLIBRARY_PLAYLISTS}}),E=g.spec,b=g.UBIFragment,y=(0,l.useMemo)((function(){return E.headerFactory()}),[E]),k=(0,l.useMemo)((function(){var e=[];if(o)return e;var t=(0,xe.I2)(null==p?void 0:p.id);t&&(e.push(t),e.push({uri:"",type:"empty"}));var r=n?(0,xe.bl)(null==p?void 0:p.id):null;r&&e.push(r);var i=a?(0,xe.gB)():null;return i&&e.push(i),e}),[o,a,n,p]),O=(0,l.useCallback)((function(){null!=d&&d.current&&d.current.update()}),[d]);(0,We.iu)(O);var w=(0,l.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,a,l,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k.slice(t),a=t-(k.length-r.length),e.next=4,f.getContents({offset:a,limit:n,filter:o,sort:(0,G.pT)(m),flatten:!0,decorateImagesAndOwner:!0});case 4:return l=e.sent,c=l.items.map((function(e){return"placeholder"===e.type?null:e})),e.abrupt("return",{items:[].concat((0,Ee.Z)(r),(0,Ee.Z)(c)),totalLength:l.totalItemCount+k.length});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[k,f,o,m]);return(0,l.useEffect)((function(){d.current&&d.current.update()}),[m,o,t]),l.createElement(b,{spec:E},l.createElement(b,{spec:y},l.createElement("div",{className:ee.Z.header},l.createElement(v.D,{as:"h1",variant:"canon"},s.ag.get("playlists")),l.createElement(l.Suspense,{fallback:null},l.createElement(F.h,{filterPlaceholder:s.ag.get("collection.filter.playlists"),sortOptions:G.w0})))),l.createElement(T,{nrCards:t+k.length,renderCard:ct,fetchData:w,cardGridApiRef:d}))})),ut=l.memo((function(){var e=(0,We.Rt)(),t=(0,Ue.x)(),n=(0,Re.u)(),r=(0,_e.K)().createPlaylist,a=(0,Se.z)(we.J,!1),i=(0,O.Z)(a,1)[0],c=(0,l.useCallback)((function(){r()}),[r]);return null===e||null===t?l.createElement(H.h,{hasError:!1,errorMessage:s.ag.get("error.request-collection-albums-failure")}):null!=e&&e.playlistCount?l.createElement(ot,{nrPlaylists:e.playlistCount,showYourEpisodesCard:t.totalLength>0,showLocalFilesCard:n.canFetchAllTracks&&i}):l.createElement(D.u,{linkTitle:s.ag.get("collection.empty-page.playlists-cta"),onClick:c,title:s.ag.get("collection.empty-page.playlists-title"),message:s.ag.get("collection.empty-page.playlists-subtitle")},l.createElement(ye.Z,null))})),st=l.memo((function(){return l.createElement(W.$,{uri:"collection/playlists",defaultSortOption:G.Bf},l.createElement(Y.hz,{uri:"collection/playlists"},l.createElement(ut,null)))})),mt=(n(91058),n(95332)),ft=n(49552),dt=n(21794),pt=n(143),gt=n(19480),vt=function(){var e="ginger-audio-shows-top-20-web",t=(0,ft.P)(e).view;if(!t)return null;var n=t.content,r=t.name,a=n.total,i=void 0===a?0:a,c=n.items;return l.createElement(gt.P,{title:r,total:i,seeAllUri:(0,dt.p)(e)},c.filter((function(e){return"show"===e.type})).map((function(e,t){var n;return l.createElement(mt._,{key:e.uri,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,mediaType:null!==(n={audio:pt.E.AUDIO,video:pt.E.VIDEO,mixed:pt.E.MIXED}[e.media_type])&&void 0!==n?n:pt.E.AUDIO,sharingInfo:null,index:t})})))};function ht(e,t){return Array.from(new Array(e).keys()).map((function(e){return l.createElement(qe.C,{key:e,as:"div",className:tt,charCount:t,isLoading:!0})}))}var Et=function(e){var t=e.index,n=(0,Ke.j$)({limit:7}),r=(0,c.v9)(Fe.Gg).user,a=(0,xe.bl)(null==r?void 0:r.id);return a?l.createElement(Ve.Z,{index:t,className:k()(Je,Xe),headerText:a.name,featureIdentifier:"your_library",uri:a.uri,ariaPlayLabel:s.ag.get("playlist.a11y.play",a.name),ariaPauseLabel:s.ag.get("playlist.a11y.pause",a.name),renderCardImage:function(){return l.createElement("div",{className:$e},l.createElement("div",{className:et},n?n.items.map((function(e,t){var n=e.uri,r=e.name,a=e.show;return l.createElement("span",{key:n},l.createElement("span",{className:rt},t?" • ":""),l.createElement("span",{dir:"auto"},r),l.createElement("span",{dir:"auto",className:rt},a.name))})):ht(3)))},renderSubHeaderContent:function(){return l.createElement("div",{className:nt},n?s.ag.get("tracklist-header.episodes-counter",n.totalLength):ht(1,a.name.length))}}):null},bt=l.memo((function(e){var t=e.nrShows,n=(0,l.useContext)(M.H),a=(0,l.useContext)(Y.fo).filter,o=(0,l.useContext)(W.Q).sortState,m=(0,l.useRef)(!1),f=(0,l.useRef)({entities:[],total:t}),d=(0,l.useState)(0),p=(0,O.Z)(d,2),g=p[0],E=p[1],b=(0,c.v9)(Fe.Gg).user,y=(0,_.fU)(h.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:podcasts",identifier:u.Wg.YOURLIBRARY_SHOWS}}),k=y.spec,w=y.UBIFragment,x=(0,l.useMemo)((function(){return k.headerFactory()}),[k]),C=(0,l.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t,r){var l,c,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=u.length>2&&void 0!==u[2]&&u[2],m.current){e.next=9;break}return m.current=!l,e.next=5,n.getShows({offset:t,limit:r,filter:a,sort:(0,G.EY)(o)});case 5:c=e.sent,f.current=J(c,l,f.current),m.current=!1,E((function(e){return e+1}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,a,o,f]),I=(0,l.useCallback)((function(e){f.current=Q(e,f.current),E((function(e){return e+1}))}),[]);(0,l.useEffect)((function(){C(0,50,!!g)}),[a,o]);var P=(0,l.useCallback)((function(){f.current.entities.length!==f.current.total&&C(f.current.entities.length,50)}),[C,f]);return l.createElement(w,{spec:k},l.createElement(le.C,{onReachBottom:P},l.createElement(w,{spec:x},l.createElement("div",{className:ee.Z.header},l.createElement(v.D,{as:"h1",variant:"canon"},s.ag.get("podcasts")),l.createElement(l.Suspense,{fallback:null},l.createElement(F.h,{filterPlaceholder:s.ag.get("collection.filter.podcasts"),sortOptions:G.a6})))),l.createElement(ce.r,{onLibraryItemRemove:I},l.createElement(U.ZP,{value:"EntitiesGrid"},l.createElement(R.T,{render:function(){var e=(0,xe.bl)(null==b?void 0:b.id),t=a||!e||0===f.current.entities.length?[]:[l.createElement(l.Suspense,{fallback:null,key:"your-episodes-card"},l.createElement(Et,{index:0}))],n=t.length>0;return t.concat(f.current.entities.map((function(e,t){var r=n?t+1:t;return l.createElement(U.ZP,{key:e.uri,value:"card",index:r},l.createElement(mt._,{index:r,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,sharingInfo:null}))})))}})))))})),yt=l.memo((function(){var e=$().total,t=(0,c.v9)(Fe.Gg).productState,n=!!t&&parseInt(t.ads,10)>0;return null===e?l.createElement(H.h,{hasError:!1,errorMessage:s.ag.get("error.request-collection-shows-failure")}):e?l.createElement(bt,{nrShows:e}):l.createElement("div",{className:k()(ee.Z.emptyStateContainer,(0,b.Z)({},ee.Z.adBarEnabled,n))},l.createElement(D.u,{linkTo:"/genre/podcasts-web",linkTitle:s.ag.get("collection.empty-page.shows-cta"),message:s.ag.get("collection.empty-page.shows-subtitle"),title:s.ag.get("collection.empty-page.shows-title"),renderInline:!0},l.createElement(de.Z,null)),l.createElement(vt,null))})),kt=l.memo((function(){return l.createElement(W.$,{uri:"collection/podcasts",defaultSortOption:G.rJ},l.createElement(Y.hz,{uri:"collection/podcasts"},l.createElement(yt,null)))})),Ot=n(48414),wt=n(69376),xt=n(28638);function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rt=function(e){var t=e.isAudiobooksEnabled,n=(0,c.v9)(g.rH),r=(0,_.fU)(Ot.createDesktopLibraryTopbarEventFactory,{}),a=r.spec,i=r.logger,o=(0,l.useMemo)((function(){return[{title:s.ag.get("playlists"),itemId:"collection.tab-playlists",to:"/collection/playlists",uri:"spotify:app:collection:playlists"}].concat((0,Ee.Z)(n?[{title:s.ag.get("podcasts"),itemId:"collection.tab-podcasts",to:"/collection/podcasts",uri:"spotify:app:collection:podcasts"}]:[]),(0,Ee.Z)(t?[{title:s.ag.get("search.title.audiobooks"),itemId:"collection.tab-audiobooks",to:"/collection/audiobooks",uri:"spotify:app:collection:audiobooks"}]:[]),[{title:s.ag.get("artists"),itemId:"collection.tab-artists",to:"/collection/artists",uri:"spotify:app:collection:artists"},{title:s.ag.get("albums"),itemId:"collection.tab-albums",to:"/collection/albums",uri:"spotify:app:collection:albums"}]).map((function(e,t){var n=e.uri;return It(It({},e),{},{handleClick:function(){var e=a.linkFactory({position:t,uri:n}).hitUiNavigate({destination:n});i.logInteraction(e)}})}))}),[n,t,i,a]);return l.createElement(xt.w,null,l.createElement(wt.n,{className:ee.Z.tabBar,links:o}))},Pt=l.lazy((0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4246).then(n.bind(n,33377));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));const St=function(){var e=(0,c.v9)(g.rH),t=(0,o.W6)(p.uB);return(0,d.z)("your_library"),l.createElement("section",{className:"contentSpacing"},l.createElement(m.$,null,s.ag.get("collection.page-title")),l.createElement(f.l,{path:"/collection/artists",pageId:u.Wg.YOURLIBRARY_ARTISTS},l.createElement(me,null)),l.createElement(f.l,{path:"/collection/albums",pageId:u.Wg.YOURLIBRARY_ALBUMS},l.createElement(re,null)),l.createElement(f.l,{path:"/collection/playlists",pageId:u.Wg.YOURLIBRARY_PLAYLISTS},l.createElement(st,null)),e&&l.createElement(f.l,{path:"/collection/podcasts",pageId:u.Wg.YOURLIBRARY_SHOWS},l.createElement(kt,null)),t&&l.createElement(f.l,{path:"/collection/audiobooks",pageId:u.Wg.YOURLIBRARY_AUDIOBOOKS},l.createElement(he,null)),l.createElement(f.l,{path:"/collection/music-downloads",pageId:u.Wg.YOURLIBRARY_DOWNLOADS},l.createElement(Pt,null)),l.createElement(Rt,{isAudiobooksEnabled:t}))}},49552:(e,t,n)=>{n.d(t,{P:()=>E});var r=n(4942),a=n(15861),i=(n(85827),n(41539),n(92222),n(47941),n(82526),n(57327),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(87757)),l=n.n(i),c=n(67294),o=n(88767),u=n(87961),s=n(6024),m=(n(69600),n(86706)),f=n(87577),d=n(94321),p=n(29255),g=n(8247);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e,t){var n,r,i,u,s,v,E,y,O,w=(i=(0,f.W6)(g.Xf),u=(0,m.v9)(d.rZ),s=(0,m.v9)(p.Gg),v=s.locale,E=s.overrides,y=(null==E?void 0:E.country)||u,O=(null==E?void 0:E.locale)||v,(0,c.useMemo)((function(){var e=["album","playlist","artist","show","station","episode"];return i&&e.push("uri_link"),{country:y,locale:O,types:e.join(",")}}),[y,i,O])),x=(0,o.useInfiniteQuery)(["useView",e,w],function(){var t=(0,a.Z)(l().mark((function t(n){var r,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.pageParam,a=void 0===r?void 0:r,t.abrupt("return",void 0===a?b(e,w):k(a));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{cacheTime:null!==(n=null==t?void 0:t.cacheTime)&&void 0!==n?n:18e5,staleTime:null!==(r=null==t?void 0:t.staleTime)&&void 0!==r?r:3e5,getNextPageParam:function(e){var t;return null!==(t=e.content.next)&&void 0!==t?t:void 0},getPreviousPageParam:function(e){var t;return null!==(t=e.content.previous)&&void 0!==t?t:void 0}}),C=x.data,I=x.fetchNextPage;return{view:(0,c.useMemo)((function(){return null==C?void 0:C.pages.reduce((function(e,t){return h(h({},e),{},{content:h(h({},e.content),{},{href:t.content.href,next:t.content.next,offset:t.content.offset,previous:t.content.previous,total:t.content.total,items:e.content.items.concat(t.content.items)})})}))}),[null==C?void 0:C.pages]),getNextPage:I}};function b(e,t){return y.apply(this,arguments)}function y(){return(y=(0,a.Z)(l().mark((function e(t,n){var r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.kO.getView(u.b.getInstance(),t,n);case 2:return r=e.sent,a=r.body,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return O.apply(this,arguments)}function O(){return(O=(0,a.Z)(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.TV.getGeneric(u.b.getInstance(),t);case 2:return n=e.sent,r=n.body,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},70937:(e,t,n)=>{n.d(t,{C:()=>s});var r=n(4942),a=n(67294),i=n(97650),l=n(94184),c=n.n(l);const o="eqw9lvuoZHrkWMTdyTpY",u="lb08f71wES9AQnKx6e0R";var s=a.memo((function(e){var t,n=e.triggerOnInitialLoad,l=void 0!==n&&n,s=e.onReachBottom,m=e.showScrollbar,f=void 0===m||m,d=e.horizontalScroll,p=void 0!==d&&d,g=(0,i.YD)({initialInView:l}),v=g.ref,h=g.inView;return(0,a.useEffect)((function(){h&&s&&s()}),[h,s]),a.createElement("div",{className:c()((t={},(0,r.Z)(t,u,!f),(0,r.Z)(t,o,p),t)),"data-testid":"infinite-scroll-list"},e.children,a.createElement("div",{ref:v}))}))},47975:(e,t,n)=>{n.d(t,{Z:()=>r});const r={header:"collection-collection-header",tabBar:"collection-collection-tabBar",AddToPlaylistIcon:"Hbwta1_s02edtdkgJ7qZ",emptyStateContainer:"nHGnfkVXCk9YYVitV6eu",adBarEnabled:"YV8aNrRwNwFaMozM_Bfo"}}}]);
//# sourceMappingURL=xpui-routes-collection.js.map