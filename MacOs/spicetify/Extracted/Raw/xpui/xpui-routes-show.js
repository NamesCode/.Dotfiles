"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[5713],{1850:(e,t,n)=>{n.d(t,{e:()=>g});var i=n(4942),a=n(67294),r=n(94184),o=n.n(r),s=n(96206);const l="idI9vydtCzXVhU1BaKLw",c="fEbcweEiUPPy2eaIaD3F",u="Qq16641w1flRfBavPaAn";var d=n(85893),g=(0,a.memo)((function(e){var t,n=e.isFollowing,a=e.onClick,r=e.disabled,g=void 0!==r&&r,p=e.buttonText,m=n?s.ag.get("following"):s.ag.get("follow");return(0,d.jsx)("button",{type:"button",className:o()(l,(t={},(0,i.Z)(t,c,n),(0,i.Z)(t,u,g),t)),onClick:a,children:p||m})}))},76119:(e,t,n)=>{n.d(t,{A:()=>P});var i=n(4942),a=n(29439),r=n(94184),o=n.n(r),s=n(34142),l=n(47921),c=n(32667),u=n(21965),d=n(20246),g=(n(21249),n(71379)),p=n(78267),m=n(30005),h=n(36652),f=n(21691),v=n(28248),x=n(85893),y=function(e){var t,n=e.heading,i=e.selected,a=e.onSelect,r=e.options,o=e.sortOrder;o&&(o===v.kn.ASC||o===v.kn.SECONDARY_ASC?t=g.C:o!==v.kn.DESC&&o!==v.kn.SECONDARY_DESC||(t=p.B));return(0,x.jsxs)(m.v,{getInitialFocusElement:function(e){return null==e?void 0:e.querySelector('[aria-checked="true"]')},children:[n?(0,x.jsx)(h.F,{children:n}):null,r.map((function(e){var n=e.key,r=e.value;return(0,x.jsx)(f.s,{role:"menuitemradio","aria-checked":n===i.key,CheckedIcon:t,onClick:function(){return a(n)},children:r},n)}))]})};const b="x-sortBox-sortDropdown",j="tPeL3BRKFCF4z2ibZpU7";var k=function(e){return e.isOpen?(0,x.jsx)(s.U,{iconSize:16,"aria-hidden":"true"}):(0,x.jsx)(l.i,{iconSize:16,"aria-hidden":"true"})},P=function(e){var t=e.heading,n=e.options,r=e.selected,s=e.onSelect,l=e.sortOrder,g=e.variant,p=void 0===g?"mesto":g,m=e.semanticColor,h=e.disabled,f=e.onClick,v=e.useSortIcon,P=(0,a.Z)(n,1)[0];return r||(r=P),(0,x.jsx)(d.y,{menu:(0,x.jsx)(y,{selected:r,options:n,onSelect:s,sortOrder:l,heading:t}),children:function(e,t,n){return(0,x.jsxs)("button",{className:o()(b,(0,i.Z)({},j,v)),onClick:function(e){h||(null==f||f(e),t(e))},ref:n,type:"button",children:[(0,x.jsx)(c.D,{semanticColor:m,variant:p,children:r.value}),v?(0,x.jsx)(u.w,{iconSize:16,"aria-hidden":"true"}):(0,x.jsx)(k,{isOpen:e})]})}})}},50644:(e,t,n)=>{n.d(t,{v:()=>p,J:()=>g});n(21249),n(57327),n(41539);var i=n(94184),a=n.n(i),r=n(67294),o=n(32667),s=n(67892);const l="nLNTsyonBwoRIzAv1AME",c="E4I5I7G2CfW32hLWZaqE";var u=n(85893),d=function(e){var t=e.title,n=e.uri,i=e.className,l=e.onClick,d=e.position,g=(0,r.useCallback)((function(e){null==l||l(e,{uri:n,position:d})}),[l,d,n]);return(0,u.jsx)(s.r,{"aria-label":t,className:a()(c,i),to:n,onClick:g,children:(0,u.jsx)(o.D,{dir:"auto",variant:"mestoBold",children:t})})};function g(e){return!!e.uri&&!!e.title}var p=function(e){var t=e.topics,n=e.className,i=e.onClick;return(0,u.jsx)("div",{className:a()(l,n),children:t.filter(g).map((function(e,t){return(0,u.jsx)(d,{title:e.title,uri:e.uri,position:t,onClick:i},e.uri)}))})}},47917:(e,t,n)=>{n.d(t,{V:()=>B,e:()=>F});var i=n(4942),a=n(29439),r=(n(68309),n(92222),n(82526),n(41817),n(47941),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(67294)),o=n(86706),s=n(69518),l=n.n(s),c=n(33702),u=n(84629),d=n(43914),g=n(25988),p=n(48194),m=n(88435),h=n(63567),f=n(56294),v=n(57784),x=n(92823),y=n(38894),b=n(80219),j=n(18261),k=n(87257),P=n(57978),w=n(42922),C=n(18864),S=n(52759),O=n(15852),N=n(7073),I=n(84788),D=n(87093),E=n(85893);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}var U=function(e){return"activation-trigger-mme-".concat(e)},B=r.memo((function(e){var t,n,i,s,A,B,L,T=e.index,M=void 0===T?-1:T,_=e.showMetadata,z=e.episode,Z=e.usePlayContextItem,W=e.status,G=e.variant,K=(0,D.E)(),X=z.playedState.playPositionMilliseconds,H=z.uri,Y=(0,r.useRef)(null),V=(0,r.useState)(z.playedState.state===N.sY.Completed),q=(0,a.Z)(V,2),Q=q[0],J=q[1],$=(0,v.O1)(),ee=(0,y.g)(),te=(0,C.jh)(),ne=(0,x.o)(),ie=(0,o.I0)(),ae=(0,O.fU)(c.createDesktopEpisodeBlockEventFactory,{data:{uri:H,reason:z.requestId||"",position:M}}),re=ae.UBIFragment,oe=ae.spec,se=ae.logger,le=(0,O.Wi)(oe),ce=Z({uri:H}),ue=ce.isActive,de=ce.isPlaying,ge=ce.togglePlay,pe=(0,S.z)(1e4,(function(e){var t;return(null==e||null===(t=e.item)||void 0===t?void 0:t.uri)===H})),me=(0,a.Z)(pe,1)[0];(0,r.useEffect)((function(){de&&(Y.current=me)}),[de,me]),(0,r.useEffect)((function(){!de&&Y.current&&z.duration.milliseconds<=Y.current&&J(!0)}),[de,z.duration.milliseconds]);var he=(0,r.useCallback)((function(e){e||(Y.current=0),J(e)}),[]),fe=F(_),ve=(0,b.s)(R(R({},z),{},{coverArt:{sources:z.coverArt}}),fe),xe=(0,r.useCallback)((function(){if(z.episodeType===N.Wf.Episode&&K)h.y.set((function(){return{triggerId:U(z.uri),triggerAction:null}}));else if(ee)ve();else{var e;e=de?oe.playButtonFactory().hitPause({itemToBePaused:H}):ue?oe.playButtonFactory().hitResume({itemToBeResumed:H}):oe.playButtonFactory().hitPlay({itemToBePlayed:H});var t=se.logInteraction(e);ne({targetUri:H,intent:de?"pause":"play",type:"click"}),ge({loggingParams:t})}}),[ue,ve,ne,ge,H,de,ee,z,K,se,oe]),ye=(0,r.useCallback)((function(){se.logInteraction(oe.hitUiNavigate({destination:H})),ne({type:"click",targetUri:H,intent:"navigate"})}),[H,ne,se,oe]),be=null!==(t=null===(n=z.podcastSubscription)||void 0===n?void 0:n.isPaywalled)&&void 0!==t&&t,je=null!==(i=null===(s=z.podcastSubscription)||void 0===s?void 0:s.isUserSubscribed)&&void 0!==i&&i,ke=be&&!je,Pe=be&&ee,we=(0,I.r)({contentRating:null===(A=z.contentRating)||void 0===A?void 0:A.label,isPaywalled:be}).badges,Ce=(0,r.useCallback)((function(){return ie((0,u.RM)(_.uri))}),[_.uri,ie]),Se=(0,r.useCallback)((function(e){var t=e;return(ke||Pe)&&(t=(0,E.jsx)(m.l,{enabled:!0,showUri:_.uri,children:t})),!z.playability.playable&&we.nineteen&&(t=(0,E.jsx)("div",{onClick:function(e){e.stopPropagation(),Ce()},children:e})),t=(0,E.jsx)(d.D,{id:U(H),targetURI:l().from(H),children:t})}),[H,ke,Pe,_.uri,we.nineteen,z.playability.playable,Ce]);return(0,E.jsx)(re,{spec:oe,children:(0,E.jsx)(w.ZP,{value:"row",index:M,children:(0,E.jsx)(j._,{onShow:function(){se.logInteraction(oe.secondaryHitUiReveal())},menu:(0,E.jsx)(g.k,{uri:H,showUri:_.uri,sharingInfo:z.sharingInfo,isPlayed:Q,onMarkAsPlayed:he}),children:(0,E.jsx)(p.X,{ref:le,requestId:z.requestId,index:M,uri:H,size:te,images:z.coverArt||[],name:z.name,showName:_.name,description:z.description,isPlayable:z.playability.playable||ke,fullyPlayed:Q,durationMs:z.duration.milliseconds,releaseDate:(null===(B=z.releaseDate)||void 0===B?void 0:B.isoString)||"",resumePositionMs:null!==(L=Y.current)&&void 0!==L?L:X,handleDragStart:function(e){if(e.target===e.currentTarget){var t="".concat(z.name," â€¢ ").concat(_.name);$(e,[H],t,_.uri)}},handlePlaybackClick:xe,handleClick:ye,isCurrentlyPlaying:ue,isPaywalled:be,isUserSubscribed:je,isPlaying:de,position:de?me:void 0,episodeSharingInfo:z.sharingInfo,onMarkAsPlayed:he,contentInformation:z.contentInformation,badges:(0,E.jsxs)(E.Fragment,{children:[we.explicit&&(0,E.jsx)(k.N,{}),we.paid&&(0,E.jsx)(f.g,{}),we.nineteen&&(0,E.jsx)(P.X,{size:16})]}),playButtonWrapper:Se,onMoreButtonClick:function(){se.logInteraction(oe.moreButtonFactory().hitUiReveal())},status:W,variant:G})})})})}))},56697:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Gn});n(68309);var i=n(67294),a=n(51615),r=n(69518),o=n.n(r),s=n(87577),l=n(35090),c=n(73305),u=n(96206),d=n(70369),g=n(6158),p=n(15861),m=n(29439),h=n(87757),f=n.n(h),v=(n(74916),n(64765),n(66992),n(41539),n(78783),n(33948),n(41637),n(92222),n(32667)),x=n(45878),y=n(21936),b=n(48690),j=n(22345),k=n(92823),P=n(62515),w=n(20246),C=n(85522),S=n(87257),O=n(29723),N=n(4942),I=n(37761),D=n(7469),E=n(42781);const A="SpVoh9vvBN0kIwzfCiBh",R="nsGHaEmn310z9W4RMbb8",F="PfYVlZzroXSurDmS_kxY",U="kCT99_BcJQtW47mEfVF6",B="gmDgEbPyRXNixmjYAT9f",L="XlZGcb86bItwlMPQ2jOf",T="VGTtqfOlX2jIbpff6mPP",M="aexqooSgfdW95poEaxjH",_="Fui2wGupk4F1Khigbrhj",z="jWcvSz47NFpbLjnkFT1O",Z="Oo6MP8F01W5uGlnw8dag";var W,G=n(51441),K=n(94184),X=n.n(K),H=n(57978),Y=n(16281),V=n(84788),q=n(82627),Q=n(85893);!function(e){e.SMALL="small",e.LARGE="large"}(W||(W={}));var J=function(e){var t,n=e.images,i=e.title,a=e.contentRating,r=e.duration,o=e.moreButton,s=e.onClick,l=e.onContextMenu,c=e.onTouchStart,u=e.onTouchEnd,d=e.isPlaying,g=e.isActive,p=e.size,m=e.className,h=e.label,f=e.isPlayable,x=void 0===f||f,y=p===W.LARGE?"md":"sm",b=(0,V.r)({contentRating:a}).badges;return(0,Q.jsxs)("div",{"data-testid":"trailer-component",className:X()(A,m,(0,N.Z)({},R,g)),onContextMenu:l,onTouchStart:c,onTouchEnd:u,children:[(0,Q.jsxs)("div",{className:U,children:[(0,Q.jsxs)("div",{className:M,children:[(0,Q.jsx)(I.O,{type:E.p.EPISODE,title:i,className:X()(T,(t={},(0,N.Z)(t,Z,p===W.SMALL),(0,N.Z)(t,z,p===W.LARGE),t)),size:D.m$.SIZE_56,images:n,shape:I.K.ROUNDED_CORNERS}),(0,Q.jsx)("div",{className:_,children:(0,Q.jsx)(q.f,{"data-testid":"trailer-play-button",version:G.ul.transparent,size:y,isPlaying:d,onClick:s,disabled:!x})})]}),(0,Q.jsxs)("div",{children:[(0,Q.jsx)("div",{className:B,children:(0,Q.jsx)(v.D,{dir:"auto",className:F,variant:"balladBold",children:i})}),(0,Q.jsxs)("div",{className:L,children:[(0,Q.jsx)(Y.V,{text:h}),b.explicit&&(0,Q.jsx)(S.N,{}),b.nineteen&&(0,Q.jsx)(H.X,{}),(0,Q.jsx)(v.D,{dir:"auto",variant:"mesto",children:(0,Q.jsx)(O.nL,{durationMs:r})})]})]})]}),o]})},$=n(40080),ee=n(84242),te=n(15852),ne=n(74410),ie=n(34011),ae=n(2505),re=n(25678),oe=n(49961),se=n(84465);const le="QEd1L2SSRW1ol_sQQN6m",ce="ENuWK8u3C9kmadnqkErf",ue="i0gSVhns0PjhiUKm4OG1",de="jKVb6K0dga3SfW1dp2Pg",ge="MOpV0_YizQER2NksxLju",pe="vrR8bh9DvivyDfUrh1vD",me="_toO3CqMPAPTbny7Rh8R",he="Iudw61HRePwOAJpbDRvA",fe="GWaz1n1SADn9enzKdi_Z";var ve=i.memo((function(e){var t=e.coverArt,n=e.toggleModal,i=e.uri,a=e.isBook,r=(0,oe.X)(t,{desiredSize:320}),o=(0,te.fU)(ae.createDesktopPodcastRatingEventFactory,{data:{identifier:a?c.Wg.RATINGS_AND_REVIEWS_RATINGS_AUDIOBOOK:c.Wg.RATINGS_AND_REVIEWS_RATINGS,uri:i}}),s=o.spec,l=o.logger;return(0,Q.jsx)(se.Z,{contentLabel:"podcast-rating-modal",isOpen:!0,onRequestClose:n,children:(0,Q.jsxs)("div",{className:le,children:[(0,Q.jsxs)("div",{className:ue,children:[(0,Q.jsx)(v.D,{as:"h1",variant:"canon",className:me,children:u.ag.get("web-player.audiobooks.rating.rateAudiobook")}),(0,Q.jsxs)("button",{className:de,onClick:function(){var e=s.closeButtonFactory().hitUiNavigateBack();l.logInteraction(e),n()},children:[(0,Q.jsx)(ne.k,{role:"presentation"}),(0,Q.jsx)("span",{className:"hidden-visually",children:u.ag.get("web-player.audiobooks.rating.closeModal")})]})]}),(0,Q.jsxs)("div",{className:ge,children:[(0,Q.jsx)(re.Ee,{loading:"eager",src:null==r?void 0:r.url,className:ce}),(0,Q.jsxs)("div",{className:pe,children:[(0,Q.jsx)(v.D,{as:"p",variant:"cello",className:he,children:u.ag.get("web-player.audiobooks.rating.wantToRate")}),(0,Q.jsx)(v.D,{as:"p",className:fe,children:u.ag.get("web-player.audiobooks.rating.goToApp")}),(0,Q.jsx)(ie.D,{colorSet:"invertedLight",onClick:function(){var e=s.okButtonFactory().hitUiNavigateBack();l.logInteraction(e),n()},children:u.ag.get("web-player.audiobooks.rating.ok")})]})]})]})})})),xe=n(38894),ye=n(53538),be=(n(69600),n(97656)),je=function(e){var t=e.htmlDescription,n=e.narrators,a=e.spec,r=(0,k.o)(),o=(0,te.$P)(),s=(0,i.useCallback)((function(e){r({intent:"expand-description",type:"click"});var t=a.seeMoreButtonFactory();o.logInteraction(e?t.hitUiReveal():t.hitUiHide())}),[o,r,a]);return(0,Q.jsxs)(Q.Fragment,{children:[n.length?(0,Q.jsx)(v.D,{as:"p",variant:"ballad",children:u.ag.get("web-player.audiobooks.narratedByX",n.join(u.ag.getSeparator()))}):null,t&&(0,Q.jsx)(be.o,{maxLines:4,content:t,htmlContent:t,onExpanded:s})]})},ke=n(60210),Pe=n(4383),we=n(43683),Ce=i.memo((function(e){var t=e.uri,n=e.size,a=void 0===n?we.q.md:n,r=e.className,o=e.onClick,s=(0,Pe.Z)(t),l=(0,m.Z)(s,2),c=l[0],u=l[1],d=(0,k.o)(),g=(0,i.useCallback)((function(){d({targetUri:t,intent:c?"unsave":"save",type:"click"}),u(!c)}),[d,t,c,u]);return(0,Q.jsx)(we.o,{className:r,isFollowing:c,onFollow:g,onClick:o,uri:t,size:a})})),Se=n(28137);const Oe="8px",Ne="bUYG1AgkIOioFe_UYEO7";var Ie=n(44065),De=n(32626),Ee=n(26482),Ae=n(98778),Re=n(4236),Fe=n(55120),Ue=n(24697),Be=n(9983),Le=n(51867);const Te="iZut9Dh2KEjNVhDUxzWw";function Me(e){var t,n=e.uri,i=e.price,a=e.size,r=e.spec,o=e.logger,s=e.onPlayback,l=(0,Le.k)(),c=(0,xe.g)(),d=0===(null==i||null===(t=i.finalPrice)||void 0===t?void 0:t.amount),g=d?r.getButtonFactory({uri:n}):r.buyButtonFactory({uri:n}),m=(0,Ue.y1)((0,p.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.logInteraction(g.hitShowPaywall({paywalledItem:n})),!c){e.next=4;break}return s(),e.abrupt("return");case 4:if(e.prev=4,null==i||!i.finalPrice){e.next=10;break}return e.next=8,(0,Be.Q)({show_uri:n,currency:i.finalPrice.currency,price:i.finalPrice.amount});case 8:e.next=11;break;case 10:l(u.ag.get("error.generic"));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),l(u.ag.get("error.generic"));case 16:s();case 17:case"end":return e.stop()}}),e,null,[[4,13]])}))),2e3,{leading:!0,trailing:!1});return(0,Q.jsx)(ie.D,{buttonSize:a,className:Te,style:{flexShrink:0},onClick:m,children:d?u.ag.get("web-player.audiobooks.buyFree"):u.ag.get("web-player.audiobooks.buy")})}var _e=function(e){var t=e.uri,n=e.isLocked,i=e.price,a=e.isPlaying,r=e.onPlayback,o=e.logger,s=e.spec,l=e.size,c=void 0===l?"lg":l;return n?(0,Q.jsx)(Me,{size:c,uri:t,price:i,logger:o,spec:s,onPlayback:r}):(0,Q.jsx)(Fe.$,{size:c,isPlaying:a,uri:t,onClick:r})},ze=i.memo((function(e){var t=e.price;return t.finalPrice&&t.finalListPrice?0===t.finalPrice.amount&&0===t.finalListPrice.amount?(0,Q.jsxs)("div",{className:Ne,children:[(0,Q.jsx)(v.D,{variant:"cello",semanticColor:"textBase",children:u.ag.get("audiobook.freePriceDescription")}),(0,Q.jsx)(v.D,{variant:"mesto",children:u.ag.get("audiobook.freePriceExplanation")})]}):(0,Q.jsxs)("div",{className:Ne,children:[(0,Q.jsx)(v.D,{variant:"canon",semanticColor:"textBase",children:t.finalPrice.formattedPrice}),t.finalPrice.amount<t.finalListPrice.amount&&(0,Q.jsxs)(v.D,{variant:"ballad",semanticColor:"textSubdued",children:[u.ag.get("web-player.audiobooks.retailPrice"),":"," ",(0,Q.jsx)("span",{style:{textDecoration:"line-through"},children:t.finalListPrice.formattedPrice})]})]}):null})),Ze=i.memo((function(e){var t=e.backgroundColor,n=e.uri,a=e.name,r=e.isPlaying,o=e.togglePlay,s=e.isLocked,l=e.price,c=e.spec,d=(0,Pe.Z)(n),g=(0,m.Z)(d,2),p=g[0],h=g[1],f=!(0,Re.k)(),v=s&&l,x=(0,k.o)(),y=(0,te.$P)(),j=(0,i.useCallback)((function(){x({targetUri:n,intent:p?"unsave":"save",type:"click"});var e=c.saveToLibraryButtonFactory();p?y.logInteraction(e.hitUnfollow({itemToBeUnfollowed:n})):y.logInteraction(e.hitFollow({itemToBeFollowed:n})),h(!p)}),[x,n,p,c,h,y]),P=(0,i.useCallback)((function(e,t){var i=c.downloadButtonFactory();t===Ee.mc.ADD?y.logInteraction(i.hitDownload({itemToDownload:n})):t===Ee.mc.REMOVE?y.logInteraction(i.hitRemoveDownload({itemToRemoveFromDownloads:n})):t===Ee.mc.NO_PERMISSION&&y.logInteraction(i.hitUiReveal())}),[y,c,n]),w=(0,i.useCallback)((function(){var e=c.contextButtonFactory().hitUiReveal();y.logInteraction(e)}),[y,c]);return(0,Q.jsxs)(ke.o,{backgroundColor:t,style:{"--action-bar-padding-bottom":Oe},children:[(0,Q.jsxs)(ke.F,{children:[(0,Q.jsx)(_e,{uri:n,isLocked:s,price:l,isPlaying:r,onPlayback:o,logger:y,spec:c}),(0,Q.jsx)(Ae.r,{children:(0,Q.jsx)(Ie.H,{isAdded:p,onClick:j,disabled:f,size:Ie.q.md,isAudiobook:!0})},"follow-button"),!s&&(0,Q.jsx)(Ce,{uri:n,onClick:P}),(0,Q.jsx)(De.yj,{menu:(0,Q.jsx)(Se.X,{uri:n}),children:(0,Q.jsx)(b.z,{label:u.ag.get("more.label.context",a),onClick:w})})]}),v&&(0,Q.jsx)(ze,{price:l})]})})),We=n(60289),Ge=n(59482),Ke=n(72907),Xe=i.memo((function(e){var t=e.coverArt,n=e.name,i=e.authorName,a=e.uri,r=e.backgroundColor,o=e.isPlaying,s=e.togglePlay,l=e.isLocked,c=e.price,d=e.logger,g=e.spec;return(0,Q.jsxs)(We.gF,{backgroundColor:r,children:[(0,Q.jsxs)(Ge.W,{children:[(0,Q.jsx)(_e,{uri:a,isLocked:l,price:c,isPlaying:o,onPlayback:s,logger:d,spec:g,size:"md"}),(0,Q.jsx)(Ke.i,{text:n,dragUri:a,dragLabel:n})]}),(0,Q.jsx)(De._P,{menu:(0,Q.jsx)(Se.X,{uri:a}),children:(0,Q.jsx)(We.Oz,{images:t,name:n,shape:I.K.ROUNDED_CORNERS})}),(0,Q.jsxs)(We.sP,{children:[(0,Q.jsx)(We.dy,{small:!0,uppercase:!0,children:u.ag.get("web-player.audiobooks.audiobook")}),(0,Q.jsx)(We.xd,{canEdit:!1,onClick:function(){},children:n}),(0,Q.jsx)(We.QS,{author:i})]})]})})),He=(n(9653),n(57480)),Ye=n(94008);const Ve="_yl4tOZxcpoUt28k6B8I",qe="lcJflizNrSwDM9yPNk6h",Qe="ret7iHkCxcJvsZU14oPY";var Je=function(e){var t,n,i=e.rating,a=e.className,r=e.onClick;var o=null!=i&&null!==(t=i.rating)&&void 0!==t&&t.rating?He.u:Ye.G;if(!i)return null;var s,l,c,d,g=null!==(n=i.averageRating)&&void 0!==n&&n.showAverage?(0,Q.jsxs)(v.D,{variant:"mesto",className:X()(Qe),children:["(",u.ag.formatNumberCompact(Number(i.averageRating.totalRatings)),")"]}):null;return(0,Q.jsxs)("button",{className:X()(Ve,a),onClick:r,children:[(0,Q.jsx)(v.D,{dir:"auto",variant:"mestoBold",children:(d=(null==i||null===(s=i.averageRating)||void 0===s?void 0:s.showAverage)&&(null===(l=i.averageRating)||void 0===l?void 0:l.average)||(null==i||null===(c=i.rating)||void 0===c?void 0:c.rating),"number"==typeof d?u.ag.formatNumber(d,{maximumFractionDigits:1}):u.ag.get("web-player.audiobooks.noRating"))}),(0,Q.jsx)(o,{iconSize:16,className:X()(qe)}),g]})},$e=function(e){var t=e.rating,n=e.onClick;return(0,Q.jsx)(Je,{rating:t,onClick:n})},et=(n(21249),n(70937)),tt=n(192);var nt=n(86649),it=n(60410),at=n(56294),rt=n(55818),ot=n(19986),st=n(8341),lt=n(5944),ct=n(13759),ut=n(67892),dt=n(31610);const gt="BO8KtKFwgSHtMt6PAmuv",pt="b0Vng72SrQiFroJKXfk2",mt="FfeP3XKSZcAdfviyk8fv",ht="eWxDd0LanTnTlSl8SOHX",ft="eAOkseqV13_CAmzuDJpa",vt="fovofKIYdEIURgIYoKm2",xt="we_1b4qCQBaFPT12eUXp",yt="NXXFrQO7npgPCRuSKaAA",bt="ekkhhuxKVGAzkEmuh9kE",jt="zd6xqobF255bxHFtCmXy";var kt=i.memo((function(e){var t=e.name,n=e.duration,r=e.uri,s=e.bookUri,l=e.bookName,c=e.usePlayContextItem,d=e.isLocked,g=e.isPlayable,p=e.resumePositionMs,h=e.isFullyPlayed,f=e.isExplicit,x=e.is19PlusOnly,y=e.spec,P=e.index,w=(0,a.k6)(),C=o().from(r).toURLPath(!0),O=(0,i.useState)(h),I=(0,m.Z)(O,2),D=I[0],E=I[1],A=(0,i.useRef)(p),R=c({uri:r}),F=R.isPlaying,U=R.togglePlay,B=R.isActive,L=(0,te.$P)(),T=(0,st.Y)((function(e){var t;if((null==e||null===(t=e.item)||void 0===t?void 0:t.uri)===r){var n,i=null!==(n=(0,lt.k)(e))&&void 0!==n?n:0;return A.current=i,i}return 0})),M=(0,ot._)(r),_=(0,i.useCallback)((function(e){e.stopPropagation(),e.preventDefault()}),[]),z=(0,i.useCallback)((function(e){if(_(e),C){var t=y.chapterBlockFactory({position:P,uri:r}).hitUiNavigate({destination:r});L.logInteraction(t),w.push(C)}}),[_,C,y,P,r,L,w]),Z=(0,k.o)(),W=(0,i.useCallback)((function(e){_(e);var t=y.chapterBlockFactory({position:P,uri:r}).playButtonFactory();if(d)Z({type:"click",intent:"audiobook-gated-entry-point",itemIdSuffix:"target-chapter"}),L.logInteraction(t.hitShowPaywall({paywalledItem:r}));else{var n=(0,ye.aK)({isPlaying:F,isActive:B,spec:t,logger:L,uri:r});U({loggingParams:n})}}),[P,B,d,F,L,Z,y,_,U,r]),G=(0,i.useCallback)((function(e){e||(A.current=0),E(e)}),[]),K=(0,i.useCallback)((function(e,t){_(e);var n=y.chapterBlockFactory({position:P,uri:r}).downloadButtonFactory();t===Ee.mc.ADD?L.logInteraction(n.hitDownload({itemToDownload:r})):t===Ee.mc.REMOVE?L.logInteraction(n.hitRemoveDownload({itemToRemoveFromDownloads:r})):t===Ee.mc.NO_PERMISSION&&L.logInteraction(n.hitUiReveal())}),[P,L,y,_,r]),Y=(0,i.useCallback)((function(){var e=y.chapterBlockFactory({position:P,uri:r}).secondaryHitUiReveal();L.logInteraction(e)}),[P,L,y,r]),V=(0,i.useCallback)((function(e){_(e);var t=y.chapterBlockFactory({position:P,uri:r}).contextMenuFactory().hitUiReveal();L.logInteraction(t)}),[P,L,y,_,r]);return(0,Q.jsx)(De._P,{menu:(0,Q.jsx)(j.r,{uri:r,showUri:s,isPlayed:D,onMarkAsPlayed:G,isLocked:d}),onShow:Y,children:(0,Q.jsx)("div",{className:ft,children:(0,Q.jsxs)(ut.r,{to:r,onClick:z,className:gt,tabIndex:-1,children:[(0,Q.jsx)("hr",{className:ht,"aria-hidden":!0}),(0,Q.jsxs)("div",{className:pt,children:[(0,Q.jsx)(v.D,{as:"h2",variant:"balladBold",className:X()(yt,(0,N.Z)({},mt,B)),semanticColor:"textBase",children:t}),(0,Q.jsxs)("div",{className:bt,children:[(0,Q.jsx)(q.f,{size:"sm",version:q.u.secondary,onClick:W,isPlaying:F,ariaPlayLabel:u.ag.get("tracklist.a11y.play",t,l),ariaPauseLabel:u.ag.get("tracklist.a11y.pause",t,l),locked:d,disabled:!g&&!d}),d?(0,Q.jsx)(at.g,{}):null,f&&(0,Q.jsx)(S.N,{}),x&&(0,Q.jsx)(H.X,{size:16}),(0,Q.jsx)("div",{className:jt,children:(0,Q.jsx)(ct.E,{isPlaying:F,fullyPlayed:D,durationMs:n.milliseconds,resumePositionMs:A.current,position:F?T:void 0})})]}),(0,Q.jsx)(De.yj,{menu:(0,Q.jsx)(j.r,{uri:r,showUri:s,isPlayed:D,onMarkAsPlayed:G,isLocked:d}),children:(0,Q.jsx)(b.z,{className:vt,size:dt.q.sm,label:u.ag.get("more.label.context",t),onClick:V})}),(0,Q.jsx)(dt.o,{uri:r,bookUri:s,className:X()((0,N.Z)({},xt,!(0,rt.y)(M))),onClick:K,size:dt.q.sm,isLocked:d})]})]})})})})),Pt=function(e){var t=e.bookUri,n=e.bookName,a=e.isFinishedUnlockingJourney,r=e.usePlayContextItem,o=e.spec,s=function(e,t){var n=(0,tt.z)(),a=(0,i.useCallback)(function(){var i=(0,p.Z)(f().mark((function i(a,r){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",n.getBookContents(e,{offset:a,limit:r,doRefreshSubscription:t}));case 1:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}(),[t,n,e]);return a}(t,a),l=(0,i.useRef)(!1),c=(0,i.useRef)(0),u=(0,i.useState)([]),d=(0,m.Z)(u,2),g=d[0],h=d[1],v=(0,i.useCallback)((function(){s&&(l.current||null===c.current||(l.current=!0,s(c.current,50).then((function(e){l.current=!1,c.current=e.nextOffset,e.items.length>0&&h((function(t){return t.concat(e.items)}))}))))}),[s]);return(0,i.useEffect)((function(){c.current=0,h([])}),[t]),(0,Q.jsx)("ul",{children:(0,Q.jsx)(et.C,{onReachBottom:v,triggerOnInitialLoad:!0,children:g.map((function(e,i){var a=e.name,s=e.duration,l=e.uri,c=e.playability.playable,u=e.playedState,d=u.playPositionMilliseconds,g=u.state,p=e.isExplicit,m=e.is19PlusOnly;return(0,Q.jsx)(kt,{name:a,duration:s,uri:l,bookUri:t,bookName:n,usePlayContextItem:r,isLocked:(0,it.S)(e),isPlayable:c,resumePositionMs:d,isFullyPlayed:g===nt.sY.Completed,isExplicit:p,is19PlusOnly:m,spec:o,index:i},l)}))})})};const wt="mmCZ5VczybT9VqKB5wFU",Ct="At_ihDspJfh1yw3Cn2cq",St="Yqz1Nv6wj1n3HmXL_qji",Ot="qRqn3JrWLPbGW9k2a63n",Nt="HAah1_lK_dHgyyE71I8Z",It="eiC4nh70nb5UHZBYMgNA",Dt="eYtmwXEvi1UdCevg8WoK",Et="QOp2aYTYmZHZ6DFFHuYE",At="zOSFBl22aXH_Vak33myy";var Rt=i.memo((function(e){var t,n,r,o=e.metadata,s=o.uri,l=o.coverArt,g=o.name,h=o.htmlDescriptionPlain,N=o.authorName,I=o.sample,D=o.narrators,E=o.rating,A=o.isExplicit,R=o.duration,F=o.copyrights,U=o.publishDate,B=o.price,L=o.isLocked,T=(0,a.TH)().search,M=!!new URLSearchParams(T).get("isUnlockingAudiobook"),_=!(!(0,$.D)(M)||M),z=(0,xe.g)(),Z=(0,P.Z)(null===(t=l[0])||void 0===t?void 0:t.url),G=(0,i.useState)(!1),K=(0,m.Z)(G,2),X=K[0],H=K[1],Y=(0,k.o)(),V=(0,te.fU)(x.createDesktopAudiobookEventFactory,{data:{uri:s,identifier:c.Wg.PODCAST_SHOW_AUDIOBOOK}}),q=V.spec,ne=V.logger,ie=(0,te.fU)(x.createDesktopAudiobookEventFactory,{data:{uri:s,identifier:c.Wg.RATINGS_AND_REVIEWS_RATINGS_AUDIOBOOK}}),ae=ie.spec,re=ie.logger,oe=(0,te.fU)(y.createDesktopLockedAudiobookEventFactory,{data:{uri:s,identifier:c.Wg.PODCAST_SHOW_AUDIOBOOK}}),se=oe.spec,le=oe.logger,ce=(0,i.useMemo)((function(){return q.actionBarFactory()}),[q]),ue=(0,i.useMemo)((function(){return ae.aboutSectionFactory()}),[ae]),de=(0,i.useMemo)((function(){return q.chapterListFactory()}),[q]);(0,i.useEffect)((function(){Y({type:"view",intent:"audiobook"})}),[Y]),(0,i.useEffect)((function(){L&&le.logImpression(se.impression())}),[se,le,L]);var ge=(0,ee.n)({uri:s},{featureIdentifier:"audiobook"}),pe=ge.isPlaying,me=ge.togglePlay,he=ge.usePlayContextItem,fe=ge.isActive,be=ge.triggerPlay,ke=(0,ee.n)({uri:null!==(n=null==I?void 0:I.uri)&&void 0!==n?n:""},{featureIdentifier:"audiobook"}),Pe=ke.togglePlay,we=ke.isPlaying,Ce=ke.isActive,Se=pe&&!we,Oe=fe&&!Ce,Ne=(0,i.useCallback)((0,p.Z)(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=q.actionBarFactory().playButtonFactory(),!L){e.next=4;break}return ne.logInteraction(t.hitShowPaywall({paywalledItem:s})),e.abrupt("return");case 4:z?me():(n=(0,ye.aK)({isPlaying:Se,isActive:Oe,spec:t,logger:ne,uri:s}),Oe?me({loggingParams:n}):be({loggingParams:n}));case 5:case"end":return e.stop()}}),e)}))),[q,L,z,ne,s,me,Se,Oe,be]),Ie=(0,i.useCallback)((function(){null!=I&&I.uri&&(Y({targetUri:I.uri,intent:we?"play":"pause",type:"click"}),Pe())}),[we,Y,Pe,null==I?void 0:I.uri]),De=(0,i.useCallback)((function(){var e=ue.ratingButtonFactory().hitUiReveal();re.logInteraction(e),H((function(e){return!e}))}),[ue,re]);return(0,Q.jsxs)("section",{className:wt,children:[(0,Q.jsx)(d.$,{children:u.ag.get("show.page-title",g)}),(0,Q.jsx)(Xe,{name:g,authorName:N,uri:s,coverArt:l,backgroundColor:Z,togglePlay:Ne,isPlaying:Se,isLocked:L,price:B,logger:ne,spec:q.actionBarFactory()}),(0,Q.jsx)(Ze,{name:g,backgroundColor:Z,uri:s,togglePlay:Ne,isPlaying:Se,isLocked:L,isExplicit:A,duration:R,publishDate:U,price:B,spec:ce}),(0,Q.jsxs)("div",{className:Ct,children:[(0,Q.jsxs)("div",{className:St,children:[(0,Q.jsx)("hr",{className:At,"aria-hidden":!0}),(0,Q.jsxs)("div",{className:Dt,children:[A&&(0,Q.jsx)(S.N,{}),(0,Q.jsxs)("div",{children:[U&&(0,Q.jsx)(v.D,{variant:"ballad",className:Et,children:u.ag.formatDate(U)}),(0,Q.jsx)(v.D,{variant:"ballad",children:(0,Q.jsx)(O.nL,{durationMs:R})})]})]}),(0,Q.jsx)(je,{htmlDescription:h,narrators:D,spec:ue})]}),(0,Q.jsxs)("div",{className:Ot,children:[I&&(0,Q.jsx)(J,{label:u.ag.get("audiobook.page.sample"),images:I.coverArt||[],title:I.name,duration:I.duration.milliseconds,moreButton:(0,Q.jsx)(w.y,{menu:(0,Q.jsx)(j.r,{uri:I.uri,showUri:s,isLocked:L}),children:(0,Q.jsx)(b.z,{})}),onClick:Ie,isPlaying:we,isActive:Ce,size:W.LARGE,contentRating:null===(r=I.contentRating)||void 0===r?void 0:r.label,isPlayable:I.isPlayable}),(0,Q.jsx)("div",{className:Nt,children:(0,Q.jsx)($e,{rating:E,onClick:De})})]}),(0,Q.jsxs)("div",{className:It,children:[(0,Q.jsx)(Pt,{bookUri:s,bookName:g,isFinishedUnlockingJourney:_,usePlayContextItem:he,spec:de},"".concat(s,"-").concat(L)),(0,Q.jsx)(C.k,{copyrights:F})]})]}),X&&(0,Q.jsx)(ve,{toggleModal:function(){return H(!1)},coverArt:l,uri:s,isBook:!0})]})})),Ft=n(74414),Ut=n(11486),Bt=n(49207),Lt=n(89948),Tt=n(87834),Mt=(n(51532),n(26382)),_t={field:Mt.ay.PUBLISH_DATE,order:Mt.i5.DESC},zt={field:Mt.ay.PUBLISH_DATE,order:Mt.i5.ASC},Zt={episodic:_t,sequential:zt,recent:_t};function Wt(){return new Map([[_t,{key:"newest-to-oldest",value:u.ag.get("shows.sort.newest-to-oldest")}],[zt,{key:"oldest-to-newest",value:u.ag.get("shows.sort.oldest-to-newest")}]])}function Gt(e){return Zt[e]}var Kt=n(86514),Xt=n(1850),Ht=function(e){var t=e.uri,n=e.name,a=e.backgroundColor,r=e.spec,o=(0,te.$P)(),s=(0,k.o)(),l=!(0,Re.k)(),c=(0,Pe.Z)(t),d=(0,m.Z)(c,2),g=d[0],p=d[1],h=(0,i.useCallback)((function(){s({targetUri:t,intent:g?"unsave":"save",type:"click"});var e=r.followButtonFactory();o.logInteraction(g?e.hitUnfollow({itemToBeUnfollowed:t}):e.hitFollow({itemToBeFollowed:t})),p(!g)}),[s,t,g,r,o,p]),f=(0,i.useCallback)((function(){o.logInteraction(r.contextButtonFactory().hitUiReveal())}),[o,r]);return(0,Q.jsx)(ke.o,{backgroundColor:a,children:(0,Q.jsxs)(ke.F,{children:[(0,Q.jsx)(Ae.r,{children:(0,Q.jsx)(Xt.e,{isFollowing:g,onClick:h,disabled:l})},"follow-button"),(0,Q.jsx)(w.y,{menu:(0,Q.jsx)(Kt.M,{uri:t}),onShow:f,children:(0,Q.jsx)(b.z,{label:u.ag.get("more.label.context",n)})})]})})};n(82526),n(41817),n(73210),n(88674),n(47941),n(57327),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){(0,N.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qt=(0,i.lazy)((function(){return n.e(8381).then(n.bind(n,18381))}));function Qt(e){return(0,s.W6)(Bt.$f)?(0,Q.jsx)(i.Suspense,{fallback:!0,children:(0,Q.jsx)(qt,Vt({},e))}):null}var Jt=n(25988),$t=n(50644),en=n(80219),tn=n(18261),nn=n(18864),an=n(89952),rn=n(27999),on=n(47917),sn=n(93433),ln=(n(40561),n(42922)),cn=(n(21703),n(96647),n(22583)),un=(0,i.createContext)({setSortState:function(){throw new Error("setSortState must be used within a ShowFilterProvider")},sortState:[]}),dn=i.memo((function(e){var t=e.uri,n=e.children;return(0,Q.jsx)(cn.r,{uri:t,defaultState:[],sortContext:un,localStorageKey:"showFilterParams-v2",children:n})})),gn=(n(5212),n(91038),(0,i.createContext)({setSortState:function(){throw new Error("setSortState must be used within a ShowSortProvider")},sortState:Gt("recent")})),pn=function(e){var t=Wt();return Array.from(t.keys()).some((function(t){return t.field===(null==e?void 0:e.field)}))},mn=i.memo((function(e){var t=e.uri,n=e.children,i=e.defaultSortParam;return(0,Q.jsx)(cn.r,{uri:t,defaultState:i,sortContext:gn,localStorageKey:"showSortParam",validator:pn,children:n})}));const hn="cJJXVm4gQW6AdfCQRhpX",fn="hTRqaN61SDG95erQGMmx";function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){(0,N.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yn={totalCount:0,nextOffset:0,items:[]},bn=i.memo((function(e){var t=e.showMetadata,n=e.usePlayContextItem,a=(0,i.useContext)(gn).sortState,r=(0,i.useContext)(un).sortState,o=(0,rn.ZM)(t.uri,a,r),s=(0,i.useState)(yn),l=(0,m.Z)(s,2),c=l[0],u=l[1],d=(0,i.useRef)(!1),g=(0,i.useRef)(0),p=(0,i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(o){var t=g.current;null!==t&&(d.current||(d.current=!0,o(t,50).then((function(n){u((function(i){var a=e?[]:(0,sn.Z)(i.items);return a.splice.apply(a,[t,n.items.length].concat((0,sn.Z)(n.items))),g.current=n.nextOffset,xn(xn({},n),{},{items:a})})),d.current=!1}))))}}),[o]);return(0,i.useEffect)((function(){u(yn)}),[t.uri]),(0,i.useEffect)((function(){g.current=0,p(!0)}),[p]),(0,Q.jsx)(ln.ZP,{value:"track-list",children:(0,Q.jsx)(et.C,{onReachBottom:p,triggerOnInitialLoad:!0,children:c.items.map((function(e,i){return(0,Q.jsxs)("div",{className:fn,children:[(0,Q.jsx)("hr",{className:hn,"aria-hidden":!0}),(0,Q.jsx)(on.V,{index:i,episode:e,showMetadata:t,usePlayContextItem:n},"".concat(e.uri,"/").concat(i))]},"".concat(i).concat(e.uri))}))})})})),jn=(n(69826),n(76119)),kn={field:Mt.YG.ISPLAYED,operator:Mt.NK.EQUALS,value:!1},Pn={field:Mt.YG.STARTEDPLAYING,operator:Mt.NK.GREATER_THAN,value:0};var wn="all-episodes",Cn=function(e){var t=e.onFilter,n=(0,i.useContext)(un),a=n.sortState,r=n.setSortState,o=new Map([[kn,{key:"is-played",value:u.ag.get("shows.filter.unplayed")}],[Pn,{key:"started-playing",value:u.ag.get("shows.filter.in-progress")}]]),s=Array.from(o.values());s.unshift({key:wn,value:u.ag.get("mwp.podcast.all.episodes")});var l=Array.from(o.keys()),c=(0,i.useCallback)((function(e){if(e===wn)r([]);else{var n=l.find((function(t){var n;return(null===(n=o.get(t))||void 0===n?void 0:n.key)===e}));n&&r([n])}t()}),[t,r,l,o]);if(!o.size||!l)return null;var d=s[0],g=Array.from(o.entries()).filter((function(e){return null==a?void 0:a.some((function(t){return t.field===e[0].field&&t.operator===e[0].operator}))}));return g.length>0&&(d=g[0][1]),(0,Q.jsx)(jn.A,{options:s,onSelect:function(e){return c(e)},selected:d,variant:"balladBold",semanticColor:"textBase",heading:u.ag.get("drop_down.filter_by")})},Sn=function(e){var t=e.onSort,n=(0,i.useContext)(gn),a=n.sortState,r=n.setSortState,o=Wt(),s=Array.from(o.values()),l=Array.from(o.keys()),c=(0,i.useCallback)((function(e){var n=l.find((function(t){var n;return(null===(n=o.get(t))||void 0===n?void 0:n.key)===e}));n&&r(n),t()}),[l,t,o,r]);if(!o.size||!a)return null;var d=Array.from(o.keys()).find((function(e){return e.field===a.field&&e.order===a.order})),g=o.get(d);return(0,Q.jsx)(jn.A,{options:s,onSelect:function(e){return c(e)},selected:g,heading:u.ag.get("drop_down.sort_by")})};const On="aQMtxnKeiJqZ9XCcDuZ7",Nn="TYB4Y2xQujO7cifhHush",In="YJlizbhw6DBPHT9OYbdj",Dn="klz_XuZpllvTMzpJF1gw",En="TfjbWiK8hca4HHEBnonP",An="kR0M2WSYVUj4cohADSFM",Rn="ghfuv80I8uW_ymG_jfx9",Fn="jtfSxoRam9rzTtdXIjzc",Un="fejGrhq7pxGC99cUdyVw",Bn="T0OjvsNXAJJGd23eBG2m";var Ln=function(e){var t=e.spec,n=(0,te.$P)(),a=(0,rn.zZ)().capabilities,r=a.canSort,o=a.canFilter,s=(0,i.useCallback)((function(){n.logInteraction(t.episodeListFactory().filterButtonFactory().hitFilter())}),[n,t]),l=(0,i.useCallback)((function(){n.logInteraction(t.episodeListFactory().sortButtonFactory().hitSort())}),[n,t]);return(0,Q.jsxs)("div",{className:An,children:[o&&(0,Q.jsx)("div",{className:Fn,children:(0,Q.jsx)(Cn,{onFilter:s})}),!o&&(0,Q.jsx)(v.D,{as:"h3",variant:"canon",semanticColor:"textBase",className:Un,children:u.ag.get("mwp.podcast.all.episodes")}),r&&(0,Q.jsx)("div",{className:Rn,children:(0,Q.jsx)(Sn,{onSort:l})})]})},Tn=function(e){switch(e){case nt.it.TRAILER:return u.ag.get("podcasts.next-episode.trailer");case nt.it.UP_NEXT:return u.ag.get("podcasts.next-episode.up-next");case nt.it.CONTINUE_LISTENING:return u.ag.get("podcasts.next-episode.continue-listening");case nt.it.FIRST_PUBLISHED:return u.ag.get("podcasts.next-episode.first-published");case nt.it.LATEST_PUBLISHED:return u.ag.get("podcasts.next-episode.latest-published");default:return}},Mn=function(e){var t,n,a,r=e.metadata,o=e.showId,l=e.spec,c=r.uri,d=r.trailer,g=r.topics,p=r.description,m=r.htmlDescription,h=(0,te.$P)(),f=(0,i.useMemo)((function(){return l.episodeListFactory()}),[l]),x=(0,s.W6)(Bt.Vz),y=(0,k.o)(),j=(0,s.W6)(Bt.Cz),P=(0,xe.g)(),S=(0,i.useContext)(gn).sortState,O=(0,i.useContext)(un).sortState,I=(0,rn.zZ)(),D=(0,ee.n)({uri:c,metadata:(t={},(0,N.Z)(t,an.sb.SORTING_CRITERIA,I.getPlayerSort(S)),(0,N.Z)(t,an.sb.FILTERING_PREDICATE,I.getPlayerFilter(O)),t)},{featureIdentifier:"show"}).usePlayContextItem,E=D({uri:(null==d?void 0:d.uri)||""}),A=E.isActive,R=E.isPlaying,F=E.togglePlay,U=(0,i.useCallback)((function(e){y({intent:"expand-description",type:"click"});var t=l.aboutSectionFactory().seeMoreButtonFactory(),n=e?t.hitUiReveal():t.hitUiHide();h.logInteraction(n)}),[h,y,l]),B=(0,i.useCallback)((function(e,t){var n=l.aboutSectionFactory().topicFactory(t).hitUiNavigate({destination:t.uri});h.logInteraction(n)}),[h,l]),L=(0,on.e)(r),T=(0,en.s)(d,L),M=(0,i.useCallback)((function(){null!=d&&d.uri&&(P?T():(y({targetUri:d.uri,intent:R?"play":"pause",type:"click"}),F()))}),[T,P,R,y,F,null==d?void 0:d.uri]),_=(0,nn.Db)((n={},(0,N.Z)(n,nn.Uo.MEDIUM,0),(0,N.Z)(n,nn.Uo.LARGE,600),n)),z=_.ref,Z=_.breakpoint,G=g.length>0,K=p||j&&m,X=K||G;return(0,Q.jsxs)("div",{className:Nn,children:[(0,Q.jsxs)("div",{className:In,children:[X&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(v.D,{as:"h3",variant:"canon",semanticColor:"textBase",className:Un,children:u.ag.get("artist.about")}),K&&(0,Q.jsx)(be.o,{maxLines:4,content:(p||"").trim(),onExpanded:U,htmlContent:j&&m?m:void 0}),G&&(0,Q.jsx)($t.v,{topics:g,onClick:B})]}),(0,Q.jsx)(Qt,{showId:o,uri:c}),d&&!x&&(0,Q.jsx)(tn._,{menu:(0,Q.jsx)(Jt.k,{uri:d.uri,showUri:c,sharingInfo:d.sharingInfo}),children:(0,Q.jsx)(J,{label:u.ag.get("track-trailer"),className:Bn,images:d.coverArt||[],title:d.name,duration:d.duration.milliseconds,moreButton:(0,Q.jsx)(w.y,{menu:(0,Q.jsx)(Jt.k,{uri:d.uri,sharingInfo:d.sharingInfo,showUri:c}),children:(0,Q.jsx)(b.z,{})}),onClick:M,isPlaying:R,isActive:A,size:W.LARGE,contentRating:null===(a=d.contentRating)||void 0===a?void 0:a.label})})]}),(0,Q.jsx)(nn.ZU.Provider,{value:Z,children:(0,Q.jsxs)("div",{className:En,"data-testid":"show-all-episode-list",ref:z,children:[x&&r.nextBestEpisode&&(0,Q.jsx)(on.V,{showMetadata:r,episode:r.nextBestEpisode.data,usePlayContextItem:D,status:Tn(r.nextBestEpisode.type),variant:"next-best-episode"}),(0,Q.jsx)(Ln,{spec:l}),(0,Q.jsx)(te.Nh,{spec:f,children:(0,Q.jsx)(bn,{showMetadata:r,usePlayContextItem:D})})]})}),(0,Q.jsx)(C.k,{copyrights:[]})]})},_n=i.memo(Mn),zn=n(6330),Zn=function(e){var t=e.metadata,n=e.backgroundColor,i=t.uri,a=t.coverArt,r=t.name,o=t.podcastType,s=t.publisherName,l=(0,zn.e)(),c=l.isXSOnly,d=l.isSMOnly,g=c||d;return(0,Q.jsxs)(We.gF,{backgroundColor:n,children:[(0,Q.jsx)(Ge.W,{children:(0,Q.jsx)(Ke.i,{text:r,dragUri:i,dragLabel:r})}),(0,Q.jsx)("div",{className:Dn,children:(0,Q.jsx)(tn._,{menu:(0,Q.jsx)(Kt.M,{uri:i}),children:(0,Q.jsx)(We.Oe,{loading:"eager",name:r,images:a,placeholderType:"show",shape:We.Kc.ROUNDED_CORNERS})})}),(0,Q.jsxs)(We.sP,{children:[(0,Q.jsx)(We.dy,{small:!0,uppercase:!0,children:"SHOW"===o?u.ag.get("type.show"):u.ag.get("type.podcast")}),(0,Q.jsx)(tn._,{menu:(0,Q.jsx)(Kt.M,{uri:i}),children:(0,Q.jsx)(We.xd,{dragUri:i,dragLabel:r,children:(0,Q.jsx)("span",{"data-testid":"show-title",children:r})})}),(0,Q.jsx)(We.dy,{large:!g,medium:g,bold:!0,children:s})]})]})},Wn=function(e){var t,n=e.metadata,a=e.showId,r=n.coverArt,o=n.name,s=n.uri,c=(0,te.fU)(l.createDesktopPodcastEventFactory,{data:{uri:s}}).spec,g=(0,i.useMemo)((function(){return c.actionBarFactory()}),[c]),p=(0,P.Z)((null===(t=r[0])||void 0===t?void 0:t.url)||null);return(0,Q.jsxs)("section",{className:On,children:[(0,Q.jsx)(d.$,{children:u.ag.get("podcasts.show.seo.title",{name:o})}),(0,Q.jsx)(Zn,{metadata:n,backgroundColor:p}),(0,Q.jsx)(Ht,{uri:s,name:o,backgroundColor:p,spec:g}),(0,Q.jsx)(_n,{metadata:n,showId:a,spec:c})]})};const Gn=(0,i.memo)((function(){var e,t,n=(0,a.UO)().showId,r="spotify:show:".concat(n),l=(0,s.W6)(Bt.uB),d=(0,s.W6)(Bt.Nf),p=(0,Lt.l)(r,!0),m=p.data,h=p.error,f=(0,Ut.V)("show",m);return!m||h||(0,nt.MP)(m)&&(null===(e=m.userCreated)||void 0===e||!e.userUri||!d)||(0,nt.l6)(m)&&!l?(0,Q.jsx)(g.h,{hasError:!!h,errorMessage:u.ag.get("error.not_found.title.page")}):(0,nt.l6)(m)?(0,Q.jsx)(i.Suspense,{fallback:null,children:(0,Q.jsx)(Tt.C,{pageId:c.Wg.PODCAST_SHOW_AUDIOBOOK,uri:r,children:(0,Q.jsx)(Rt,{metadata:m})})}):(0,nt.MP)(m)&&d?(0,Q.jsx)(Ft.o,{to:o().from(null===(t=m.userCreated)||void 0===t?void 0:t.userUri).toURLPath(!0)}):f?(0,Q.jsx)(Ft.o,{to:f}):(0,Q.jsx)(i.Suspense,{fallback:null,children:(0,Q.jsx)(Tt.C,{pageId:c.Wg.PODCAST,uri:r,children:(0,Q.jsx)(dn,{uri:m.uri,children:(0,Q.jsx)(mn,{uri:m.uri,defaultSortParam:Gt(m.consumptionOrder),children:(0,Q.jsx)(Wn,{showId:n,metadata:m})})})})})}))},6330:(e,t,n)=>{n.d(t,{e:()=>p});var i=n(62142);const a="(min-width: 0px)",r="(min-width: 0px) and (max-width: 767px)",o="(min-width: 768px)",s="(min-width: 768px) and (max-width: 1023px)",l="(min-width: 1024px)",c="(min-width: 1024px) and (max-width: 1279px)",u="(min-width: 1280px)",d="(min-width: 1280px) and (max-width: 1919px)",g="(min-width: 1920px)";var p=function(){return{isXS:(0,i.a)(a),isXSOnly:(0,i.a)(r),isSM:(0,i.a)(o),isSMOnly:(0,i.a)(s),isMD:(0,i.a)(l),isMDOnly:(0,i.a)(c),isLG:(0,i.a)(u),isLGOnly:(0,i.a)(d),isXL:(0,i.a)(g)}}},85522:(e,t,n)=>{n.d(t,{k:()=>o});n(21249),n(74916),n(15306),n(92222);var i=n(32667);const a="rTMkDBDp47Eo12ZEQv4U";var r=n(85893),o=function(e){var t=e.copyrights,n=e.courtesyLine,o=(t||[]).map((function(e,t){var n,a=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(Â©\s+)/,"").replace(/^(â„—\s+)/,"");return n="C"===e.type?"Â©":"P"===e.type?"â„—":"(".concat(e.type,")"),(0,r.jsx)(i.D,{as:"p",variant:"finale",dir:"auto",children:"".concat(n," ").concat(a)},t)}));return n&&o.unshift((0,r.jsx)(i.D,{as:"p",variant:"finale",dir:"auto",children:n},o.length)),(0,r.jsx)("div",{className:a,children:o})}}}]);
//# sourceMappingURL=xpui-routes-show.js.map