"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2219,55],{97274:(e,i,n)=>{n.d(i,{D:()=>c});var a=n(59496),t=n(25007),s=n(30348),l=n(72472),r=n(68001),d=n(93542),o=n(4637);const c=({id:e,children:i,targetURI:n,fadeOut:c=!1})=>{const m=(0,a.useCallback)((()=>{window.open((0,l.cd)(n).href)}),[n]),u={getTitle:()=>t.ag.get("action-trigger.available-in-app-only"),getDescription:()=>t.ag.get("action-trigger.listen-mixed-media-episode"),primaryButtonText:()=>t.ag.get("action-trigger.button.get-app"),secondaryButtonText:()=>t.ag.get("action-trigger.button.not-now"),isCTA:!0,intentPrimaryButton:"download-app",onLogInteraction:(0,r.o)(),shouldHideOnScroll:!0,fadeOut:c};return(0,o.jsx)(s.P,{className:d.Z.container,id:e,onPrimaryButtonClick:m,options:u,children:i})}},6580:(e,i,n)=>{n.d(i,{l:()=>b});var a=n(59496),t=n(84875),s=n.n(t),l=n(77646),r=n(55310),d=n(85507),o=n(19378),c=n(29959);function m(){const e=(0,a.useRef)(0);return(0,a.useCallback)((i=>{const n=i.currentTarget,a=n.style.scrollBehavior;let t=!1;const s=n.scrollLeft,l=i.clientX;let r=0;function d(){cancelAnimationFrame(e.current),document.removeEventListener("wheel",o)}function o(){d(),n.style.scrollBehavior=a}function c(){n.scrollLeft+=r,r*=.95,Math.abs(r)>.5?e.current=requestAnimationFrame(c):o()}n.style.userSelect="none",n.style.scrollBehavior="auto",d();const m=e=>{const i=e.clientX-l;Math.abs(i)>10&&(t=!0);const a=n.scrollLeft;n.scrollLeft=s-i,r=n.scrollLeft-a};document.addEventListener("mousemove",m),document.addEventListener("mouseup",(()=>{const i=e=>{e.preventDefault(),e.stopImmediatePropagation()};!0===t&&(n.addEventListener("click",i,{once:!0,capture:!0}),setTimeout((()=>{n.removeEventListener("click",i,{capture:!0})}))),n.style.removeProperty("user-select"),document.removeEventListener("mousemove",m),d(),e.current=requestAnimationFrame(c),document.addEventListener("wheel",o,{once:!0})}),{once:!0})}),[])}const u="search-searchCategory-contentArea",k="search-searchCategory-catergoryGrid",p="MUloQuW1xQawwVs0mDp4",v="OlnSvEViCZ_vVdnc3mSQ",N="FjMPyh7lOujDVYQRvp0H",S="search-searchCategory-carousel",g="search-searchCategory-carouselButton",y="search-searchCategory-carouselButtonVisible";var h,f=n(4637);function x(e,i){(0,o.Bu)(e,i),i.scrollIntoView({block:"end",inline:"center"})}function F(e,i){const n=e.querySelector('[tabindex="0"]')||e.firstElementChild;n&&n instanceof HTMLElement&&(i===h.RIGHT&&n.nextElementSibling instanceof HTMLElement?x(n,n.nextElementSibling):i===h.LEFT&&n.previousElementSibling instanceof HTMLElement&&x(n,n.previousElementSibling))}!function(e){e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT"}(h||(h={}));const b=e=>{const{children:i,className:n,showButtons:t=!0,ariaLabel:o}=e,x=(0,a.useRef)(null),b=(0,a.useRef)(null),[j,C]=(0,a.useState)(!1),[D,T]=(0,a.useState)(!1),I=(0,a.useCallback)((()=>{if(!b.current||!x.current)return;const e=b.current,i=x.current,n=e.scrollWidth-e.clientWidth,a=Math.ceil(Math.abs(e.scrollLeft)),t=e.scrollWidth>i.clientWidth;T(t&&0!==a),C(t&&a<n)}),[]);(0,c.a)((()=>{I()}));const A=a.Children.toArray(i).length;(0,a.useEffect)(I,[A,I]);const E=(0,a.useCallback)((e=>{const i=e*(x.current.clientWidth/2);b.current.scrollBy({left:i}),I()}),[I]),R=(0,l.v9)((e=>e.ui?.textDirection?.isRTL)),V=(0,a.useCallback)((e=>{"ArrowLeft"===e.key?(e.preventDefault(),F(b.current,R?h.RIGHT:h.LEFT)):"ArrowRight"===e.key&&(e.preventDefault(),F(b.current,R?h.LEFT:h.RIGHT))}),[R]),w=R?j:D,P=R?D:j,U=m();return(0,f.jsxs)("div",{ref:x,className:s()(u,n),children:[(0,f.jsx)("div",{ref:b,className:s()(k,{[v]:P&&!w,[p]:w&&!P,[N]:w&&P}),onScroll:I,onKeyDown:V,onMouseDown:U,role:"list","aria-label":o,tabIndex:0,children:i}),t&&(0,f.jsxs)("div",{className:S,dir:"ltr",children:[(0,f.jsx)("button",{className:s()(g,{[y]:w}),tabIndex:-1,onClick:()=>E(h.LEFT),children:(0,f.jsx)(r.e,{semanticColor:"textBase",iconSize:16})}),(0,f.jsx)("button",{className:s()(g,{[y]:P}),tabIndex:-1,onClick:()=>E(h.RIGHT),children:(0,f.jsx)(d.V,{semanticColor:"textBase",iconSize:16})})]})]})}},18679:(e,i,n)=>{n.d(i,{o:()=>m});var a=n(59496),t=n(25007),s=n(39625),l=n(29009),r=n(79489),d=n(20800),o=n(3723),c=n(4637);const m=a.memo((function({uri:e}){const{spec:i}=(0,r.T)(e);return(0,c.jsx)(l.ZP,{value:"generic",children:(0,c.jsx)(s.v,{children:(0,c.jsxs)(o.q,{divider:"before",children:[(0,c.jsx)(d.Jx,{spec:i,uri:e,displayText:t.ag.get("context-menu.copy-generic-link")}),(0,c.jsx)(d.W2,{spec:i,uri:e})]})})})}))},10783:(e,i,n)=>{n.d(i,{i:()=>v});var a=n(84875),t=n.n(a),s=n(89842);const l="kwJGggri7IZMFvQEClUf",r="yt0QcQy0t7LfbeVaEJG_",d="WHMDRepGVQXXrTx3838g",o="wLoqasagmgNF8ULGMhil",c="cpC_03FZN3i93V8j3g0l",m="S7CXd4i9huhWL_kPV_e3",u="c85eTWJAYaGjCiwH1WDu",k="cTTgGuDbNSWllHjVqiUx";var p=n(4637);const v=({className:e,leading:i,media:n,pretitle:a,title:v,subtitle:N,body:S,footer:g,trailing:y,onContextMenu:h,onTouchStart:f,onTouchEnd:x,onDragStart:F,onDoubleClick:b})=>{const j=(0,s.jh)();return(0,p.jsxs)("div",{className:t()(e,l),onContextMenu:h,onTouchStart:f,onTouchEnd:x,draggable:!0,onDragStart:F,onDoubleClick:b,children:[i?(0,p.jsx)("div",{className:r,children:i}):null,n?(0,p.jsx)("div",{className:d,children:n}):null,(0,p.jsxs)("div",{className:o,children:[a?(0,p.jsx)("div",{children:a}):null,v?(0,p.jsx)("div",{className:u,children:v}):null,N?(0,p.jsx)("div",{className:k,children:N}):null,S?(0,p.jsx)("div",{children:S}):null,g?(0,p.jsx)("div",{children:g}):null]}),y?(0,p.jsx)("div",{className:t()(c,{[m]:j===s.Uo.MEDIUM}),children:y}):null]})}},20055:(e,i,n)=>{n.r(i),n.d(i,{SeeAll:()=>m,default:()=>u});var a=n(59496),t=n(84875),s=n.n(t),l=n(88778),r=n(25007),d=n(91800);const o="a7lvtXATo3HALtrsOHtO";var c=n(4637);const m=(0,a.memo)((function(e){const{link:i,pageId:n,className:a,label:t,state:m,pathname:u,onClick:k}=e;return(0,c.jsx)(d.Z,{to:i,className:s()(o,a),pageId:n,state:m,pathname:u,"data-testid":e["data-testid"],onClick:k,children:(0,c.jsx)(l.D,{variant:"minuetBold",children:t||r.ag.get("search.see-all")})})})),u=m},75333:(e,i,n)=>{n.d(i,{v:()=>k,J:()=>u});var a=n(84875),t=n.n(a),s=n(59496),l=n(88778),r=n(91800);const d="nLNTsyonBwoRIzAv1AME",o="E4I5I7G2CfW32hLWZaqE";var c=n(4637);const m=({title:e,uri:i,className:n,onClick:a,position:d})=>{const m=(0,s.useCallback)((e=>{a?.(e,{uri:i,position:d})}),[a,d,i]);return(0,c.jsx)(r.r,{"aria-label":e,className:t()(o,n),to:i,onClick:m,children:(0,c.jsx)(l.D,{dir:"auto",variant:"mestoBold",children:e})})};function u(e){return!!e.uri&&!!e.title}const k=({topics:e,className:i,onClick:n})=>(0,c.jsx)("div",{className:t()(d,i),children:e.filter(u).map(((e,i)=>(0,c.jsx)(m,{title:e.title,uri:e.uri,position:i,onClick:n},e.uri)))})},79656:(e,i,n)=>{n.d(i,{h:()=>v});var a=n(73809),t=n(60926),s=n(66197),l=n(64266),r=n(52171),d=n(34466),o=n(73327),c=n(1510),m=n(82895),u=n(2098),k=n(92910),p=n(4637);const v=({entity:e,index:i,testId:n,onClick:v,isHero:N=!1})=>{switch(e.type){case k.p.ALBUM:return(0,p.jsx)(a.r,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.images,artists:e.artists,year:e.year,sharingInfo:null,requestId:e.requestId,color:e.color},e.uri);case k.p.ARTIST:return(0,p.jsx)(t.I,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId,color:e.color},e.uri);case k.p.AUDIOBOOK:return(0,p.jsx)(s.c,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.images,authorName:e.authorName,requestId:e.requestId,color:e.color},e.uri);case k.p.EPISODE:return(0,p.jsx)(r.B,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.images,showImages:e.show.images,durationMilliseconds:e.duration.milliseconds,releaseDate:e.release.date,resume_point:null,description:e.description,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,sharingInfo:null,requestId:e.requestId,color:e.color},e.uri);case k.p.GENRE:return(0,p.jsx)(d.s,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId,color:e.color},e.uri);case k.p.PLAYLIST:return(0,p.jsx)(o.Z,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.images,description:"",authorName:e.owner.displayName,requestId:e.requestId,color:e.color},e.uri);case k.p.USER:return(0,p.jsx)(c.P,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId,color:e.color},e.uri);case k.p.SHOW:return(0,p.jsx)(m._,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,sharingInfo:null,requestId:e.requestId,color:e.color},e.uri);case k.p.TRACK:return(0,p.jsx)(u.G,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.album?.images||[],artists:e.artists,album:e.album,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,sharingInfo:null,requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,color:e.color},e.uri);default:return console.warn('Rendering SearchEntityCard using the old method <DeprecatedEntityCardByUriType /> as the entity doesn\'t contain the new "type" EntityType enum.'),(0,p.jsx)(l.q,{testId:n,onClick:v,isHero:N,index:i,entity:e})}}},41608:(e,i,n)=>{n.d(i,{q:()=>c});var a=n(46455),t=n(25007),s=n(79656);const l="x-searchHistoryEntries-searchHistoryEntry",r="x-searchHistoryEntries-clearSingleSearchHistory",d="x-searchHistoryEntries-clearSingleSearchHistoryButton";var o=n(4637);const c=({entity:e,index:i,clearSearchHistory:n})=>(0,o.jsxs)("div",{className:l,children:[(0,o.jsx)(s.h,{entity:{...e,requestId:void 0},index:i}),(0,o.jsx)("div",{className:r,children:(0,o.jsx)("button",{className:d,onClick:()=>n(e.uri),"aria-label":t.ag.get("remove"),children:(0,o.jsx)(a.k,{iconSize:16})})})]},e.uri)},55762:(e,i,n)=>{n.r(i),n.d(i,{default:()=>It});var a=n(59496),t=n(84875),s=n.n(t),l=n(77646),r=n(86695),d=n(55530),o=n.n(d),c=n(83600),m=n(59044),u=n(25007),k=n(52340),p=n(69831),v=n(41834),N=n(87094),S=n(16593),g=n(77003),y=n(33428),h=n(7184),f=n(41608),x=n(29009),F=n(32364),b=n(4637);const j=()=>{const{searchHistory:e,clearSearchHistory:i}=(0,F.u)();return 0===e.length?null:(0,b.jsx)(h.q,{index:0,id:"recent-searches",total:e.length,seeAllUri:"spotify:app:recent-searches",title:u.ag.get("search.title.recent-searches"),children:e.map(((e,n)=>(0,b.jsx)(x.ZP,{index:n,value:"search-history",children:(0,b.jsx)(f.q,{entity:e,index:n,clearSearchHistory:i})},e.uri)))})},C="search-searchBrowse-SearchBrowse",D=()=>{const{spec:e,UBIFragment:i}=(0,g.fU)(p.createDesktopFindEventFactory,{data:{uri:"search:find"}}),{recentSearchesSpec:n,topGenresSpec:t,browseAllSpec:s}=(0,a.useMemo)((()=>({recentSearchesSpec:e.recentSearchesFactory(),topGenresSpec:e.topGenresFactory(),browseAllSpec:e.browseAllFactory()})),[e]);return(0,b.jsxs)("div",{className:C,children:[(0,b.jsx)(i,{spec:n,children:(0,b.jsx)(j,{})}),(0,b.jsx)(v.F,{property:y.Oe,renderNewExperience:()=>(0,b.jsx)(N.Tn,{browseAllSpec:s}),renderOldExperience:()=>(0,b.jsx)(S.T,{topGenresSpec:t,browseAllSpec:s})})]})};var T=n(31954),I=n(12487),A=n(6580),E=n(91800);const R=(0,a.createContext)(null),V=R.Provider;function w(){const e=(0,a.useContext)(R);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}var P=n(64688);const U="search-searchCategory-SearchCategory",q="search-searchCategory-container",_="search-searchCategory-wrapper",L="search-searchCategory-categoryGridItem",O=({to:e,title:i,selected:n,onClick:a})=>(0,b.jsx)(E.Z,{replace:!0,to:e,tabIndex:-1,onClick:a,className:L,children:(0,b.jsx)(T.A,{selected:n,selectedColorSet:"invertedLight",tabIndex:-1,children:i})}),M=({searchCategories:e,selectedCategory:i,displayChips:n})=>{const a=(0,k.n)(),t=(0,c.W6)(y.Dz),{query:l}=w(),{spec:r,logger:d}=(0,g.fU)(I.createDesktopSearchChipsEventFactory,{});if(!l||!n)return null;const o=encodeURIComponent(l);return(0,b.jsx)("div",{className:U,children:(0,b.jsx)("div",{className:s()(q,{contentSpacing:!a}),children:(0,b.jsx)("div",{className:_,children:(0,b.jsxs)(A.l,{children:[!t&&e.length>0&&(0,b.jsx)(O,{to:`spotify:app:search:${o}`,title:u.ag.get("search.title.all"),selected:void 0===i,onClick:()=>{d.logInteraction(r.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:`spotify:app:search:${o}`}))}},"all"),e.map(((e,n)=>{const a=P.Wm[e]?.();return(0,b.jsx)(O,{to:`spotify:app:search:${o}:${e}`,title:a,selected:i===e,onClick:()=>{d.logInteraction(r.chipFactory({identifier:e,position:n+1}).hitUiNavigate({destination:`spotify:app:search:${o}:${e}`}))}},e)}))]})})})})};var H=n(44197),B=n(60294),W=n(496),G=n(7194),K=n(21166);const Z={[G.xN.Podcasts]:["podcasts","podcastAndEpisodes"],[G.xN.Episodes]:["episodes","podcastAndEpisodes"],[G.xN.TopResults]:["topResults","topResults"],[G.xN.Artists]:["artists","artists"],[G.xN.Albums]:["albums","albums"],[G.xN.Playlists]:["playlists","playlists"],[G.xN.Tracks]:["tracks","tracks"],[G.xN.Audiobooks]:["audiobooks","audiobooks"],[G.xN.Genres]:["genres","genres"],[G.xN.Users]:["users","users"]};var z=n(10158),$=n(61509),X=n(69647),Q=n(39187),Y=n(62661),J=n(46213),ee=n(95720),ie=n(17702),ne=n(18060),ae=n(20061),te=n(43372);const se=(e,i)=>{const n=("object"==typeof e?.requestIds?e?.requestIds:void 0)?.[i],a="object"==typeof n?n:void 0;return"string"==typeof a?.["search-api"]?a?.["search-api"]:void 0},le=e=>se(e,"/searchV2"),re=e=>se(e,"/searchV2/topResults");n(39252);var de=n(46203),oe=n(12692);const ce={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchImageURLAndSize"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageSource"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]},me={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchImageSources"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageURLAndSize"}}]}},{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}}]}}]}}]},ue={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchAlbumDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}}]}}]}}]}}]},ke={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchArtistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"verified"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}}]}}]}}]}}]}}]},pe={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchEpisodeDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]},ve={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchGenreDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenreResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Genre"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}}]}}]}}]}}]},Ne={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPlaylistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageURLAndSize"}}]}}]}}]}}]}}]}}]}}]}}]}}]},Se={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPodcastDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}}]}}]}}]},ge={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchAudiobookDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"publishDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}}]}}]}}]},ye={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTrackDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}}]}}]}}]}}]},he={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchUserDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",alias:{kind:"Name",value:"displayName"},name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}}]}}]}}]}}]},fe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchFullEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchFullEpisodeDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"searchFullEpisodeDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisode"}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastMetadataV2"}}]}}]}}]}}]}}]}}]}},...oe.n0.definitions,...de.rD.definitions,...de.rA.definitions,...de.Zl.definitions,...de.TS.definitions,...oe.Sz.definitions,...oe.Rr.definitions]};var xe=n(43598),Fe=n(40610),be=n(93704),je=n(92910),Ce=n(3927);function De(e){if(!e?.colorDark.isFallback)return e?.colorDark.hex}function Te(e){return e.map((e=>e.url?{url:e.url,width:Number(e.width)||56,height:Number(e.height)||56}:e))}const Ie={type:je.p.SHOW,uri:"",name:"",publisher:"",images:[],mediaType:Ce.E.UNKNOWN};function Ae(e,i){return{items:Ee(e?.items||[],i),totalCount:e?.totalCount||0}}function Ee(e,i){return e.map((e=>Re(e,i))).filter(Fe.K)}function Re(e,i){if("Episode"!==e.data?.__typename)return null;const n=e.data,a=n.podcastV2.data;let t=Ie;return"Podcast"===a.__typename&&(t={type:je.p.SHOW,uri:a.uri,name:a.name,publisher:a.publisher?.name||"",mediaType:(0,be.x7)(a.mediaType),images:Te(a.coverArt?.sources||[])}),{type:je.p.EPISODE,name:n.name,images:Te(n.coverArt?.sources||[]),uri:n.uri,duration:{milliseconds:n.duration.totalMilliseconds},isExplicit:n.contentRating?.label===G.KS.Explicit,release:(0,be.dR)(n.releaseDate),description:n.description||"",timeLeft:{milliseconds:n.playedState.state===G.sY.Completed?0:n.duration.totalMilliseconds-n.playedState.playPositionMilliseconds},is19PlusOnly:n.contentRating?.label===G.KS.NineteenPlus,show:t,requestId:i,color:De(n.coverArt?.extractedColors)}}const Ve={...Ie,description:"",htmlDescription:"",coverArt:[],trailer:null,topics:[],podcastType:"UNKNOWN",showTypes:[],publisherName:"",consumptionOrder:"recent",nextBestEpisode:void 0};function we(e,i){return e.map((e=>function(e,i){if("Episode"!==e.data?.__typename)return null;let n=Ve;"Podcast"===e.data.podcastV2.data.__typename&&(n=(0,xe.XU)(e.data.podcastV2.data));return{requestId:i,episode:(0,xe.YS)(e.data),show:n}}(e,i))).filter(Fe.K)}async function Pe(e,i){const n=await e(fe,i),a=n?.data?.searchV2?.episodes;return a?function(e,i){return{items:we(e?.items||[],i),totalCount:e?.totalCount||0}}(a,le(n?.extensions)):null}const Ue={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchDesktop"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}]}]}}]}},{kind:"Field",name:{kind:"Name",value:"featured"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"chipOrder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"typeName"}}]}}]}}]}}]}},...ue.definitions,...me.definitions,...ce.definitions,...ke.definitions,...pe.definitions,...de.rD.definitions,...de.rA.definitions,...ve.definitions,...Ne.definitions,...Se.definitions,...ge.definitions,...ye.definitions,...he.definitions]};function qe(e,i){return{items:_e(e?.items||[],i),totalCount:e?.totalCount||0}}function _e(e,i){return e.map((e=>Le(e,i))).filter(Fe.K)}function Le(e,i){if("Album"!==e.data?.__typename)return null;const n=e.data;return{type:je.p.ALBUM,name:n.name,uri:n.uri,images:Te(n.coverArt?.sources||[]),artists:n.artists.items.map((e=>({type:je.p.ARTIST,name:e.profile.name,uri:e.uri}))),year:n.date?.year,requestId:i,color:De(e.data.coverArt?.extractedColors)}}const Oe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAlbums"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ue.definitions,...me.definitions,...ce.definitions]};function Me(e,i){return{items:He(e?.items||[],i),totalCount:e?.totalCount||0}}function He(e,i){return e.map((e=>Be(e,i))).filter(Fe.K)}function Be(e,i){if("Artist"!==e.data?.__typename)return null;const n=e.data;return{type:je.p.ARTIST,name:n.profile.name,images:Te(n.visuals?.avatarImage?.sources||[]),uri:n.uri,verified:n.profile.verified||!1,requestId:i,color:De(n.visuals.avatarImage?.extractedColors)}}const We={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchArtists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ke.definitions,...me.definitions,...ce.definitions]};function Ge(e,i){return{items:Ke(e?.items||[],i),totalCount:e?.totalCount}}function Ke(e,i){return e.map((e=>Ze(e,i))).filter(Fe.K)}function Ze(e,i){if("Audiobook"!==e.data?.__typename)return null;const n=e.data;return{type:je.p.AUDIOBOOK,uri:n.uri,name:n.name,images:Te(n.coverArt?.sources||[]),authorName:n.authors?.[0]?.name??"",topics:n.topics.items||[],publishDate:n.publishDate?new Date(n.publishDate.isoString):null,requestId:i,color:De(n.coverArt?.extractedColors)}}const ze={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAudiobooks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ge.definitions,...me.definitions,...ce.definitions]};const $e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...pe.definitions,...me.definitions,...ce.definitions,...de.rD.definitions,...de.rA.definitions]};var Xe=n(88585),Qe=n.n(Xe);function Ye(e,i){return{items:Je(e?.items||[],i),totalCount:e?.totalCount||0}}function Je(e,i){return e.map((e=>ei(e,i))).filter(Fe.K)}function ei(e,i){if("Genre"!==e.data?.__typename)return null;const n=e.data,a=Qe().from(n.uri);return{type:je.p.GENRE,name:n.name,uri:a?n.uri:`spotify:app:genre:${n.uri}`,images:Te(n.image?.sources||[]),requestId:i,color:De(n.image?.extractedColors)}}const ii={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchGenres"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ve.definitions,...me.definitions,...ce.definitions]};const ni={type:je.p.USER,uri:"",displayName:"",username:"",images:[]};function ai(e,i){return{items:ti(e?.items||[],i),totalCount:e?.totalCount||0}}function ti(e,i){return e.map((e=>si(e,i))).filter(Fe.K)}function si(e,i){if("Playlist"!==e.data?.__typename)return null;const n=e.data;let a=ni;if("User"===n.ownerV2?.data.__typename){const e=n.ownerV2?.data;a={type:je.p.USER,uri:e.uri||"",displayName:e.name||"",username:e.username||"",images:Te(e.avatar?.sources||[])}}return{type:je.p.PLAYLIST,uri:n.uri,name:n.name,images:Te(n.images?.items.flatMap((e=>e.sources))||[]),owner:a,requestId:i,color:De(n.images.items[0]?.extractedColors)}}const li={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPlaylists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Ne.definitions,...me.definitions,...ce.definitions,...de.rA.definitions]};function ri(e,i){return{items:di(e?.items||[],i),totalCount:e?.totalCount||0}}function di(e,i){return e.map((e=>oi(e,i))).filter(Fe.K)}function oi(e,i){if("Podcast"!==e.data?.__typename)return null;const n=e.data;return{type:je.p.SHOW,uri:n.uri,name:n.name,images:Te(n.coverArt?.sources||[]),publisher:n.publisher?.name||"",topics:n.topics.items||[],requestId:i,color:De(n.coverArt?.extractedColors)}}const ci={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPodcasts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Se.definitions,...me.definitions,...ce.definitions]};function mi(e,i){return{items:ui(e,i),totalCount:e?.totalCount||0}}function ui(e,i){return e?.items.map((e=>ki(e,i))).filter(Fe.K)||[]}function ki({item:e,matchedFields:i},n){if("Track"!==e.data?.__typename)return null;const a=e.data,t=a.albumOfTrack;return{type:je.p.TRACK,uri:a.uri,name:a.name,isPlayable:a.playability.playable,album:{type:je.p.ALBUM,uri:t?.uri||"",name:t?.name||"",images:Te(t?.coverArt?.sources||[])},artists:a.artists.items.map((e=>({type:je.p.ARTIST,name:e.profile.name,uri:e.uri}))),duration:{milliseconds:a.duration.totalMilliseconds},isExplicit:"EXPLICIT"===a.contentRating?.label,is19PlusOnly:"NINETEEN_PLUS"===a.contentRating?.label,requestId:n,isLyricsMatch:!!i?.includes(G.$C.Lyrics),color:De(t?.coverArt?.extractedColors)}}const pi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ye.definitions,...me.definitions,...ce.definitions]};function vi(e,i){return{items:Ni(e?.items||[],i),totalCount:e?.totalCount||0}}function Ni(e,i){return e.map((e=>Si(e,i))).filter(Fe.K)}function Si(e,i){if("User"!==e.data?.__typename)return null;const n=e.data;return{type:je.p.USER,uri:n.uri,name:n.displayName||n.username,images:Te(n.avatar?.sources??[]),requestId:i,color:De(n.avatar?.extractedColors)}}const gi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...he.definitions,...me.definitions,...ce.definitions]};function yi(e,i){const n=e?.itemsV2??[];return{totalCount:n.length,items:n.map((e=>{const{item:n}=e;switch(n?.data?.__typename){case"Album":return Le(n,i);case"Artist":return Be(n,i);case"Audiobook":return Ze(n,i);case"Episode":return Re(n,i);case"Genre":return ei(n,i);case"Playlist":return si(n,i);case"Podcast":return oi(n,i);case"Track":return ki(e,i);case"User":return Si(n,i);default:return console.warn("Unable to determine the correct type for item",n),null}})).filter(Fe.K)}}function hi(e,i){const n=e?.featured||[];return{artistName:n.length?fi(e):"",items:n?.map((e=>si(e,i))).filter(Fe.K)||[],totalCount:n.length||0}}function fi(e){const i=(0,be.wY)(e,"itemsV2",[]);try{return(0,be.U2)(i.map((({item:e})=>e)).filter(Boolean),"0.data")?.profile?.name||""}catch{return""}}const xi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTopResultsOnly"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTopResultsOnly"}}]}},{kind:"Field",name:{kind:"Name",value:"chipOrder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"typeName"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTopResultsOnly"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopResultsV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}]},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}}]}}]}},...ue.definitions,...me.definitions,...ce.definitions,...ke.definitions,...pe.definitions,...de.rD.definitions,...de.rA.definitions,...ve.definitions,...Ne.definitions,...Se.definitions,...ge.definitions,...ye.definitions,...he.definitions]};const Fi={items:[],totalCount:0},bi={albums:Fi,artists:Fi,episodes:Fi,genres:Fi,playlists:Fi,podcasts:Fi,audiobooks:Fi,topResults:{items:[]},tracks:Fi,users:Fi,topRecommendations:{artistName:"",items:[],totalCount:0},chipOrder:{items:[]}},ji={albums:async function(e,i){const n=await e(Oe,i),a=n?.data?.searchV2?.albums;return a?qe(a,le(n?.extensions)):null},artists:async function(e,i){const n=await e(We,i),a=n?.data?.searchV2?.artists;return a?Me(a,le(n?.extensions)):null},episodes:async function(e,i){const n=await e($e,i),a=n?.data?.searchV2?.episodes;return a?Ae(a,le(n?.extensions)):null},genres:async function(e,i){const n=await e(ii,i),a=n?.data?.searchV2?.genres;return a?Ye(a,le(n?.extensions)):null},playlists:async function(e,i){const n=await e(li,i),a=n?.data?.searchV2?.playlists;return a?ai(a,le(n?.extensions)):null},podcasts:async function(e,i){const n=await e(ci,i),a=n?.data?.searchV2?.podcasts;return a?ri(a,le(n?.extensions)):null},audiobooks:async function(e,i){const n=await e(ze,i),a=n?.data?.searchV2?.audiobooks;return a?Ge(a,le(n?.extensions)):null},tracks:async function(e,i){const n=await e(pi,i),a=n?.data?.searchV2?.tracksV2;return a?mi(a,le(n?.extensions)):null},users:async function(e,i){const n=await e(gi,i),a=n?.data?.searchV2?.users;return a?vi(a,le(n?.extensions)):null},topResults:async function(e,i){const n=await e(xi,i),a=n?.data?.searchV2?.topResults;return a?yi(a,re(n?.extensions)):null}};class Ci{constructor(e){this._request=e}async getSearchResults(e,i=!1,n=0,a=10,t=5){const s={searchTerm:e,offset:n,limit:a,numberOfTopResults:t,includeAudiobooks:i},l=await this._request(Ue,s),r=l?.data.searchV2;if(!r)return bi;const d=le(l?.extensions),o=re(l?.extensions);return{albums:qe(r.albums,d),artists:Me(r.artists,d),episodes:Ae(r.episodes,d),genres:Ye(r.genres,d),playlists:ai(r.playlists,d),podcasts:ri(r.podcasts,d),audiobooks:Ge(r.audiobooks??null,d),tracks:mi(r.tracksV2,d),users:vi(r.users,d),topResults:yi(r.topResults,o),topRecommendations:hi(r.topResults,o),chipOrder:r.chipOrder}}async getSearchCategoryResults(e,i,n=!1,a=0,t=25,s=20){const l={searchTerm:e,offset:a,limit:t,numberOfTopResults:s,includeAudiobooks:n};return await ji[i](this._request,l)||Fi}async getFullEpisodes(e,i=0,n=25){const a={searchTerm:e,offset:i,limit:n};return await Pe(this._request,a)||Fi}}var Di=n(45439),Ti=n(95530),Ii=n(88778),Ai=n(87155);const Ei="hngqMWKjlLOEcuxpoHz9",Ri="WjLSNZPxuT0Zuw42kxSM",Vi="zFOvsuNQpwehjH2VoiLL",wi="zeGt0Z2HCYRvd6ziu_t9",Pi=({forChip:e})=>{const{query:i}=w(),n=`/search/${i}`;return(0,b.jsxs)("div",{className:Ei,"aria-live":"polite",children:[(0,b.jsx)(Ii.D,{as:"h1",variant:"canon",className:Ri,children:e?u.ag.get("search.empty-results-title-for-chip",i,e):u.ag.get("search.empty-results-title",i)}),(0,b.jsx)("p",{className:Vi,children:u.ag.get("search.empty-results-text")}),e&&(0,b.jsx)(Ti.rU,{to:n,children:(0,b.jsx)(Ai.D,{colorSet:"invertedLight",className:wi,children:u.ag.get("search.see-all")})})]})},Ui={albums:m.Wg.SEARCH_ALBUMS,artists:m.Wg.SEARCH_ARTISTS,episodes:m.Wg.SEARCH_EPISODES,genres:m.Wg.SEARCH_GENRES,playlists:m.Wg.SEARCH_PLAYLISTS,podcasts:m.Wg.SEARCH_SHOWS,audiobooks:m.Wg.SEARCH_AUDIOBOOKS,tracks:m.Wg.SEARCH_SONGS,users:m.Wg.SEARCH_PROFILES,podcastAndEpisodes:m.Wg.SEARCH_PODCASTS_AND_EPISODES,topResults:m.Wg.SEARCH};function qi({children:e}){const{query:i,category:n}=(0,r.UO)();return(0,b.jsx)(ae.K,{pageId:Ui[n],entityUri:`spotify:app:search:${i}:${n}`,children:e})}function _i({children:e}){const{query:i}=(0,r.UO)();return(0,b.jsx)(ae.K,{pageId:m.Wg.SEARCH,entityUri:`spotify:app:search:${i}`,children:e})}var Li=n(58550),Oi=n(95738),Mi=n(91952);const Hi={results:null,isError:!1,isFetchMoreError:!1},Bi=(e,i)=>{const n=(0,Mi.t)(),t=(0,a.useRef)(null),s=(0,a.useRef)(0),[l,r]=(0,a.useState)(Hi),d=(0,a.useCallback)((async(a=!1)=>{if(!n())return;a&&(s.current=0,t.current=null);let l=e;if(null!==t.current){if(s.current>=t.current)return;s.current+l>t.current&&(l=t.current-s.current)}try{const e=await i(s.current,l);s.current+=l,t.current=e.totalCount||0,n()&&r((i=>({isError:!1,isFetchMoreError:!1,results:(a||null===i.results?[]:i.results).concat(e.items)})))}catch(e){n()&&r((e=>{const i=null===e.results||a;return{results:a?[]:e.results,isError:i,isFetchMoreError:!i}}))}}),[e,i,n]);return(0,a.useEffect)((()=>{d(!0)}),[d]),{results:l.results,isError:l.isError,fetchData:d,totalCountRef:t}};var Wi=n(46958),Gi=n(99272),Ki=n(71721),Zi=n(61719),zi=n(66629),$i=n(68001);const Xi=a.memo((function({uri:e,size:i=Zi.q.md,className:n,onClick:t,showUpsell:s}){const[l,r]=(0,zi.Z)(e),d=(0,$i.o)(),o=(0,a.useCallback)((()=>{d({targetUri:e,intent:"add-to-library",type:"click"}),r(!0)}),[d,e,r]);return(0,b.jsx)(Zi.o,{className:n,isFollowing:l,onFollow:o,onClick:t,uri:e,size:i,showUpsell:s})})),Qi="RTP39YFgFAoVSlly6vCF",Yi="QT1jLaHHvO5g2YQor2Fw",Ji="wArYyZVjFviopRvRFV8t",en="kRDD8AcqeOf5UDjOSQ8j",nn="XN4TCZATPrKkEMngUtFc",an="VYaCpehPPhmTYPRxMBub",tn="abMqJCpsuShBo0DaZ7IY",sn="ON88h0KYGqXMdOfsqot8",ln="BHFMWOZUKxElyq1Ffc_S",rn="EyH4QLenIbFw0x8r83eK",dn="JA9jP30dm3GJikfs7vBn",on="xKl_2100SG4svBvzZ8Xv",cn="leel3U31UlOaYhKp6FgQ",mn="FxqpfDsISPKNu1XFExOg",un="kE234isNxJ9XiTT8QoJL",kn="KcOp4A5HBQ4EPH0IDRxg",pn="oODk_3Glvh7wotUlk4ov";var vn=n(97013);const Nn=({uri:e,spec:i})=>{const n=(0,g.$P)(),t=(0,a.useCallback)(((a,t)=>{(0,vn.l7)(t,i.downloadButtonFactory(),n,e)}),[n,i,e]);return(0,b.jsx)(Xi,{className:en,uri:e,size:Zi.q.xs,showUpsell:!1,onClick:t})};var Sn=n(45953),gn=n(13626);const yn=({shape:e=Sn.K.ROUNDED_CORNERS,type:i,name:n,images:a})=>(0,b.jsx)(Sn.O,{shape:e,size:gn.m$.SIZE_64,images:a,type:i,title:n});var hn=n(50116),fn=n(73414);const xn=(0,a.createContext)((()=>{})),Fn=({menu:e,name:i,spec:n})=>{const t=(0,g.$P)(),s=(0,a.useContext)(xn),l=(0,a.useCallback)((()=>{t.logInteraction(n.contextButtonFactory().hitUiReveal()),s(!0)}),[t,s,n]),r=(0,a.useCallback)((()=>{s(!1)}),[s]);return(0,b.jsx)(fn.yj,{menu:e,onShow:l,onHide:r,children:(0,b.jsx)(hn.z,{className:nn,size:hn.q.sm,label:u.ag.get("more.label.context",i)})})};var bn=n(52753);const jn=({name:e,uri:i,spec:n})=>{const t=(0,g.$P)(),s=(0,a.useCallback)((()=>{t.logInteraction(n.titleLinkFactory({uri:i}).hitUiNavigate({destination:i}))}),[t,n,i]);return(0,b.jsx)(bn.w,{label:e,children:(0,b.jsx)(E.Z,{to:i,className:ln,onClick:s,children:(0,b.jsx)(Ii.D,{variant:"balladBold",semanticColor:"textBase",className:rn,children:e})})})};var Cn=n(53703),Dn=n(27002),Tn=n(68462),In=n(70794),An=n(18350),En=n(76706),Rn=n(98082);const Vn=a.forwardRef((function({children:e,isLocked:i=!1,uri:n,playAriaLabel:t,spec:l},r){const[d,o]=(0,a.useState)(!1),c=(0,g.$P)(),{isPlaying:m,isActive:u,togglePlay:k}=(0,Rn.n)({uri:n},{featureIdentifier:"search"}),p=(0,Dn.y1)((e=>{if(e.preventDefault(),e.detail>0&&e.currentTarget&&e.currentTarget.blur(),i)c.logInteraction(l.playbackButtonFactory().hitShowPaywall({paywalledItem:n}));else{const e=(0,vn.aK)({isPlaying:m,isActive:u,spec:l.playbackButtonFactory(),logger:c,uri:n});k({loggingParams:e})}}),An.s_,{leading:!0,trailing:!1});(0,a.useEffect)((()=>{const e=()=>{o(!0)},i=()=>{o(!1)};return m&&(o(document.hasFocus()),window.addEventListener("focus",e),window.addEventListener("blur",i)),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",i)}}),[m]);const v=!(0,En.T)()&&d;return(0,b.jsxs)("div",{className:s()(dn),children:[m?(0,b.jsx)("img",{className:tn,width:"14",height:"14",alt:"",src:(0,Tn.g)(v?"images/equaliser-animated-green.gif":"images/equaliser-green.svg")}):e,(0,b.jsx)(In.I,{className:an,iconClassName:kn,onClick:p,isPlaying:m,isLocked:i,playAriaLabel:t,ref:r})]})}));var wn=n(10783),Pn=n(72899);const Un=e=>void 0!==e;const qn=({uri:e,destinationUri:i=e,name:n,createdBy:t,menu:l,media:r,leading:d,title:o,subtitle:c,body:m,trailing:u,onClick:k,spec:p})=>{const{isActive:v}=(0,Cn.cR)(e),N=(0,g.$P)(),S=(0,a.useCallback)((()=>{N.logInteraction(p.secondaryHitUiReveal())}),[N,p]),y=(0,a.useCallback)((e=>{e.isDefaultPrevented()||(N.logInteraction(p.hitUiNavigate({destination:i})),k(e))}),[N,k,p,i]),h=function(e,i){if(e!==i)return`?highlight=${e}`}(e,i),f=(0,g.Wi)(p),x=((e,i,n)=>{const t=(0,Pn.O1)();return(0,a.useCallback)((a=>{if(a.target!==a.currentTarget)return;const s=[i,n].filter(Un).join(" • ");t(a,[e],s,void 0,void 0)}),[t,n,i,e])})(e,n,t),[F,j]=(0,a.useState)(!1);return(0,b.jsx)(xn.Provider,{value:j,children:(0,b.jsx)(fn._P,{menu:l,onShow:S,children:(0,b.jsx)(E.Z,{to:i,search:h,tabIndex:-1,onClick:y,className:Qi,"data-context-menu-open":F.toString(),ref:f,children:(0,b.jsx)(wn.i,{leading:d||!0,title:o,subtitle:c,body:m,trailing:u,media:r,className:s()(Yi,{[sn]:v}),onDragStart:x})})})})};var _n=n(81366),Ln=n(80591);const On=({uri:e,type:i,spec:n})=>{const t=(0,g.$P)(),s=(0,a.useCallback)((i=>{const a=i?n.heartButtonFactory().hitLike({itemToBeLiked:e}):n.heartButtonFactory().hitRemoveLike({itemNoLongerLiked:e});t.logInteraction(a)}),[n,t,e]);return["episode","audiobook"].includes(i)?(0,b.jsx)(_n.w,{uri:e,className:Ji,onClick:s}):(0,b.jsx)(Ln.B,{uri:e,className:Ji,onClick:s})};var Mn=n(34419),Hn=n(96551),Bn=n(11622),Wn=n(75333),Gn=n(38205);const Kn=({children:e,uri:i,name:n,index:t,menu:s,spec:l})=>{const r=(0,Pn.O1)([i],n),d=(0,g.$P)(),o=(0,a.useCallback)((()=>{const e=l.subtitleLinkFactory({uri:i,position:t}).hitUiNavigate({destination:i});d.logInteraction(e)}),[t,d,l,i]);return(0,b.jsx)(Gn._,{menu:s,children:(0,b.jsx)(bn.w,{label:n,children:(0,b.jsx)(E.Z,{draggable:!0,to:i,onDragStart:r,dir:"auto",onClick:o,children:e})})})},Zn=({artists:e,spec:i})=>e?(0,b.jsx)(b.Fragment,{children:e.map((({uri:e,name:n},a)=>[a>0&&u.ag.getSeparator(),(0,b.jsx)(Kn,{name:n,uri:e,index:a,menu:(0,b.jsx)(Mn.m,{uri:e}),spec:i,children:n},e)]))}):null,zn=({topics:e=[],spec:i})=>0===e.length?null:(0,b.jsx)(b.Fragment,{children:e.filter(Wn.J).map((({uri:e,title:n},a)=>[a>0&&u.ag.getSeparator(),(0,b.jsx)(Kn,{name:n,uri:e,index:a,spec:i,children:n},e)]))}),$n=({show:e,spec:i})=>(0,b.jsx)(Kn,{name:e.name,uri:e.uri,index:0,menu:(0,b.jsx)(Hn.M,{uri:e.uri}),spec:i,children:e.name}),Xn=({uri:e,name:i,spec:n})=>(0,b.jsx)(Kn,{name:i,uri:e,index:0,menu:(0,b.jsx)(Bn.I,{uri:e}),spec:n,children:i}),Qn=a.memo((function({album:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:r,images:d,year:o,artists:c}=e,m=c[0].name,{spec:k}=(0,g.fU)(Gi.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),{isPlaying:p}=(0,Cn.cR)(s),v=(0,b.jsx)(Ki.Y,{uri:s});return(0,b.jsx)(qn,{spec:k,menu:v,uri:s,name:r,createdBy:c.map((e=>e.name)).join(u.ag.getSeparator()),onClick:i,media:(0,b.jsx)(yn,{type:l,name:r,images:d}),leading:(0,b.jsx)(Vn,{isLocked:!1,uri:s,spec:k,playAriaLabel:p?u.ag.get("pause"):u.ag.get("tracklist.a11y.play",r,m)}),title:(0,b.jsx)(jn,{name:r,uri:s,spec:k}),subtitle:(0,b.jsxs)(Ii.D,{variant:"mesto",semanticColor:"textSubdued",className:pn,children:[a&&(0,b.jsx)(Ii.D,{className:un,children:u.ag.get("card.tag.album")}),(0,b.jsx)(Ii.D,{className:un,children:(0,b.jsx)(Zn,{artists:c,spec:k})})]}),body:(0,b.jsx)(Ii.D,{variant:"mesto",semanticColor:"textSubdued",children:o}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Nn,{uri:s,spec:k}),(0,b.jsx)(On,{uri:s,type:"album",spec:k}),(0,b.jsx)(Fn,{menu:v,name:r,spec:k})]})})}));var Yn=n(45696);const Jn=a.memo((function({artist:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:r,images:d,verified:o}=e,{spec:c}=(0,g.fU)(Gi.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),{isPlaying:m}=(0,Cn.cR)(s),k=(0,b.jsx)(Mn.m,{uri:s});return(0,b.jsx)(qn,{spec:c,menu:k,uri:s,name:r,onClick:i,media:(0,b.jsx)(yn,{type:l,name:r,images:d}),leading:(0,b.jsx)(Vn,{isLocked:!1,uri:s,spec:c,playAriaLabel:m?u.ag.get("playlist.a11y.play",r):u.ag.get("pause")}),title:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(jn,{name:r,uri:s,spec:c}),o&&(0,b.jsx)(Yn.S,{iconSize:16})]}),subtitle:a&&(0,b.jsx)(Ii.D,{variant:"mesto",semanticColor:"textSubdued",children:u.ag.get("card.tag.artist")}),trailing:(0,b.jsx)(Fn,{menu:k,name:r,spec:c})})}));var ea=n(37054),ia=n(41299);const na=a.memo((function({book:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:r,images:d,authorName:o,publishDate:c,topics:m}=e,{spec:k}=(0,g.fU)(Gi.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),p=(0,b.jsx)(ea.X,{uri:s}),v=m&&m.length>0;return(0,b.jsx)(qn,{spec:k,menu:p,uri:s,name:r,onClick:i,media:(0,b.jsx)(yn,{type:l,name:r,images:d}),title:(0,b.jsx)(jn,{name:r,uri:s,spec:k}),subtitle:(0,b.jsxs)(Ii.D,{variant:"mesto",semanticColor:"textSubdued",className:pn,children:[a&&(0,b.jsx)(Ii.D,{className:un,children:u.ag.get("search.row.subtitle")}),(0,b.jsx)(bn.w,{label:o,children:(0,b.jsx)(Ii.D,{className:un,children:o})})]}),body:(0,b.jsxs)(b.Fragment,{children:[c&&(0,b.jsx)(Ii.D,{variant:"mesto",semanticColor:"textSubdued",className:un,children:(0,ia.rL)((0,ia.RX)(c.toISOString()))}),v&&(0,b.jsx)(Ii.D,{variant:"mesto",semanticColor:"textSubdued",className:un,children:(0,b.jsx)(zn,{topics:m,spec:k})})]}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(On,{uri:s,type:"audiobook",spec:k}),(0,b.jsx)(Fn,{menu:p,name:r,spec:k})]})})}));var aa=n(8550),ta=n(37010),sa=n(43181),la=n(45462),ra=n(86364),da=n(6122);const oa=a.memo((function({episode:e,onClick:i,index:n,withEntityTag:t=!1}){const{requestId:l,uri:r,type:d,name:o,images:c,show:m,release:k,duration:p,isExplicit:v,is19PlusOnly:N,timeLeft:S}=e,{logger:y,spec:h}=(0,g.fU)(Gi.createDesktopSearchRowEventFactory,{data:{position:n,reason:l??"",uri:r}}),{isPlaying:f}=(0,Cn.cR)(r),x=(0,a.useCallback)(((e,i)=>{(0,vn.l7)(i,h.downloadButtonFactory(),y,r)}),[y,h,r]),F=(0,b.jsx)(sa.k,{uri:r});return(0,b.jsx)(qn,{spec:h,menu:F,uri:r,name:o,createdBy:m.name,onClick:i,media:(0,b.jsx)(yn,{type:d,name:o,images:c}),leading:(0,b.jsx)(Vn,{isLocked:!1,uri:r,spec:h,playAriaLabel:f?u.ag.get("pause"):u.ag.get("tracklist.a11y.play",o,m.publisher)}),title:(0,b.jsx)(jn,{name:o,uri:r,spec:h}),subtitle:(0,b.jsxs)(b.Fragment,{children:[v&&(0,b.jsx)(la.N,{}),N&&(0,b.jsx)(ra.X,{size:16}),(0,b.jsxs)(Ii.D,{variant:"mesto",semanticColor:"textSubdued",className:pn,children:[t&&(0,b.jsx)(Ii.D,{children:u.ag.get("card.tag.episode")}),(0,b.jsx)(Ii.D,{className:un,children:(0,b.jsx)($n,{show:m,spec:h})})]})]}),body:(0,b.jsxs)(b.Fragment,{children:[k.date&&(0,b.jsx)(Ii.D,{variant:"mesto",semanticColor:"textSubdued",className:un,children:(0,ia.rL)((0,ia.RX)(k.date))}),(0,b.jsx)(Ii.D,{variant:"mesto",semanticColor:"textSubdued",className:s()(un,on),children:S.milliseconds>0?(0,b.jsx)(da.n,{durationMs:p.milliseconds}):(0,b.jsxs)(Ii.D,{className:cn,children:[u.ag.get("episode.played"),(0,b.jsx)(aa.N,{iconSize:16,className:mn,"aria-hidden":"true"})]})})]}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ta.p,{className:en,uri:r,size:ta.q.xs,showUpsell:!1,onClick:x}),(0,b.jsx)(On,{uri:r,type:"episode",spec:h}),(0,b.jsx)(Fn,{menu:F,name:o,spec:h})]})})}));var ca=n(18679);const ma=a.memo((function({genre:e,onClick:i,index:n}){const{requestId:a,uri:t,type:s,name:l,images:r}=e,{spec:d}=(0,g.fU)(Gi.createDesktopSearchRowEventFactory,{data:{position:n,reason:a??"",uri:t}});return(0,b.jsx)(qn,{spec:d,menu:(0,b.jsx)(ca.o,{uri:t}),uri:t,name:l,onClick:i,media:(0,b.jsx)(yn,{type:s,name:l,images:r}),title:(0,b.jsx)(jn,{name:l,uri:t,spec:d})})}));var ua=n(86800);const ka=a.memo((function({playlist:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:r,images:d,owner:o}=e,{spec:c}=(0,g.fU)(Gi.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),{isPlaying:m}=(0,Cn.cR)(s),k=o.displayName?u.ag.get("tracklist.a11y.play",r,o.displayName):u.ag.get("play"),p=(0,b.jsx)(ua.X,{uri:s});return(0,b.jsx)(qn,{spec:c,menu:p,uri:s,name:r,createdBy:o.displayName??void 0,onClick:i,media:(0,b.jsx)(yn,{type:l,name:r,images:d}),leading:(0,b.jsx)(Vn,{isLocked:!1,uri:s,spec:c,playAriaLabel:m?u.ag.get("pause"):k}),title:(0,b.jsx)(jn,{name:r,uri:s,spec:c}),subtitle:(0,b.jsxs)(Ii.D,{variant:"mesto",semanticColor:"textSubdued",className:pn,children:[a&&(0,b.jsx)(Ii.D,{className:un,children:u.ag.get("card.tag.playlist")}),o.displayName&&(0,b.jsx)(Ii.D,{className:un,children:(0,b.jsx)(Xn,{uri:o.uri,name:u.ag.get("search.playlist-by",o.displayName),spec:c})})]}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Nn,{uri:s,spec:c}),(0,b.jsx)(On,{uri:s,type:"playlist",spec:c}),(0,b.jsx)(Fn,{menu:p,name:r,spec:c})]})})})),pa=a.memo((function({show:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:l,type:r,name:d,images:o,publisher:c,topics:m}=e,{spec:k}=(0,g.fU)(Gi.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:l}}),p=(0,b.jsx)(Hn.M,{uri:l});return(0,b.jsx)(qn,{spec:k,menu:p,uri:l,name:d,onClick:i,media:(0,b.jsx)(yn,{type:r,name:d,images:o}),title:(0,b.jsx)(jn,{name:d,uri:l,spec:k}),subtitle:(0,b.jsxs)(Ii.D,{variant:"mesto",semanticColor:"textSubdued",children:[(0,b.jsxs)("div",{children:[a&&(0,b.jsx)(Ii.D,{className:un,children:u.ag.get("card.tag.show")}),(0,b.jsx)(Ii.D,{className:s()(un),children:c})]}),(0,b.jsx)("div",{children:(0,b.jsx)(Ii.D,{className:s()(un,pn),children:(0,b.jsx)(zn,{topics:m,spec:k})})})]}),trailing:(0,b.jsx)(Fn,{menu:p,name:d,spec:k})})}));var va=n(34657);const Na=a.memo((function({track:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:r,artists:d,album:o,isExplicit:c,is19PlusOnly:m}=e,k=d[0].name,{spec:p}=(0,g.fU)(Gi.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),{isPlaying:v}=(0,Cn.cR)(s),N=(0,b.jsx)(va.$,{uri:s});return(0,b.jsx)(qn,{spec:p,uri:s,destinationUri:o.uri,menu:N,name:r,createdBy:d.map((e=>e.name)).join(u.ag.getSeparator()),onClick:i,media:(0,b.jsx)(yn,{type:l,name:r,images:o.images}),leading:(0,b.jsx)(Vn,{isLocked:!1,uri:s,spec:p,playAriaLabel:v?u.ag.get("pause"):u.ag.get("tracklist.a11y.play",r,k)}),title:(0,b.jsx)(jn,{name:r,uri:s,spec:p}),subtitle:(0,b.jsxs)(b.Fragment,{children:[c&&(0,b.jsx)(la.N,{}),m&&(0,b.jsx)(ra.X,{size:16}),(0,b.jsxs)(Ii.D,{variant:"mesto",semanticColor:"textSubdued",className:pn,children:[a&&(0,b.jsx)(Ii.D,{children:u.ag.get("card.tag.track")}),(0,b.jsx)(Ii.D,{className:un,children:(0,b.jsx)(Zn,{artists:d,spec:p})})]})]}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(On,{uri:s,type:"track",spec:p}),(0,b.jsx)(Fn,{menu:N,name:r,spec:p})]})})})),Sa=a.memo((function({user:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:r,images:d}=e,{spec:o}=(0,g.fU)(Gi.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),c=(0,b.jsx)(Bn.I,{uri:s});return(0,b.jsx)(qn,{spec:o,menu:c,uri:s,name:r,onClick:i,media:(0,b.jsx)(yn,{type:l,name:r,images:d,shape:Sn.K.CIRCLE}),title:(0,b.jsx)(jn,{name:r,uri:s,spec:o}),subtitle:a&&(0,b.jsx)(Ii.D,{variant:"mesto",semanticColor:"textSubdued",children:u.ag.get("card.tag.profile")}),trailing:(0,b.jsx)(Fn,{menu:c,name:r,spec:o})})})),ga=({entity:e,index:i,withEntityTag:n})=>{const{onAddToHistory:t}=w(),s=(0,a.useCallback)((()=>{t(e)}),[e,t]);switch(e.type){case je.p.ALBUM:return(0,b.jsx)(Qn,{album:e,onClick:s,index:i,withEntityTag:n});case je.p.ARTIST:return(0,b.jsx)(Jn,{artist:e,onClick:s,index:i,withEntityTag:n});case je.p.AUDIOBOOK:return(0,b.jsx)(na,{book:e,onClick:s,index:i,withEntityTag:n});case je.p.EPISODE:return(0,b.jsx)(oa,{episode:e,onClick:s,index:i,withEntityTag:n});case je.p.GENRE:return(0,b.jsx)(ma,{genre:e,onClick:s,index:i});case je.p.PLAYLIST:return(0,b.jsx)(ka,{playlist:e,onClick:s,index:i,withEntityTag:n});case je.p.USER:return(0,b.jsx)(Sa,{user:e,onClick:s,index:i,withEntityTag:n});case je.p.SHOW:return(0,b.jsx)(pa,{show:e,onClick:s,index:i,withEntityTag:n});case je.p.TRACK:return(0,b.jsx)(Na,{track:e,onClick:s,index:i,withEntityTag:n});default:return(0,Wi._)(e),null}};var ya=n(30554),ha=n(89842),fa=n(15711);const xa="FSAE0ABtUCeNRJckpcCH",Fa="H2PDjUgJNBIH5eWg59M0",ba="vRlEuZATPhZt2l04RVIw",ja="Adlh7XTc3j3pXM3jGgr8",Ca=({index:e,item:i})=>{const{episode:n,show:a}=i,{usePlayContextItem:t}=(0,Rn.n)({uri:i.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"});return(0,b.jsxs)("div",{className:ja,children:[(0,b.jsx)(fa.V,{index:e,episode:n,showMetadata:a,usePlayContextItem:t}),(0,b.jsx)("hr",{className:ba,"aria-hidden":!0})]})},Da=({showTitle:e=!0,displayEmptyPageOnEmptyResults:i=!0,displayError:n=!0,enableInfiniteScroll:a=!1,spec:t,fetchData:l,totalCountRef:r,items:d,isError:o,isSearchV3Enabled:c})=>{const{query:m}=w(),{ref:u,breakpoint:k}=(0,ha.Db)({[ha.Uo.MEDIUM]:0,[ha.Uo.LARGE]:600}),p=(0,g.$P)(),v=`spotify:app:search:${encodeURIComponent(m)}:${Ja}`;return o?n?(0,b.jsx)(Li.p,{}):null:0===r.current?i?(0,b.jsx)(Pi,{forChip:P.Wm.episodes()}):null:(0,b.jsxs)(ha.ZU.Provider,{value:k,children:[d&&e&&(0,b.jsx)(Oi.r,{title:P.Wm.episodes(),seeAllUri:v,onClickTitle:()=>{t&&p.logInteraction(t.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:v}))},onClickSeeAll:()=>{t&&p.logInteraction(t.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:v}))},hasMoreElements:!a&&d.length<(r.current||0)}),(0,b.jsx)("div",{ref:u,className:Fa,children:d&&(0,b.jsx)(ya.C,{triggerOnInitialLoad:!1,className:s()({[xa]:c}),onReachBottom:()=>{a&&l()},children:d})})]})},Ta=e=>{const{query:i,api:n}=w(),{results:t,isError:s,fetchData:l,totalCountRef:r}=Bi(30,(0,a.useCallback)(((e,a)=>n.getSearchCategoryResults(i,"episodes",!1,e,a)),[n,i]));return(0,b.jsx)(Da,{...e,fetchData:l,totalCountRef:r,items:t?.map(((e,i)=>(0,b.jsx)(ga,{entity:e,index:i},i))),isError:s,isSearchV3Enabled:!0})},Ia=e=>{const{query:i,api:n}=w(),{results:t,isError:s,fetchData:l,totalCountRef:r}=Bi(30,(0,a.useCallback)(((e,a)=>n.getFullEpisodes(i,e,a)),[n,i]));return(0,b.jsx)(Da,{...e,fetchData:l,totalCountRef:r,items:t?.map(((e,i)=>(0,b.jsx)(Ca,{item:e,index:i},i))),isError:s})},Aa=e=>(0,c.W6)(y.Dz)?(0,b.jsx)(Ta,{...e}):(0,b.jsx)(Ia,{...e});var Ea=n(58795),Ra=n(79656);const Va=e=>{const{title:i,category:n,query:a,results:t,onAddToHistory:s,position:l,showSeeAll:r}=e;if(!t)return null;const{items:d,totalCount:o}=t;return d&&0!==d.length?(0,b.jsx)(h.q,{index:l,id:n,total:o||0,title:i,testId:`${n}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(a)}:${n}`,showSeeAll:r,children:d.map(((e,i)=>(0,b.jsx)(x.ZP,{value:n,index:i,children:(0,b.jsx)(Ra.h,{onClick:()=>s(e),entity:e,index:i})},e.uri)))}):null},wa="pE9ccpPiPFWfTWfDdKT_",Pa=({results:e})=>{const{query:i,serpId:n,onAddToHistory:a}=w(),t=Qe().searchURI(i).toURI(),{spec:s,UBIFragment:l}=(0,g.fU)(Ea.createDesktopSearchPodcastAndShowsEventFactory,{data:{uri:t,reason:n}});return 0===e?.podcasts.totalCount&&0===e?.episodes.totalCount?(0,b.jsx)(Pi,{forChip:P.Wm.podcastAndEpisodes()}):(0,b.jsx)(l,{spec:s,children:(0,b.jsxs)("div",{className:wa,children:[0!==e?.podcasts.totalCount&&(0,b.jsx)("div",{children:(0,b.jsx)(Va,{position:0,category:"podcasts",title:P.Wm.podcastAndEpisodes(),query:i,results:e?.podcasts,onAddToHistory:a})}),0!==e?.episodes.totalCount&&(0,b.jsx)("div",{children:(0,b.jsx)(Aa,{displayEmptyPageOnEmptyResults:!1,displayError:!1,spec:s})})]})})};var Ua=n(22998);const qa="bCoyoXohuLs0f6urF2PD",_a="EF2m35WFubo6yUwP04MQ",La=({displayChips:e,category:i})=>{const{query:n,api:t,serpId:l,onAddToHistory:r}=w(),d=(0,c.W6)(y.uB),{results:o,isError:m,fetchData:u,totalCountRef:k}=Bi(30,(0,a.useCallback)(((e,a)=>t.getSearchCategoryResults(n,i,d,e,a)),[t,i,d,n])),p=(0,a.useCallback)(((e,i)=>(0,b.jsx)(x.ZP,{value:"card",index:i,children:(0,b.jsx)(Ra.h,{entity:e,onClick:()=>r(e),testId:`search-category-card-${i}`,index:i})},`${e.uri}-${i}`)),[r]),v=Qe().searchURI(n).toURI(),{spec:N,UBIFragment:S}=(0,g.fU)(Ua.createDesktopSearchCategoryEventFactory,{data:{uri:v,identifier:i,reason:l}}),h=(0,a.useMemo)((()=>N.cardsFactory()),[N]);return m?(0,b.jsx)(Li.p,{}):0===k.current?(0,b.jsx)(Pi,{forChip:P.Wm[i]()}):(0,b.jsx)(S,{spec:h,children:(0,b.jsx)("div",{className:s()(qa,{[_a]:e}),children:o&&(0,b.jsx)(ya.C,{onReachBottom:u,triggerOnInitialLoad:!1,children:(0,b.jsx)(z.T,{render:()=>o.map(((e,i)=>p(e,i)))})})})})};var Oa=n(93904),Ma=n(36096),Ha=n(23390),Ba=n(57559),Wa=n(45476);const Ga="BSIos9yETsaI3yKEqX2P",Ka=({pageSize:e=100})=>{if(e>100)throw new Error("PathFinder does not support page sizes > 100");const{query:i,api:n,serpId:t}=w(),{results:s,isError:l,fetchData:r,totalCountRef:d}=Bi(e,(0,a.useCallback)(((e,a)=>n.getSearchCategoryResults(i,"tracks",!1,e,a)),[n,i])),o=(0,a.useCallback)(((e,i)=>{const n=(0,Ba.X)(e.album?.images,{desiredSize:40}),a=!(!1===e.isPlayable);return(0,b.jsx)(Wa.e9,{index:i,uri:(0,Ha.$)(e),duration:e.duration,name:e.name,album:e.album,artists:e.artists,isPlayable:a,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:n?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch},i+e.uri)}),[]),c=(0,k.n)(),m=(0,a.useMemo)((()=>[Wa.QD.INDEX,Wa.QD.TITLE,Wa.QD.ALBUM,Wa.QD.DURATION]),[]),p=(0,a.useCallback)((e=>e.uri),[]),v=Qe().searchURI(i).toURI(),{spec:N,UBIFragment:S}=(0,g.fU)(Oa.createDesktopSearchTracksEventFactory,{data:{uri:v,reason:t}}),y=(0,a.useMemo)((()=>N.tracksFactory()),[N]),h=u.ag.get("search.showing-category-query-songs",i);if(l)return(0,b.jsx)(Li.p,{});if(0===d.current)return(0,b.jsx)(Pi,{forChip:P.Wm.tracks()});const f=c?Ma.K1:Ma.K1+48;return(0,b.jsx)(S,{spec:y,children:(0,b.jsx)(x.ZP,{value:"search-results-tracklist",children:(0,b.jsx)("div",{className:Ga,children:s&&(0,b.jsx)(ya.C,{triggerOnInitialLoad:!1,onReachBottom:r,children:(0,b.jsx)(Wa.Pv,{ariaLabel:h,hasHeaderRow:!0,columns:m,renderRow:o,resolveUri:p,nrTracks:s.length,headerTop:f,tracks:s})})})})})},Za="hciep85bysUuJqNoK7uw",za="Xa3KEcm2U_GOL2KMSoHw",$a="KjXzXFYQr6Wp2QlxPUAY",Xa=({category:e})=>{const{query:i,api:n,serpId:t}=w(),l=(0,c.W6)(y.uB),{results:r,isError:d,fetchData:o,totalCountRef:m}=Bi(50,(0,a.useCallback)(((a,t)=>n.getSearchCategoryResults(i,e,l,a,t)),[n,e,l,i])),u=Qe().searchURI(i).toURI(),{spec:k,UBIFragment:p}=(0,g.fU)(Ua.createDesktopSearchCategoryEventFactory,{data:{uri:u,identifier:e,reason:t}}),{ref:v,breakpoint:N}=(0,ha.Db)({[ha.Uo.MEDIUM]:0,[ha.Uo.LARGE]:600}),S=(0,a.useMemo)((()=>k.cardsFactory()),[k]);if(d)return(0,b.jsx)(Li.p,{});if(0===m.current)return(0,b.jsx)(Pi,{forChip:P.Wm[e]()});const h="episodes"===e||"podcasts"===e,f="topResults"===e;return(0,b.jsx)(p,{spec:S,children:(0,b.jsx)(ha.ZU.Provider,{value:N,children:(0,b.jsx)("div",{ref:v,className:s()(Za,{[$a]:h}),children:r&&(0,b.jsx)(ya.C,{onReachBottom:o,triggerOnInitialLoad:!1,className:za,children:r.map(((e,i)=>(0,b.jsx)(ga,{entity:e,index:i,withEntityTag:f},e.uri)))})})})})},Qa=({results:e})=>{const{query:i,serpId:n}=w(),t=Qe().searchURI(i).toURI(),{spec:s,UBIFragment:l}=(0,g.fU)(Ua.createDesktopSearchCategoryEventFactory,{data:{uri:t,identifier:"topResults",reason:n}}),{ref:r,breakpoint:d}=(0,ha.Db)({[ha.Uo.MEDIUM]:0,[ha.Uo.LARGE]:600}),o=(0,a.useMemo)((()=>s.cardsFactory()),[s]);return(0,b.jsx)(l,{spec:o,children:(0,b.jsx)(ha.ZU.Provider,{value:d,children:(0,b.jsx)("div",{ref:r,className:Za,children:e&&(0,b.jsx)(ya.C,{triggerOnInitialLoad:!1,className:za,children:e.topResults.items.map(((e,i)=>(0,b.jsx)(ga,{entity:e,index:i,withEntityTag:!0},e.uri)))})})})})},Ya="podcastAndEpisodes",Ja="episodes",et=({results:e,displayChips:i})=>{const{category:n}=w(),a=(0,c.W6)(y.Dz);return n?n===Ya?(0,b.jsx)(Pa,{results:e}):a?"topResults"===n?(0,b.jsx)(Qa,{results:e}):(0,b.jsx)(Xa,{category:n}):"tracks"===n?(0,b.jsx)(Ka,{}):n===Ja?(0,b.jsx)(Aa,{enableInfiniteScroll:!0,showTitle:!1}):(0,b.jsx)(La,{displayChips:i,category:n}):(0,b.jsx)(Li.p,{})};var it=n(49411),nt=n(22997),at=n(75795),tt=n(20055);const st=a.memo((function({tracks:e,query:i}){const n=(0,a.useCallback)(((e,i)=>{const n=(0,Ba.X)(e.album?.images,{desiredSize:40}),a=!(!1===e.isPlayable);return(0,b.jsx)(Wa.pt,{uri:(0,Ha.$)(e),duration:e.duration,name:e.name,album:e.album,artists:e.artists,isPlayable:a,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:i,imgUrl:n?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch},e.uri)}),[]),t=(0,a.useMemo)((()=>[Wa.QD.TITLE,Wa.QD.DURATION]),[]),s=(0,a.useCallback)((e=>e.uri),[]);return e&&(0,b.jsx)(x.ZP,{value:"search-results-tracklist",children:(0,b.jsx)(Wa.Pv,{ariaLabel:u.ag.get("search.a11y.songs-search-results"),renderRow:n,rowPlaceholder:Wa.hU,nrTracks:Math.min(e.length,4),tracks:e,resolveUri:s,columns:t},i)})}),((e,i)=>e.tracks===i.tracks)),lt="search-searchResult-tracklistHeader",rt="search-searchResult-tracklistHeaderWrapper",dt="search-searchResult-tracklistHeaderText",ot="VL6wjp4Br_D3FEWrUGGR",ct="search-searchResult-tracklistContainer",mt="search-searchResult-tracklist",ut=({tracks:e,query:i,className:n,showSeeAll:t=!0,spec:l})=>{const r=(0,g.$P)(),d=(0,a.useCallback)((()=>(0,b.jsx)("div",{className:mt,children:(0,b.jsx)(a.Suspense,{fallback:null,children:(0,b.jsx)(st,{tracks:e.items,query:i})})})),[i,e]),o=`spotify:app:search:${encodeURIComponent(i)}:tracks`,c=(0,a.useCallback)((()=>{const e=l.headerFactory().titleFactory().hitUiNavigate({destination:o});r.logInteraction(e)}),[r,l,o]),m=(0,a.useCallback)((()=>{const e=l.headerFactory().seeAllFactory().hitUiNavigate({destination:o});r.logInteraction(e)}),[r,l,o]);return e.items.length?(0,b.jsxs)("section",{className:s()(ct,n),"aria-label":u.ag.get("search.title.tracks"),"data-testid":"search-tracks-result",children:[(0,b.jsx)("div",{className:lt,children:e.items.length>3?(0,b.jsxs)("div",{className:rt,children:[(0,b.jsx)("div",{className:dt,children:(0,b.jsx)(Ii.D,{as:"h2",variant:"canon",children:t?(0,b.jsx)(E.r,{to:o,className:ot,onClick:c,children:u.ag.get("search.title.tracks")}):(0,b.jsx)("span",{className:ot,children:u.ag.get("search.title.tracks")})})}),t&&(0,b.jsx)(tt.SeeAll,{link:o,onClick:m})]}):(0,b.jsx)(Ii.D,{as:"h2",variant:"canon",className:ot,children:u.ag.get("search.title.tracks")})}),(0,b.jsx)(g.Nh,{spec:l,children:(0,b.jsx)(z.T,{render:d})})]}):null},kt=({topRecommendations:e,query:i,className:n,onAddToHistory:a,position:t,showSeeAll:s})=>{const l=e.totalCount||0;return(0,b.jsx)(h.q,{index:t,id:"top-recommendations",className:n,total:l,title:u.ag.get("artist-page.featuring",e.artistName),seeAllUri:`spotify:app:search:${encodeURIComponent(i)}:topRecommendations`,showSeeAll:s,children:e.items.map(((e,i)=>(0,b.jsx)(x.ZP,{index:i,value:"top-recommendations",children:(0,b.jsx)(Ra.h,{onClick:()=>a(e),entity:e,index:i})},e.uri)))})};var pt=n(77899);const vt="search-searchResult-topResult",Nt="search-searchResult-topResultCard",St="search-searchResult-searchResultGrid",gt="EFHPppToKFxfm6SRhL6K",yt="search-searchResult-tracklistShort",ht="search-searchResult-tracklistLong",ft="FTRmZyHUkeVY_X3RawUc",xt="Tx_CKMgRE8CpW5vLdpAe",Ft=({topResults:e,onAddToHistory:i})=>{const[n]=e.items;return n&&(0,b.jsx)(pt.P,{total:1,className:vt,title:u.ag.get("search.title.top-result"),children:[(0,b.jsx)("div",{"aria-live":"polite","data-testid":"top-result-card",className:Nt,children:(0,b.jsx)(x.ZP,{value:"top-result-card",children:(0,b.jsx)(Ra.h,{isHero:!0,index:0,onClick:()=>i(n),entity:n})})},"top-result-item")]})},bt=({results:e})=>{const{query:i,onAddToHistory:n,serpId:t}=w(),s=Qe().searchURI(i).toURI(),{spec:l,UBIFragment:r}=(0,g.fU)(at.createDesktopSearchEventFactory,{data:{uri:s,reason:t}}),d=e.topResults.items.length>0,o=e.tracks.items.length>0,c=e.topRecommendations.items.length>0,m=(0,a.useMemo)((()=>({topResult:l.topResultFactory(),trackList:l.trackListFactory(),shelves:l.shelvesFactory()})),[l]);return(0,b.jsx)(z.T,{className:St,rowGap:nt.mGT,testId:"search-results",render:({columnCount:a})=>{let t,s;return d?t=a>3?yt:ht:c&&(a>5&&o?(t=gt,s=ft):(t=ht,s=xt)),(0,b.jsxs)(x.ZP,{value:"search-results",children:[d&&(0,b.jsx)(r,{spec:m.topResult,children:(0,b.jsx)(Ft,{topResults:e.topResults,onAddToHistory:n})}),o&&(0,b.jsx)(ut,{spec:m.trackList,className:t,query:i,tracks:e.tracks,onAddToHistory:n,showSeeAll:!1}),c&&(0,b.jsx)(r,{spec:m.shelves,children:(0,b.jsx)(kt,{position:0,query:i,className:s,topRecommendations:e.topRecommendations,onAddToHistory:n,showSeeAll:!1})}),P.Pd.map(((a,t)=>(0,b.jsx)(r,{spec:m.shelves,children:(0,b.jsx)(Va,{position:t+1,category:a,title:P.Wm[a](),query:i,results:e[a],onAddToHistory:n,showSeeAll:!1})},`search-shelf-${a}`)))]})}})},jt=({results:e,category:i="topResults"})=>{const n=(0,c.W6)(y.Dz),{category:a}=w();return n&&!a?i===Ya?(0,b.jsx)(Pa,{results:e}):(0,b.jsx)(Qa,{results:e}):(0,b.jsx)(bt,{results:e})};var Ct=n(41818);const Dt=({results:e,hasResults:i})=>{const n=(0,k.n)(),t=(0,c.W6)(y.Dz),{isBrowser:d}=(0,l.v9)((e=>e.platform)),o=(0,l.v9)(ne.rZ),u=(0,ee.g)(),p=(0,te.s4)(),{category:v}=w(),N=((e,i,n)=>{const a=e?.chipOrder?.items??[];return Array.from(a.reduce(((a,t)=>{if(!t.typeName)return a;if(!n&&t.typeName===G.xN.TopResults)return a;const[s,l]=Z[t.typeName];return l&&s&&(i===l||e?.[s]?.items?.length)?(a.add(l),a):a}),new Set([])))})(e,v,t),S="podcasts"!==v&&"episodes"!==v,g=t?N[0]:void 0;return(0,a.useEffect)((()=>{d&&e&&i&&(({eventSender:e,country:i,isAnonymous:n})=>{const a={category:"internal-search-test",action:"search-results-page-visit",variant:"default",label:"dwp",os:(0,K.y)(),country:i,spt:(0,W.vQ)("sp_t")};n?e.send((0,B.k)(a)):e.send((0,H.x)(a))})({eventSender:p,country:o,isAnonymous:u})}),[o,p,i,u,d,e]),(0,b.jsxs)(x.ZP,{value:"search-page",children:[(0,b.jsx)(J.w,{children:n?(0,b.jsx)(M,{searchCategories:N,selectedCategory:v??g,displayChips:S}):(0,b.jsx)(it.M,{isSearchChipsEnabled:!0})}),!n&&(0,b.jsx)(M,{searchCategories:N,selectedCategory:v??g,displayChips:S}),(0,b.jsx)("div",{className:s()("contentSpacing",{[Ct.Z.narrowPage]:t}),id:"searchPage",children:(0,b.jsx)(z.T,{className:Ct.Z.searchPageGrid,render:()=>(0,b.jsxs)(r.rs,{children:[(0,b.jsx)($.g,{exact:!0,path:"/search",pathV6:"/",children:(0,b.jsx)(ae.K,{pageId:m.Wg.FIND,entityUri:"spotify:app:search",children:(0,b.jsx)(D,{})})}),(0,b.jsx)($.g,{exact:!0,path:"/search/:query",pathV6:":query",children:(0,b.jsxs)(_i,{children:[e&&i&&(0,b.jsx)(jt,{results:e,category:g}),e&&!i&&(0,b.jsx)(Pi,{})]})}),(0,b.jsx)($.g,{path:"/search/:query/:category",pathV6:":query/:category",children:(0,b.jsxs)(qi,{children:[e&&i&&(0,b.jsx)(et,{results:e,displayChips:S}),e&&!i&&(0,b.jsx)(Pi,{})]})})]})})})]})},Tt=a.memo((function(){const e=(0,c.W6)(y.uB),i=(0,c.W6)(y.Dz),[{category:n,query:t},s]=(0,Di.l)();(0,ie.z)("search");const[l,r]=(0,a.useState)({results:null,queryForResults:""}),d=l.results,m=null!==d&&void 0!==Object.keys(d).find((e=>"chipOrder"!==e&&d[e].items.length>0)),k=(0,a.useMemo)((()=>new Ci((0,Q.PQ)(X.b.getInstance()))),[]),{searchHistory:p,setSearchHistory:v}=(0,F.u)(),N=(0,a.useCallback)((e=>{v([e,...p])}),[p,v]),S=(0,a.useCallback)((async e=>{e===l.queryForResults&&m||s(e,n,!1)}),[l.queryForResults,n,m,s]);(0,a.useEffect)((()=>{(async()=>{if(!t)return;const n=i?20:5,a=await k.getSearchResults(t,e,0,10,n);r({results:a,queryForResults:t})})()}),[t,k,e,i]),(0,a.useEffect)((()=>{t||r({results:null,queryForResults:""})}),[t]);const g=(0,a.useMemo)((()=>o().create().toString()),[n,l.queryForResults]),h=(0,a.useMemo)((()=>({api:k,category:n,query:l.queryForResults,onAddToHistory:N,onSearchRequest:S,serpId:g})),[k,n,N,S,l.queryForResults,g]);return(0,b.jsxs)(V,{value:h,children:[(0,b.jsx)(Y.$,{children:u.ag.get("search.page-title")}),(0,b.jsx)(Dt,{results:d,hasResults:m})]})})),It=Tt},15711:(e,i,n)=>{n.d(i,{V:()=>R,e:()=>A});var a=n(59496),t=n(77646),s=n(88585),l=n.n(s),r=n(82374),d=n(33205),o=n(97274),c=n(43181),m=n(21821),u=n(46871),k=n(49970),p=n(25915),v=n(72899),N=n(68001),S=n(95720),g=n(56021),y=n(38205),h=n(45462),f=n(86364),x=n(29009),F=n(89842),b=n(18154),j=n(77003),C=n(7194),D=n(43229),T=n(80769),I=n(4637);function A(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const E=e=>`activation-trigger-mme-${e}`,R=a.memo((function({index:e=-1,showMetadata:i,episode:n,usePlayContextItem:s,status:R,variant:V}){const w=(0,T.E)(),P=n.playedState.playPositionMilliseconds,U=n.uri,q=(0,a.useRef)(null),[_,L]=(0,a.useState)(n.playedState.state===C.sY.Completed),O=(0,v.O1)(),M=(0,S.g)(),H=(0,F.jh)(),B=(0,N.o)(),W=(0,t.I0)(),{UBIFragment:G,spec:K,logger:Z}=(0,j.fU)(r.createDesktopEpisodeBlockEventFactory,{data:{uri:U,reason:n.requestId||"",position:e}}),z=(0,j.Wi)(K),{isActive:$,isPlaying:X,togglePlay:Q}=s({uri:U}),[Y]=(0,b.z)(1e4,(e=>e?.item?.uri===U));(0,a.useEffect)((()=>{X&&(q.current=Y)}),[X,Y]),(0,a.useEffect)((()=>{!X&&q.current&&n.duration.milliseconds<=q.current&&L(!0)}),[X,n.duration.milliseconds]);const J=(0,a.useCallback)((e=>{e||(q.current=0),L(e)}),[]),ee=A(i),ie=(0,g.s)({...n,coverArt:{sources:n.coverArt}},ee),ne=(0,a.useCallback)((()=>{if(n.episodeType===C.Wf.Episode&&w)k.y.set((()=>({triggerId:E(n.uri),triggerAction:null})));else if(M)ie();else{let e;e=X?K.playButtonFactory().hitPause({itemToBePaused:U}):$?K.playButtonFactory().hitResume({itemToBeResumed:U}):K.playButtonFactory().hitPlay({itemToBePlayed:U});const i=Z.logInteraction(e);B({targetUri:U,intent:X?"pause":"play",type:"click"}),Q({loggingParams:i})}}),[$,ie,B,Q,U,X,M,n,w,Z,K]),ae=(0,a.useCallback)((()=>{Z.logInteraction(K.hitUiNavigate({destination:U})),B({type:"click",targetUri:U,intent:"navigate"})}),[U,B,Z,K]),te=n.podcastSubscription?.isPaywalled??!1,se=n.podcastSubscription?.isUserSubscribed??!1,le=te&&!se,re=te&&M,{badges:de}=(0,D.r)({contentRating:n.contentRating?.label,isPaywalled:te}),oe=(0,a.useCallback)((()=>W((0,d.RM)(i.uri))),[i.uri,W]),ce=(0,a.useCallback)((e=>{let a=e;return(le||re)&&(a=(0,I.jsx)(u.l,{enabled:!0,showUri:i.uri,children:a})),!n.playability.playable&&de.nineteen&&(a=(0,I.jsx)("div",{onClick:e=>{e.stopPropagation(),oe()},children:e})),a=(0,I.jsx)(o.D,{id:E(U),targetURI:l().from(U),children:a}),a}),[U,le,re,i.uri,de.nineteen,n.playability.playable,oe]);return(0,I.jsx)(G,{spec:K,children:(0,I.jsx)(x.ZP,{value:"row",index:e,children:(0,I.jsx)(y._,{onShow:()=>{Z.logInteraction(K.secondaryHitUiReveal())},menu:(0,I.jsx)(c.k,{uri:U,showUri:i.uri,sharingInfo:n.sharingInfo,isPlayed:_,onMarkAsPlayed:J}),children:(0,I.jsx)(m.X,{ref:z,requestId:n.requestId,index:e,uri:U,size:H,images:n.coverArt||[],name:n.name,showName:i.name,description:n.description,isPlayable:n.playability.playable||le,fullyPlayed:_,durationMs:n.duration.milliseconds,releaseDate:n.releaseDate?.isoString||"",resumePositionMs:q.current??P,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const a=`${n.name} • ${i.name}`;O(e,[U],a,i.uri)},handlePlaybackClick:ne,handleClick:ae,isCurrentlyPlaying:$,isPaywalled:te,isUserSubscribed:se,isPlaying:X,position:X?Y:void 0,episodeSharingInfo:n.sharingInfo,onMarkAsPlayed:J,contentInformation:n.contentInformation,badges:(0,I.jsxs)(I.Fragment,{children:[de.explicit&&(0,I.jsx)(h.N,{}),de.paid&&(0,I.jsx)(p.g,{}),de.nineteen&&(0,I.jsx)(f.X,{size:16})]}),playButtonWrapper:ce,onMoreButtonClick:()=>{Z.logInteraction(K.moreButtonFactory().hitUiReveal())},status:R,variant:V})})})})}))},56021:(e,i,n)=>{n.d(i,{s:()=>u});var a=n(59496),t=n(68001);const s=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function l(e,i){return e.filter((e=>e.label?e.label===i:e.width?s(e.width)===i:!!e.height&&s(e.height)===i))[0]}var r=n(52154);function d(e){const i=l(e,"standard"),n=l(e,"large"),a=l(e,"small"),t=l(e,"xlarge");return{image_url:i?.url,image_height:i?.height?.toString(),image_width:i?.width?.toString(),image_url_large:n?.url,image_height_large:n?.height?.toString(),image_width_large:n?.width?.toString(),image_url_small:a?.url,image_height_small:a?.height?.toString(),image_width_small:a?.width?.toString(),image_url_xlarge:t?.url,image_height_xlarge:t?.height?.toString(),image_width_xlarge:t?.width?.toString()}}var o=n(32693),c=n(53703),m=n(92910);function u(e,i){const n=(0,t.o)(),s=(0,o.g)(),{isPlaying:l,isActive:u}=(0,c.$o)(e?.uri||""),{isActive:k}=(0,c.cR)(i?.uri||"");return(0,a.useCallback)((a=>{if(!i||!e)return;const t=function(e,i){const n=(e.coverArt?.sources||[]).sort(((e,i)=>(i.width||0)-(e.width||0))),a=(0,r.Xb)(e,i),t=(0,r.Ie)(i)||a;return{uri:e.uri,title:e.name,subtitle:i.name,type:"episode",album_uri:i.uri,album_title:i.name,artist_uri:i.uri,artist_name:i.name,...d(n),media_type:"audio",externalResolvedUrl:e.audio?.items?.find((e=>e.externallyHosted))?.url,isTrailer:a,anonymousPlaybackAllowed:t}}(e,i);k&&!l&&u&&!a?s.resume():k&&l&&!a?(n({type:"click",intent:"pause",targetUri:e.uri}),s.pause()):(n({type:"click",intent:"play",targetUri:e.uri}),s.play({uri:i.uri,pages:[{items:[{type:m.p.EPISODE,uri:e.uri,uid:null,metadata:t,provider:null}]}]},{referrerIdentifier:s.getReferrer(),featureIdentifier:"episode"},a))}),[u,l,k,s,n,i,e])}},23390:(e,i,n)=>{n.d(i,{$:()=>a});const a=e=>e?.linked_from?.uri||e.uri},41818:(e,i,n)=>{n.d(i,{Z:()=>a});const a={searchPageGrid:"search-searchPage-searchPageGrid",narrowPage:"xol36rXFgZ_biOcw6Czk"}}}]);
//# sourceMappingURL=xpui-routes-search.js.map