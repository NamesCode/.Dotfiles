"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[8123],{22578:(e,t,n)=>{n.d(t,{$:()=>m});n(26699),n(32023),n(69600),n(68309),n(21249);var i=n(67294),r=n(64593),a=n(96206),l=n(69691),o=n(8341),c=n(89952),u=n(51615),s=n(24183);function d(e){return e.includes("Spotify")?e:"Spotify – ".concat(e)}var m=function(e){var t,n,m,v,b,E,f,p=e.children,g=e.usePlayingItem,h=d(p);t=p,v=(0,s.Oh)().mainLandmarkRef,b=(0,u.k6)(),E=null===(n=b.location)||void 0===n||null===(m=n.state)||void 0===m?void 0:m.preventMoveFocus,(f=(0,i.useRef)(b.length<2)).current=b.length<2,(0,i.useEffect)((function(){var e=v.current;!E&&!f.current&&e&&t&&(e.setAttribute("aria-label",t),e.focus())}),[t,v,E]);var w=(0,l.IK)().isPlaying,y=(0,o.Y)((function(e){return null==e?void 0:e.item}));return y&&(w||g)&&((0,c.G_)(y)?h=[y.name,y.artists.map((function(e){return e.name})).join(a.ag.getSeparator())].join(" • "):(0,c.iw)(y)?h=[y.name,y.show.name].join(" • "):(0,c.k6)(y)&&(h=d(a.ag.get("ad-formats.advertisement")))),i.createElement(r.q,{defaultTitle:"Spotify",defer:!1},i.createElement("title",null,h))}},70369:(e,t,n)=>{n.d(t,{$:()=>i.$});var i=n(22578)},326:(e,t,n)=>{n.d(t,{l:()=>f});var i,r,a,l=n(4942),o=n(67294),c=n(32667),u=n(34011),s=n(18864),d=n(16367),m=n(85166),v=(i={},(0,l.Z)(i,s.Uo.MEDIUM,"alto"),(0,l.Z)(i,s.Uo.LARGE,"alto"),(0,l.Z)(i,s.Uo.XLARGE,"forte"),i),b=(r={},(0,l.Z)(r,s.Uo.LARGE,"ballad"),(0,l.Z)(r,s.Uo.XLARGE,"cello"),r),E=(a={},(0,l.Z)(a,s.Uo.LARGE,"viola"),(0,l.Z)(a,s.Uo.XLARGE,"viola"),a),f=function(e){var t=e.title,n=e.subtitle,i=e.body,r=e.footnote,a=e.buttonText,l=e.callToActionClicked,f=(0,s.jh)(),p=f&&v[f]||"canon",g=f&&b[f]||"mesto",h=f&&E[f]||"finale";return o.createElement(o.Fragment,null,o.createElement(c.D,{as:"h1",variant:p,semanticColor:"textBase",className:m.Z.title},t),o.createElement(c.D,{as:"h2",variant:g,semanticColor:"textSubdued",className:m.Z.subtitle},n),i,l&&o.createElement(u.D,{className:m.Z.button,colorSet:"invertedLight",onClick:l,"data-testid":d.xd},a),r&&o.createElement(c.D,{as:"p",variant:h,semanticColor:"textSubdued",className:m.Z.note},r))}},27887:(e,t,n)=>{n.d(t,{H:()=>h});var i=n(4942),r=(n(68309),n(67294)),a=n(35150),l=n(96206),o=n(20367),c=n(70369),u=n(18864);const s="NTT5CathoDEMjrmgfv9y",d="WmmNhmwHDNvDxInfukYO";const m=function(e){return r.createElement("div",{className:s},r.createElement("div",{className:d},r.createElement("svg",{width:e.iconSize,height:e.iconSize,fill:"currentColor",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M33 31.998v-23h-2v23H8v2h23v23h2v-23h23v-2z"}))))};var v,b=n(326),E=n(16367),f=n(85166),p={name:"",username:"",image_url:null,hash:""},g=(v={},(0,i.Z)(v,u.Uo.MEDIUM,164),(0,i.Z)(v,u.Uo.LARGE,164),(0,i.Z)(v,u.Uo.XLARGE,270),v),h=function(e){var t,n,i,s,d=e.invitation,v=e.callToActionClicked,h=e.breakpointEltRef,w=!(null===(t=d.members)||void 0===t||!t.length),y=w&&(null===(n=d.members)||void 0===n?void 0:n[0])||d.recipient||p,O=w&&d.recipient||null,_=(0,u.jh)(),A=_&&g[_]||128,I=Math.round(.475*A);return r.createElement("div",{className:(0,a.cx)(f.Z.container,f.Z.TwoUsers),"data-testid":E.xS,ref:h},r.createElement(c.$,null,l.ag.get("blend.invite.page-title")),r.createElement("div",{className:f.Z.facepile},r.createElement(o.q,{label:y.name,images:[{url:null!==(i=y.image_url)&&void 0!==i?i:"",width:A,height:A}],width:A,userIconSize:I}),O?r.createElement(o.q,{label:O.name,images:[{url:null!==(s=O.image_url)&&void 0!==s?s:"",width:A,height:A}],width:A,userIconSize:I,piled:!0}):function(e,t){return r.createElement(o.q,{label:l.ag.get("web-player.blend.invite.button-title"),images:[],width:e,userIconSize:t,customPlaceholder:r.createElement(m,{iconSize:t}),piled:!0})}(A,I)),r.createElement(b.l,{title:d.title,subtitle:d.subtitle,footnote:d.footnote,buttonText:d.button_text,callToActionClicked:v}))}},16367:(e,t,n)=>{n.d(t,{Eh:()=>l,ab:()=>a,e0:()=>i,xS:()=>r,xd:()=>o});var i="blend-deleted-container",r="blend-two-user-container",a="blend-multi-user-container",l="blend-full-container",o="blend-cta-button"},80647:(e,t,n)=>{n.d(t,{Z:()=>i});const i=function(){var e=window.location.href;return window.location.href="".concat("https://accounts.spotify.com/login","?continue=").concat(encodeURIComponent(e)),null}},22250:(e,t,n)=>{n.d(t,{Ag:()=>o,V3:()=>i,nW:()=>l,oN:()=>a});var i,r=n(16516);!function(e){e.PENDING_INVITATION="PENDING_INVITATION",e.READY_TO_JOIN_EMPTY_BLEND="READY_TO_JOIN_EMPTY_BLEND",e.READY_TO_JOIN_ALREADY_CREATED_BLEND="READY_TO_JOIN_ALREADY_CREATED_BLEND",e.MAX_MEMBERS="MAX_MEMBERS",e.ALREADY_JOINED="ALREADY_JOINED",e.DELETED="DELETED"}(i||(i={}));var a=function(e,t){return e.build().withHost(r.cM).withPath("/v3/view-invitation/".concat(encodeURIComponent(t))).withEndpointIdentifier("v3/view-invitation/{invitationId}").withLocale(e.locale).send()},l=function(e,t){return e.build().withHost(r.cM).withMethod("PUT").withPath("/v2/join/".concat(encodeURIComponent(t))).withEndpointIdentifier("join/{invitationId}").send()},o=function(e){return e.build().withHost(r.cM).withMethod("POST").withPath("/v1/generate").withEndpointIdentifier("v1/generate").send()}},52201:(e,t,n)=>{n.d(t,{j:()=>l});var i=n(4942),r=n(82144),a=n(53052),l=function(){var e;return(0,a.D)((e={},(0,i.Z)(e,r.U.SMALL,536),(0,i.Z)(e,r.U.MEDIUM,792),(0,i.Z)(e,r.U.LARGE,1048),(0,i.Z)(e,r.U.XLARGE,1688),e))}},60210:(e,t,n)=>{n.d(t,{i:()=>v});var i=n(15861),r=n(87757),a=n.n(r),l=(n(21703),n(96647),n(86706)),o=n(96206),c=n(87961),u=n(25853),s=n(51867),d=n(29255),m=n(22250);function v(){var e=(0,l.v9)(d.Gg).user,t=(0,s.k)();return(0,i.Z)(a().mark((function n(){var i,r,l,s,d;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,m.Ag)(c.b.getInstance());case 3:if(s=n.sent,null===(i=s.body)||void 0===i?void 0:i.invite){n.next=7;break}throw new Error("unable to generate invite link");case 7:d=null!=e&&e.display_name?o.ag.get("blend.invite.body-with-name",e.display_name,null===(r=s.body)||void 0===r?void 0:r.invite):o.ag.get("blend.invite.body-without-name",null===(l=s.body)||void 0===l?void 0:l.invite),(0,u.v)(d),t(o.ag.get("feedback.link-copied")),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),t(o.ag.get("error.generic"));case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))}},81070:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var i=n(4942),r=n(67294),a=n(86706),l=n(96206),o=n(70369),c=n(29255),u=n(18864),s=n(15429),d=n(49961),m=n(22250),v=n(52201),b=n(60210),E=n(27887),f=n(80647);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={page_type:m.V3.PENDING_INVITATION,get title(){return l.ag.get("web-player.blend.group-invite.header")},get subtitle(){return l.ag.get("web-player.blend.duo-invite.description")},get button_text(){return l.ag.get("web-player.blend.invite.button-title")},footnote:null,members:[],recipient:null,members_title:null,playlist_uri:null};const w=function(){var e,t=(0,b.i)(),n=(0,v.j)(),i=n.ref,m=n.breakpoint,p=(0,a.v9)(c.Gg).user,w=null!=p&&p.uri?(0,s.C)(null==p?void 0:p.uri):"",y=function(e){return g(g({},h),{},{members:[e],footnote:l.ag.get("web-player.blend.group-invite.warning")})}({name:(null==p?void 0:p.display_name)||"",username:w,image_url:(null===(e=(0,d.X)(null==p?void 0:p.images))||void 0===e?void 0:e.url)||null,hash:""});return p?r.createElement(r.Suspense,{fallback:null},r.createElement(o.$,null,l.ag.get("web-player.blend.invite.page-title")),r.createElement(u.ZU.Provider,{value:m},r.createElement(E.H,{invitation:y,callToActionClicked:t,breakpointEltRef:i}))):r.createElement(f.Z,null)}},80417:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ee});var i=n(67294),r=n(86706),a=n(51615),l=n(29255),o=n(29634),c=n(4942),u=(n(74916),n(15306),n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(69518)),s=n.n(u),d=n(33661),m=n(87577),v=n(96206),b=n(87972),E=n(49207),f=n(18864),p=n(6158),g=n(22250),h=n(52201),w=n(60210),y=n(15861),O=n(87757),_=n.n(O),A=(n(21703),n(96647),n(87961)),I=n(51867);var k=n(15358),x=n(326),N=n(16367),D=n(85166),T=function(e){var t=e.invitation,n=e.callToActionClicked,r=e.breakpointEltRef;return i.createElement("div",{className:D.Z.container,"data-testid":N.Eh,ref:r},i.createElement(k.Z,{iconSize:64}),i.createElement(x.l,{title:t.title,subtitle:t.subtitle,buttonText:t.button_text,footnote:null,callToActionClicked:n}))},R=n(70369),U=(n(68309),n(21249),n(94184)),Z=n.n(U),L=n(32667),P=n(20367),j=n(18261),M=n(43480),C=n(67892);const S="HKAYWYmxd5Ie8WSi0a4y",Y="i52u_T3b50wraodIaORk",G="xakiNVMlUf6geF67FEgy",V="IRhTesoeIiwswlly0Dvg",B="LNJzE17iskXWmfKAzY4U",z="qzBr7X7cdLUhWdk0r8lL";var X=function(e){var t=e.uri,n=e.imageUrl,r=e.name;return i.createElement("li",null,i.createElement(j._,{menu:i.createElement(M.I,{uri:t})},i.createElement(C.r,{to:t},i.createElement("div",{className:V},i.createElement(P.q,{images:[{url:n,width:null,height:null}],label:r,width:32,userIconSize:24,className:B}),i.createElement(L.D,{variant:"violaBold",className:"standalone-ellipsis-one-line",semanticColor:"textBase"},r)))))},q=function(e){var t=e.members,n=e.headingText,r=e.className;return i.createElement("div",{className:Z()(S,r)},i.createElement("div",null,i.createElement(L.D,{as:"h4",variant:"minuetBold",semanticColor:"textSubdued",className:Y},n)),i.createElement("ul",{className:G},t&&t.map((function(e){return i.createElement(X,{imageUrl:e.image_url||"",name:e.name,uri:s().profileURI(e.username).toURI(),key:e.username})}))),i.createElement("div",{className:z}))},W=function(e){var t=e.invitation,n=e.callToActionClicked,r=e.breakpointEltRef,a=t.members||[],l=i.createElement("div",{className:D.Z.userListContainer,"data-testid":N.ab},i.createElement(q,{className:D.Z.userList,headingText:t.members_title,members:a}));return i.createElement("div",{className:D.Z.container,ref:r},i.createElement(R.$,null,v.ag.get("blend.join.title")),i.createElement(x.l,{title:t.title,subtitle:t.subtitle,footnote:t.footnote,body:l,buttonText:t.button_text,callToActionClicked:n}))},H=n(27887);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(e){var t,n,r=e.invitationId,l=(0,a.k6)(),o=(0,m.W6)(E.c$),c=(0,b.J)(g.oN,[r]),u=c.data,O=c.error,k=c.loading,R=(0,w.i)(),U=function(e){var t=(0,I.k)(),n=(0,a.k6)();return(0,y.Z)(_().mark((function i(){var r,a;return _().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,g.nW)(A.b.getInstance(),e);case 3:if(r=i.sent,a=s().from(null==r?void 0:r.body.playlist_uri).toURLPath(!0)){i.next=7;break}throw new Error("unable to join");case 7:n.replace(a),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(0),t(v.ag.get("error.request-playlist-failure"));case 13:case"end":return i.stop()}}),i,null,[[0,10]])})))}(r),Z=(0,h.j)(),L=Z.ref,P=Z.breakpoint,j=null===u||!u.body;if(j||k||O)return i.createElement(p.h,{timeoutInMs:1e3,hasError:!!O||!k&&j,errorMessage:v.ag.get("error.generic")});var M=null===(t=s().from(null==u?void 0:u.body.playlist_uri))||void 0===t?void 0:t.toURLPath(!0),C=(null==u||null===(n=u.body.members)||void 0===n?void 0:n.length)||0,S=o===E.rS.TWO_USER;switch(null==u?void 0:u.body.page_type){case g.V3.DELETED:return i.createElement(f.ZU.Provider,{value:P},i.createElement("div",{className:D.Z.container,ref:L,"data-testid":N.e0},i.createElement(d.F,{iconSize:64}),i.createElement(x.l,{title:u.body.title,subtitle:u.body.subtitle,buttonText:u.body.button_text,footnote:u.body.footnote,callToActionClicked:R})));case g.V3.ALREADY_JOINED:return M&&l.replace(M),i.createElement(p.h,{hasError:!1,errorMessage:v.ag.get("error.request-playlist-failure")});case g.V3.READY_TO_JOIN_EMPTY_BLEND:return i.createElement(f.ZU.Provider,{value:P},i.createElement(H.H,{invitation:u.body,breakpointEltRef:L,callToActionClicked:U}));case g.V3.READY_TO_JOIN_ALREADY_CREATED_BLEND:return S&&C>=2?i.createElement(f.ZU.Provider,{value:P},i.createElement(T,{invitation:K(K({},u.body),{},{title:v.ag.get("blend.link-invialid.header"),subtitle:v.ag.get("blend.link-invalid.subtitle"),button_text:v.ag.get("blend.invite.button-title")}),callToActionClicked:R,breakpointEltRef:L})):i.createElement(f.ZU.Provider,{value:P},i.createElement(W,{invitation:u.body,callToActionClicked:U,breakpointEltRef:L}));case g.V3.MAX_MEMBERS:return i.createElement(f.ZU.Provider,{value:P},i.createElement(T,{invitation:u.body,callToActionClicked:R,breakpointEltRef:L}));case g.V3.PENDING_INVITATION:return i.createElement(f.ZU.Provider,{value:P},i.createElement(H.H,{invitation:u.body,callToActionClicked:R,breakpointEltRef:L}));default:return i.createElement(p.h,{timeoutInMs:1e3,hasError:!0,errorMessage:v.ag.get("error.generic")})}},$=n(80647),Q=function(e){var t=e.invitationId;return(0,r.v9)(l.Gg).user?i.createElement(o.n,{fallback:null},i.createElement(F,{invitationId:t})):i.createElement($.Z,null)};const ee=i.memo((function(){return i.createElement(Q,(0,a.UO)())}))},85166:(e,t,n)=>{n.d(t,{Z:()=>i});const i={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",container:"yMoj4jXSudxZ6BkKxV2E",TwoUsers:"IDgUCqAbkRah6OFywv1q",subtitle:"qmKxO5qV4XmVYfpFpaDA",facepile:"nWMdWl40O8K7HQT8Tagc",title:"csRAeNipsu1camQTMiIU",button:"nxFBywAeAI8Zk2fav3Yj",userList:"lxPLQIPb1VSV3VL18Ke3",userListContainer:"BzMKhmywgyIt6IUjcTGW",note:"DSdKNusLgsMX_iicYCU2"}}}]);
//# sourceMappingURL=xpui-routes-blend.js.map