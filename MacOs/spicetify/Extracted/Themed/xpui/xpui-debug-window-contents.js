"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[5320],{85272:(e,n,s)=>{s.r(n),s.d(n,{DebugWindowContents:()=>Dn});var l=s(59496),t=s(53486),a=s(89691),r=s(6613),i=s(19588),o=s(49302),c=(s(64992),s(76804)),d=s(9751),u=s(89589);const h=(0,d.v)();window.abba={get:async function(e,n){const s=new c.ProductStateClient((0,u.G)()),l=(await s.getValues(c.GetValuesRequest.fromPartial({}))).pairs;let t={},a="";if(l.abbaOverrides?a=l.abbaOverrides:l.abbaoverrides&&(a=l.abbaoverrides),a)try{t=JSON.parse(a)}catch(e){console.error(`error parsing value=${a}, error=${e}`)}if(Object.prototype.hasOwnProperty.call(t,e))return console.warn(`Abba: Override for ${e} : ${t[e]}`),void setTimeout((()=>n(null,t[e])),0);h.post("sp://abba/v1/flags",{flags:[e]}).then((s=>{const{flags:l=[]}=s,t=l[0]&&l[0].featureName===e&&l[0].cell;n(null,t||null)})).catch((e=>{n(e)}))},getAll:function(e){console.warn("Abba:getAll should only be used by TA tests for logging purposes."),h.get("sp://abba/v1/all_flags").then((n=>{const{flags:s=[]}=n,l=s.reduce(((e,n)=>(e[n.featureName]=n.cell,e)),{});e(null,JSON.stringify(l,null,2))})).catch((n=>{e(n)}))},getRequestedFlagNames:function(e){h.get("sp://abba/v1/requested_flag_names").then((n=>{e(null,JSON.stringify(n.sort(),null,2))})).catch((n=>{e(n)}))}};var x=s(49917);const j="rh7v8PDNC0ke2OkkyRhk",m="L6pjHHt_x4tfksfQ4Pem",v="H0jIvFjLqNoS1jwvMR82",p="UZcGKrwobJ2tS5Ka06pD";var g=s(4637);const f=()=>{const[e,n]=(0,l.useState)(60),[s,t]=(0,l.useState)("stream"),[a,r]=(0,l.useState)("");return(0,g.jsxs)("div",{className:j,children:[(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("p",{children:"Stream time (in seconds)"}),(0,g.jsx)("input",{className:v,type:"text",value:e,onChange:e=>{const s=e.target.value;n(parseInt(s,10))}}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.increaseStreamTime(e)},children:"Add time"}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.increaseStreamTime(1200)},children:"Add 20 minutes"})]}),(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("p",{children:"Override Country"}),(0,g.jsxs)("select",{value:a,onBlur:()=>{},onChange:e=>{r(e.target.value)},children:[(0,g.jsx)("option",{value:"US",children:"USA"}),(0,g.jsx)("option",{value:"UK",children:"United Kingdom"}),(0,g.jsx)("option",{value:"JP",children:"Japan"}),(0,g.jsx)("option",{value:"BR",children:"Brasil"}),(0,g.jsx)("option",{value:"AU",children:"Australia"}),(0,g.jsx)("option",{value:"SE",children:"Sweden"}),(0,g.jsx)("option",{value:"",children:"Clear Override"})]}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.overrideCountry(a)},children:"Override"})]}),(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("p",{children:"Clear ad in slot"}),(0,g.jsxs)("select",{value:s,onBlur:()=>{},onChange:e=>{t(e.target.value)},children:[(0,g.jsx)("option",{value:"stream",children:"STREAM"}),(0,g.jsx)("option",{value:"billboard",children:"BILLBOARD OVERLAY"}),(0,g.jsx)("option",{value:"promotedsong",children:"PROMOTED SONG"}),(0,g.jsx)("option",{value:"hpto",children:"HPTO"}),(0,g.jsx)("option",{value:"leaderboard",children:"LEADERBOARD"})]}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.clearSlot(s)},children:"Clear slot"}),(0,g.jsx)("p",{children:"Trigger ad in slot"}),(0,g.jsxs)("select",{value:s,onBlur:()=>{},onChange:e=>{t(e.target.value)},children:[(0,g.jsx)("option",{value:"stream",children:"STREAM"}),(0,g.jsx)("option",{value:"billboard",children:"BILLBOARD OVERLAY"}),(0,g.jsx)("option",{value:"promotedsong",children:"PROMOTED SONG"}),(0,g.jsx)("option",{value:"hpto",children:"HPTO"}),(0,g.jsx)("option",{value:"leaderboard",children:"LEADERBOARD"})]}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.triggerSlot(s)},children:"Trigger slot"})]}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.queueVideoAd()},children:"Queue Video Ad"})]})};var b=s(77646),N=s(87155),y=s(79708),S=s(35782);const O="scaF2wOGtuiU5UBKJrGa",C="PjVBb0nlrIUasTrrFgCx",w="MjtdwpkzFFhhmzeyzOy2",A="uVClWczmJLRR5jfAENGP",k=[{label:"Production",value:"prod"},{label:"Development",value:"dev"}],I=()=>{const e=(0,b.I0)(),n=(0,b.v9)((e=>e.inAppMessaging.env)),s=(0,b.v9)((e=>e.inAppMessaging.message)),[t,a]=(0,l.useState)(""),[r,i]=(0,l.useState)(""),[o,c]=(0,l.useState)(!1);(0,l.useEffect)((()=>{s&&o&&c(!1)}),[s,o]);const d=!s&&o;return(0,g.jsx)("div",{className:O,children:(0,g.jsxs)("div",{className:C,children:[(0,g.jsx)("div",{children:(0,g.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingEnv",children:"Mode (endpoint):"})}),(0,g.jsx)(y.v,{dir:"auto",value:n,id:"desktop.settings.inAppMessagingEnv",onSelect:function(n){"prod"!==n&&"dev"!==n||e((0,S.q1)(n))},children:k.map((({label:e,value:n})=>(0,g.jsx)("option",{value:n,children:e},n)))}),(0,g.jsx)("div",{children:(0,g.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingCreativeId",children:"Creative Id:"})}),(0,g.jsx)("div",{children:(0,g.jsx)("input",{className:w,placeholder:"(eg. 12123434)",id:"desktop.settings.inAppMessagingCreativeId",name:"Creative Id",type:"text",value:t,onChange:function(e){a(e.target.value),c(!1)}})}),(0,g.jsx)("div",{children:(0,g.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingAppUri",children:"URI for Dynamic Content (optional):"})}),(0,g.jsx)("div",{children:(0,g.jsx)("input",{className:w,placeholder:"(eg. spotify:artist:123)",id:"desktop.settings.inAppMessagingAppUri",name:"App Uri",type:"text",value:r,onChange:function(e){i(e.target.value),c(!1)}})}),(0,g.jsx)("div",{}),(0,g.jsx)("div",{}),(0,g.jsx)("div",{children:(0,g.jsx)(N.D,{colorSet:"invertedLight",onClick:function(n){n.preventDefault(),e((0,S.XJ)(t,r)),c(!1),window.setTimeout((()=>{c(!0)}),1e3)},children:"Get Preview"})}),d&&(0,g.jsx)("div",{className:A,children:"No Messsage found"})]})})};var R=s(42732),P=s(40610),E=s(88896),T=s(35201),D=s(72509),B=s(11208),L=s(40516),U=s(41196),J=s(35049);const M="mHtMWLOMN_lZh6Eq1lBe",F="Ryr6R2suLwNRYud_tuXs",_="CB4s_xlu5db24RNOdk9e",z="rXwi6WM3vPDuyj9fQLw_",q="rqhyBEi1217s5l9KD42B",V=({name:e,value:n})=>(0,g.jsxs)(E.S,{hover:!0,children:[(0,g.jsx)(T.p,{className:F,highlight:!0,children:e}),(0,g.jsx)(T.p,{className:_,truncate:!0,align:"right",children:n}),(0,g.jsx)(T.p,{className:z,children:(0,g.jsx)("button",{className:q,onClick:()=>{void 0!==n&&(0,J.v)(n)},children:(0,g.jsx)(D.c,{iconSize:16})})})]}),K=()=>{const e=(0,U.p)(),n=e.token?.accessToken??"Not authorized",s=new Date(e.token?.accessTokenExpirationTimestampMs??0);return(0,g.jsx)("div",{className:M,children:(0,g.jsx)(B.x,{children:(0,g.jsxs)(L.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"30%"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{width:"16px"})]}),(0,g.jsxs)("tbody",{children:[(0,g.jsx)(V,{name:"Token",value:n}),(0,g.jsx)(V,{name:"Expires At",value:s.toLocaleString()}),(0,g.jsx)(V,{name:"Retry Attempt",value:e.retryAttempt?.toString()??"N/A"}),(0,g.jsx)(V,{name:"Retry At",value:e.retryAt?.toLocaleString()??"N/A"})]})]})})})};var W=s(78188);const $="WT_NZ6JEU_dK03UPUjQm",H="qiIwEYs34R1jRXwb_sZ8",G="x_Ve8I65cAL4jZHbutKP",Q="y_1aE6JElOnrFrvmgpUO",Y="rOqbwjYwx0AIWTfoYOQe",Z="w0xpmm3i0WhHooXZt9xC",X=({name:e,value:n})=>(0,g.jsxs)(E.S,{hover:!0,children:[(0,g.jsx)(T.p,{className:H,highlight:!0,children:e}),(0,g.jsx)(T.p,{className:G,truncate:!0,align:"right",children:n}),(0,g.jsx)(T.p,{className:Q,children:(0,g.jsx)("button",{className:Y,onClick:()=>{void 0!==n&&(0,J.v)(n)},children:(0,g.jsx)(D.c,{iconSize:16})})})]}),ee=({device:e})=>(0,g.jsxs)(B.x,{children:[(0,g.jsx)("h3",{className:Z,children:e.name}),(0,g.jsxs)(L.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"30%"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{width:"16px"})]}),(0,g.jsxs)("tbody",{children:[(0,g.jsx)(X,{name:"Device",value:e?.name}),(0,g.jsx)(X,{name:"Identifier",value:e.id}),(0,g.jsx)(X,{name:"Type",value:e.type}),(0,g.jsx)(X,{name:"Group",value:e.isGroup.toString()}),(0,g.jsx)(X,{name:"Local",value:e.isLocal.toString()}),(0,g.jsx)(X,{name:"Active",value:e.isActive.toString()}),(0,g.jsx)(X,{name:"Connecting",value:e.isConnecting.toString()}),(0,g.jsx)(X,{name:"Disabled",value:e.isDisabled.toString()}),(0,g.jsx)(X,{name:"Volume",value:e.volume.toString()}),(0,g.jsx)(X,{name:"HiFi",value:e.hifiSupport.deviceSupported.toString()})]})]})]}),ne=()=>{const e=(0,W.O)(),n=e.devices;return(0,g.jsxs)("div",{className:$,children:[(0,g.jsx)(B.x,{children:(0,g.jsxs)(L.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"30%"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{width:"16px"})]}),(0,g.jsx)("tbody",{children:(0,g.jsx)(X,{name:"Status",value:e.connectionStatus})})]})}),n.map((e=>(0,g.jsx)(ee,{device:e},e.id)))]})};s(5630),s(59699),s(91564);var se=s(56269),le=s(27425),te=s(38669),ae=s(56240),re=s(65041),ie=s(30428),oe=s(89725),ce=s(87817),de=s(12026),ue=s(96387),he=s(1692),xe=s(76150),je=s(94920),me=s(88778),ve=s(39888),pe=s(29113),ge=s(58134),fe=s(46367),be=s(15537);const Ne="gbcTqus4yhTHlzm2IETQ",ye="QoWcMe7qZMDKemQfS8Qu",Se="ZeUVhdgF8ZRjvUCTdmLr",Oe="mJkwncrS8jYg4iIg1f7y";const Ce=[se.Ul,le.M$,te.gw,re._X,oe.No,ce.PodcastPaywallsClient,de.PrefsClient,he.ShowServiceClient,xe.KQ,fe.R3,be.Dx,ue.HB,ie.BK,c.ProductStateClient,je.Pn,ae.ListenLaterServiceClient],we="debug-esperanto-requests";const Ae=()=>{const[e]=(0,l.useState)((()=>{const e=(0,u.G)();return Ce.reduce(((n,s)=>(n[s.SERVICE_ID]={calls:s.DECODERS,client:new s(e)},n)),{})})),n=Object.keys(e),[s,t]=(0,l.useState)(n[0]),a=e[s].calls,r=Object.keys(a),[i,o]=(0,l.useState)(r[0]),[c,d]=(0,l.useState)(null),[h,x]=(0,l.useState)(""),[j,m]=(0,l.useState)(""),v=(0,R.um)(),p=(0,l.useCallback)(((n,s)=>{const l=n??Object.keys(e)[0],a=e[l].calls,r=s??Object.keys(a)[0];t(l),o(r);const i=function(e,n,s){const l=e.getItem(we);return"string"!=typeof l?null:JSON.parse(l)[n]?.[s]??null}(v,l,r);x(null!==i?i:JSON.stringify(a[r].request(new Uint8Array),((e,n)=>void 0===n?null:n),2))}),[v,e]);return(0,l.useEffect)((()=>{p()}),[p]),(0,l.useEffect)((()=>{!function(e,n,s,l){const t=e.getItem(we),a="string"==typeof t?JSON.parse(t):{};Object.hasOwn(a,n)||(a[n]={}),a[n][s]=l,e.setItem(we,JSON.stringify(a))}(v,s,i,h)}),[v,s,i,h]),(0,g.jsxs)("div",{className:Ne,children:[(0,g.jsxs)("div",{className:ye,children:[(0,g.jsx)(me.D,{as:"p",variant:"ballad",children:"Endpoint"}),(0,g.jsx)(ve.i,{id:"service-dropdown",value:s,onChange:e=>{p(e.currentTarget.value)},children:n.map((e=>(0,g.jsx)("option",{value:e,children:e},e)))}),(0,g.jsx)(ve.i,{id:"call-dropdown",value:i,onChange:e=>{p(s,e.currentTarget.value)},children:r.map((e=>(0,g.jsx)("option",{value:e,children:e},e)))})]}),(0,g.jsxs)("div",{className:Se,children:[(0,g.jsx)(me.D,{as:"p",variant:"ballad",children:"Request"}),(0,g.jsx)(pe.P,{buttonSize:"sm",onClick:()=>{try{const e=JSON.parse(h,((e,n)=>null===n?void 0:n)),n=JSON.stringify(e,((e,n)=>void 0===n?null:n),2);x(`${n}\n`)}catch(e){}},children:"Prettify"}),(0,g.jsx)(pe.P,{buttonSize:"sm",onClick:async()=>{if(c)return c.cancel(),void d(null);const n=e[s].client;var l;const t=n[(l=i).charAt(0).toLowerCase()+l.slice(1)];if(1===t.length){const e=await t.call(n,JSON.parse(h,((e,n)=>null===n?void 0:n)));m(JSON.stringify(e,void 0,2))}else 2===t.length&&d(t.call(n,JSON.parse(h,((e,n)=>null===n?void 0:n)),(e=>{m(JSON.stringify(e,void 0,2))})))},children:null!==c?"Cancel":"Send"}),(0,g.jsx)(ge.B,{value:h,onChange:e=>{x(e.currentTarget.value)}})]}),(0,g.jsxs)("div",{className:Oe,children:[(0,g.jsx)(me.D,{as:"p",variant:"ballad",children:"Response"}),(0,g.jsx)(ge.B,{value:j,readOnly:!0})]})]})};s(41965),s(50114);var ke=s(14187);var Ie=s(50895),Re=s(77571),Pe=s(62194);var Ee=s(38381),Te=s(60962);var De=s(32693),Be=s(7209),Le=s(64381);const Ue="bFE0oGWgZ40KJHjcBj12",Je="nAeIvCNG4jVwkKxAEqwm",Me="KG4I4Zh3DDzaN0XwzddI",Fe="tiUNZpj0HxFf5EOWSiCA",_e="eymcN9Ndbrbe5jR7URP_",ze="nzbIAA5MqUSD0hIKUuHg",qe="hksYFxAm48XqAEbpcukQ",Ve="UnO1u4VJB0B6pTtqWh1n",Ke="xlSWVFMQmYmRK34yiPOA",We="oKgZ0g8at59jN8nf8Bee",$e="Nodut0kqaRIc93iGqbbP",He="dUIum8rPR6Msq9wot5ky",Ge="QHO5pYBkfWBn6qyAh9dp";const Qe=({size:e,ranges:n})=>{if(0===n.length)return(0,g.jsx)("div",{className:qe,children:(0,g.jsx)("div",{className:Ve})});const s=`linear-gradient(90deg, ${n.map((n=>{const s=100*n.fromByte/e,l=100*n.toByte/e;return`transparent ${s}%, ${Ie.$_Y.azure135} ${s}%, ${Ie.$_Y.azure135} ${l}%, transparent ${l}%`})).join(", ")})`;return(0,g.jsx)("div",{className:qe,children:(0,g.jsx)("div",{className:Ve,style:{background:s}})})},Ye=({item:e,file:n})=>{const s=(0,De.g)(),l=(function(e){let n,s,l=0;if(0===e.length)return l;for(n=0;n<e.length;n++)s=e.charCodeAt(n),l=(l<<5)-l+s,l|=0;return l}(`${n.format}${n.bitrate}`)+180)%360;return(0,g.jsxs)(E.S,{hover:!0,children:[(0,g.jsx)(T.p,{className:Je,highlight:!0,children:(0,g.jsxs)("div",{className:Ke,style:{background:`linear-gradient(180deg, hsl(${l}, 60%, 30%), hsl(${l}, 40%, 70%))`},children:[(0,g.jsx)("span",{className:We,children:n.format}),(0,g.jsx)("span",{className:$e,children:Ze(n.bitrate,1e3,"k")})]})}),(0,g.jsx)(T.p,{className:Me,truncate:!0,children:(0,g.jsxs)("div",{className:ze,children:[n.fileId,(0,g.jsx)(Qe,{size:n.byteSize,ranges:n.byteRanges})]})}),(0,g.jsxs)(T.p,{className:Fe,children:[(0,g.jsx)("button",{className:_e,onClick:()=>{s.play({uri:"spotify:internal:fileplayback",pages:[{items:[{...e,provider:"context",metadata:{"media.manifest":JSON.stringify({id:n.fileId,bitrate:n.bitrate,format:n.formatEnum,encryption:"aes"})}}]}]},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,g.jsx)(Re.J,{iconSize:16})}),(0,g.jsx)("button",{className:_e,onClick:()=>{(0,J.v)(n.fileId)},children:(0,g.jsx)(D.c,{iconSize:16})})]})]})};function Ze(e,n=1,s=""){if(void 0!==e&&-1!==e)return"string"==typeof e&&(e=Number.parseInt(e,10)),`${(e/n).toLocaleString("en",{maximumFractionDigits:10})}${s}`}function Xe(e){if(void 0!==e)return(0,Le.m)(parseInt(e,10))}const en=({name:e,value:n})=>(0,g.jsxs)(E.S,{hover:!0,children:[(0,g.jsx)(T.p,{className:Je,highlight:!0,children:e}),(0,g.jsx)(T.p,{className:Me,truncate:!0,align:"right",children:n}),(0,g.jsx)(T.p,{className:Fe,children:(0,g.jsx)("button",{className:_e,onClick:()=>{void 0!==n&&(0,J.v)(n)},children:(0,g.jsx)(D.c,{iconSize:16})})})]}),nn=()=>{const e=(0,Be.Y)((e=>e?.item??null)),n=function(){const[e,n]=(0,l.useState)(null),s=(0,Pe.f)();return(0,l.useEffect)((()=>{let e=!0;return s.getPlaybackInfo().then((s=>{e&&n(s)})),()=>{e=!1}}),[s]),(0,Te._)(Ee.r.INFO,(({data:e})=>{n(e)})),e}(),s=function(e=null,n=null){const[s,t]=(0,l.useState)(null),a=(0,Pe.f)();return(0,l.useEffect)((()=>{let s=!0,l=null;if(null===e)t(null);else{const r=async()=>{const n=await a.getFiles(e);s&&t(n)};r(),null!==n&&(l=window.setInterval(r,n))}return()=>{s=!1,null!==l&&window.clearInterval(l)}}),[a,e,n]),s}(e?.uri,500),t=(0,De.g)();return null===e?(0,g.jsx)("div",{className:Ue,children:"Nothing is currently playing."}):(0,g.jsxs)("div",{className:Ue,children:[(0,g.jsxs)("div",{className:He,children:[(0,g.jsx)(me.D,{variant:"violaBold",children:"Forced shuffle"}),(0,g.jsx)(ke.Z,{id:"forced-shuffe",value:t.getForcedShuffle(),onSelected:e=>{t.setForcedShuffle(e)}})]}),(0,g.jsx)("div",{children:(0,g.jsx)("button",{className:Ge,onClick:()=>{t.play({uri:"invalid_context_uri"},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,g.jsx)("span",{children:"Clear context"})})}),(0,g.jsx)(B.x,{children:(0,g.jsxs)(L.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"30%"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{width:"16px"})]}),(0,g.jsxs)("tbody",{children:[(0,g.jsx)(en,{name:"url"===n?.fileType?"URL":"File ID",value:n?.fileId}),(0,g.jsx)(en,{name:"Type",value:n?.fileType}),(0,g.jsx)(en,{name:"url"===n?.fileType?"URL":"File ID",value:n?.fileId}),(0,g.jsx)(en,{name:"Codec",value:n?.codecName}),(0,g.jsx)(en,{name:"Bitrate",value:Ze(n?.fileBitrate,1e3,"k")}),(0,g.jsx)(en,{name:"Strategy",value:n?.strategy}),(0,g.jsx)(en,{name:"Target Bitrate",value:Ze(n?.targetBitrate,1e3,"k")}),(0,g.jsx)(en,{name:"Advisted Bitrate",value:Ze(n?.advisedBitrate,1e3,"k")}),(0,g.jsx)(en,{name:"Target File Available",value:(a=n?.targetFileAvailable,!0===a?"Yes":"No")}),(0,g.jsx)(en,{name:"Duration (hh:mm)",value:Xe(n?.lengthMs)}),(0,g.jsx)(en,{name:"Duration (ms)",value:Ze(n?.lengthMs,1," ms")}),(0,g.jsx)(en,{name:"Speed",value:Ze(n?.playbackSpeed)}),(0,g.jsx)(en,{name:"Gain Adjustment",value:Ze(n?.gainAdjustment)}),(0,g.jsx)(en,{name:"Loudness",value:n?.hasLoudness?Ze(n?.loudness):void 0})]})]})}),(0,g.jsx)(B.x,{children:(0,g.jsxs)(L.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"72px"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{width:"32px"})]}),(0,g.jsx)("tbody",{children:s?.map((n=>(0,g.jsx)(Ye,{item:e,file:n},n.fileId)))})]})})]});var a};s(78495);var sn=s(84875),ln=s.n(sn),tn=s(27002),an=s(75813),rn=s(59528),on=s(2638),cn=s(63135),dn=s(29566),un=s(7789),hn=s(66080),xn=s(10094),jn=s(18824);const mn="HnpguQ3rtX44hdThdwy9",vn="oJJkROlUPmT5lEqzx1cZ",pn="dQkRirl4qynBunRI_kR2",gn="RqhApI3LSHoimdyl53SQ",fn="y1gsL5scUuLOArVrFYRl",bn="Ni7focuLC626smvmOnLP",Nn="W5wjtyjHTJPGX5j7_WOp",yn=({property:e,value:n,onOverride:s,isOverridden:l})=>{if("int"===e.type||"internal"===e.type)throw Error("Invalid property type for dropdown!");const t="bool"===e.type?["true","false"]:e.values;return(0,g.jsx)(ve.i,{id:`${e.name}-dropdown`,value:(n??e.default).toString(),onChange:n=>{var l;s(e.name,(l=n.currentTarget.value,"bool"===e.type?"true"===l:l))},className:ln()({[Nn]:l}),children:t.map((e=>(0,g.jsx)("option",{value:e,children:e},e)))})},Sn=({property:e,value:n,onOverride:s,isOverridden:t})=>{if("int"!==e.type)throw Error("Invalid property type for dropdown!");const[a,r]=(0,l.useState)(n??e.default),i=(0,tn.y1)((n=>{s(e.name,n)}),500);return(0,g.jsx)(an.y,{type:"number",min:e.lower,max:e.upper,value:a,onChange:e=>{r(e.currentTarget.value),i(Number.parseInt(e.currentTarget.value,10))},className:ln()({[Nn]:t})})},On=({property:e,localValue:n,remoteValue:s,onOverride:l,filter:t})=>{const a=n!==s;return(0,g.jsxs)(E.S,{hover:!0,children:[(0,g.jsx)(T.p,{className:pn,title:e.name,highlight:!0,children:t?(0,g.jsx)(xn.o,{searchWords:[t??""],textToHighlight:e.name}):e.name}),(0,g.jsx)(T.p,{className:gn,children:e.default.toString()}),(0,g.jsx)(T.p,{className:gn,children:s?.toString()??null}),(0,g.jsx)(T.p,{className:gn,children:"bool"===e.type||"enum"===e.type?(0,g.jsx)(yn,{property:e,value:n,onOverride:l,isOverridden:a}):"int"===e.type?(0,g.jsx)(Sn,{property:e,value:n,onOverride:l,isOverridden:a}):null})]})},Cn="debugPanelRemoteConfigLastChangedAtByPropertyName",wn=({properties:e,localConfiguration:n,remoteConfiguration:s,setOverrides:t,clearOverrides:a})=>{const{filter:r}=(0,l.useContext)(jn.fo),i=(0,R.um)(),o=()=>{const e=i.getItem(Cn);return e instanceof dn.d||e instanceof un.y?{}:e},c=(e,n)=>{t(on.VK.fromJSON({[e]:n})),i.setItem(Cn,{...o(),[e]:Date.now()})},d=(0,l.useRef)(o()),u=e.sort(((e,n)=>(d.current[n.name]??0)-(d.current[e.name]??0)||e.name.localeCompare(n.name)));return(0,g.jsxs)("div",{className:fn,children:[(0,g.jsxs)("div",{className:bn,children:[(0,g.jsx)(pe.P,{buttonSize:"sm",onClick:()=>{a(),i.clearItem(Cn)},children:"Clear local overrides"}),(0,g.jsx)(hn.K,{placeholder:"Find",alwaysExpanded:!0})]}),(0,g.jsx)(B.x,{children:(0,g.jsxs)(L.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"30%"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{})]}),(0,g.jsxs)("tbody",{children:[(0,g.jsxs)(E.S,{children:[(0,g.jsx)(rn.x,{className:vn,children:"Name"}),(0,g.jsx)(rn.x,{className:vn,children:"Default"}),(0,g.jsx)(rn.x,{className:vn,children:"Remote"}),(0,g.jsx)(rn.x,{className:vn,children:"Local"})]}),u.filter((e=>-1!==e.name.toLowerCase().indexOf(r.toLowerCase()))).map((e=>(0,g.jsx)(On,{property:e,localValue:n.getValue(e.name),remoteValue:s.getValue(e.name),onOverride:c,filter:r},e.name)))]})]})})]})},An=()=>{const e=[...(0,on.y6)()],{localConfiguration:n,remoteConfiguration:s,setOverrides:l,clearOverrides:t}=(0,cn.j)();return(0,g.jsx)("div",{className:mn,children:(0,g.jsx)(jn.hz,{uri:"spotify:internal:debug:remote-config-properties",children:(0,g.jsx)(wn,{properties:e,localConfiguration:n,remoteConfiguration:s,setOverrides:l,clearOverrides:t})})})},kn="wjncHEmBUc7V8RZYdENw",In="uyHngn_fJez61BsFl3tA",Rn="J2KhtXbDovVMDOMzv1Jy",Pn="h5nLocSUS3w2NB53IdWQ",En="debugWindowActiveTabGroup",Tn="debugWindowActiveTabIndex",Dn=()=>{const e=(0,Pe.f)().getCapabilities().canGetFiles,n=(0,o.wW)(),s=(0,o.wW)(),c=(0,l.useMemo)((()=>Object.fromEntries(Object.entries({Page:[null].filter(P.K),Authorization:[{label:"Access Token",Panel:K}],Playback:[e?{label:"Playback",Panel:nn}:null,{label:"Connect",Panel:ne}].filter(P.K),"Data Fetching":[n?{label:"Esperanto",Panel:Ae}:null,null].filter(P.K),Other:[{label:"Remote Config",Panel:An},s?{label:"Ads",Panel:f}:null,{label:"In-App Messaging",Panel:I}].filter(P.K)}).filter((([e,n])=>n.length>0)))),[e,n,s]),d=Object.keys(c),u=(0,R.um)(),h=u.getItem(En),x="string"==typeof h&&h in c?h:d[0],[j,m]=(0,l.useState)(x),v=u.getItem(Tn),p="number"==typeof v&&v in c[j]?v:0,[b,N]=(0,l.useState)(p),y=c[j][b].Panel;return(0,g.jsx)("div",{className:"encore-dark-theme",children:(0,g.jsxs)("div",{className:kn,children:[(0,g.jsx)(t.W,{className:In,children:(0,g.jsx)(a.b,{flexMobile:!0,children:d.map((e=>(0,g.jsxs)(l.Fragment,{children:[(0,g.jsx)(r.W,{children:e}),c[e].map(((n,s)=>(0,g.jsx)(i._,{active:j===e&&b===s,label:n.label,onClick:()=>{m(e),u.setItem(En,e),N(s),u.setItem(Tn,s)},className:Rn,children:n.label},n.label)))]},e)))})}),(0,g.jsx)("div",{className:Pn,children:(0,g.jsx)(y,{})})]})})}}}]);
//# sourceMappingURL=xpui-debug-window-contents.js.map