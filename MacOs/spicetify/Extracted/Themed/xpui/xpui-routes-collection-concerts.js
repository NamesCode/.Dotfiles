"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[5835],{70369:(e,t,n)=>{n.d(t,{$:()=>a.$});var a=n(22578)},59504:(e,t,n)=>{n.d(t,{k:()=>N});n(68309),n(92222);var a=n(67294),o=n(31667),r=n(47778),c=n(32667),i=n(67892),l=n(40169),s=n(43315),u=n(9339),m=n(42095);const d="wedRUk4eiBo9n9vqXLhU",v="HYVIJaYYiCTgSCHie70L",g="InXSbaoh8emJn09fWs3U",p="SPbe_Q1wtiZQCmo0QKUy",f="TRp4tgG7_cymGIXDevIP",E="tC1Y_nwyyly7cpIGqF5K",h="gY_xUHOSpAn6TPdU23t7",y="l93AfoV_qHnMQSQBB5GK",C="MTTf1Lotynwu3QKhr9uY",b="EkGb0ZzhswreSvpZoioY";var N=a.memo((function(e){var t=e.entity,n=e.isVirtual,N=e.shouldCombineRecs,S=e.onClick,k=t.venue,_=k.name,I=k.location.name,w=t.artists[0],G=(0,u.ij)(t),U=(0,m.CH)(t.date.isoString),F=n?o.F:r.n;return a.createElement(i.r,{to:"/concert/".concat(t.id),className:d,onClick:S},w.imageUri?a.createElement(l.Z,null,a.createElement("div",{"data-testid":"image-container",className:b,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(".concat(w.imageUri,")")}})):null,a.createElement("time",{className:v,dateTime:t.date.isoString},a.createElement(c.D,{as:"h5",variant:"minuetBold",className:g},(0,m.jx)(U))),a.createElement("div",{className:p,dir:"auto"},a.createElement(c.D,{as:"h2",className:C,variant:"minuetBold"},(0,s.FO)(U)," • ",(0,m.hK)(U)),a.createElement(c.D,{as:"h2",variant:"cello",weight:"bold",className:f},G),a.createElement("div",{className:E},N?a.createElement(F,{className:h,"aria-label":n?"Virtual Event":"In-Person Event",iconSize:16}):null,a.createElement(c.D,{as:"h2",className:y,variant:"mesto","data-testid":"location-name"},n?_:"".concat(_,", ").concat(I)))))}))},50543:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ne});var a=n(29439),o=(n(21249),n(68309),n(92222),n(47042),n(41539),n(91038),n(78783),n(74916),n(77601),n(82526),n(41817),n(32165),n(66992),n(33948),n(79753),n(21703),n(96647),n(67294)),r=n(86706),c=n(73012),i=n(32667),l=n(87577),s=n(67983),u=n(96206),m=n(6581),d=n(95888),v=n(70369),g=n(30731),p=n(60289),f=n(59482),E=n(72907),h=n(6158),y=n(19480),C=n(56802),b=n(37081),N=n(49207),S=n(29255),k=n(42922),_=n(15852),I=n(59504),w=n(86025),G=n(40169),U=n(9339),F=n(42095);const O="F7MwywVorrNKOgt7CEGy",D="r4aK7GGCTY1vrPuSoGy6",R="RX2kdQC6Fgc9h04mEgXx",M="JpGXFGtOfmKH5mKCOMQw",T="pN88b8jrYtBCrYGu35Al",A="amTa2euxioUd0vU2jMf5",L="Ko142eYEnV1xtSP5Vjk3";var K=o.memo((function(e){var t=e.entity,n=e.onClick,a=e.openingDateIso8601,r=e.closingDateIso8601,c=e.concertsCount,l=(0,F.CH)(a),s=(0,F.CH)(r),m=t.artists[0],d=(0,U.ij)(t);return o.createElement(w.o,{onClick:n,className:O,component:"div"},m.imageUri?o.createElement(G.Z,null,o.createElement("div",{"data-testid":"image-container",className:L,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(".concat(m.imageUri,")")}})):null,o.createElement("time",{className:D,dateTime:t.date.isoString},o.createElement(i.D,{as:"h5",variant:"minuetBold",className:R},(0,F.Bc)(l,s))),o.createElement("div",{className:M,dir:"auto"},o.createElement(i.D,{as:"h2",variant:"cello",weight:"bold",className:T},d),o.createElement("div",{className:A},o.createElement(i.D,{as:"h2",variant:"mesto","data-testid":"concerts-count"},u.ag.get("concerts.count",c)))))})),Y=n(51915),P=n(38205),Z=n(74410),B=n(92877),H=n(84465),x=n(67892);const X="_HSbKteV9dfeHwGxcNg_",z="aWBUVnORYXxsyYkhLwA9",V="my32elFymTSFRhPKDaLo",W="YAGZg56IvTunyhaur40H",j="vmevmDz8WM9VvMmgoaWe",J="ac36K8GtTBXhfFPRfGTo",q="hz2yJw4parzL0WK0rMng",Q="p_yAxEy29Xzm0fTvIg8T",$="wC2qUh2SJBX1UEe9aQtV",ee="sUzcAnZ86exG3LZrvpf2",te="Ou1Z3dcAWteEuTiYJlkB",ne="EtOrJwt_4yhkrHWbxXy4",ae="M680KWddHfIaTZCTyULM",oe="NjDfI7zPhvTXV8SjKcqq",re="OEdqJZzUG2K9iXIn9RtC";var ce=o.memo((function(e){var t=e.concert,n=e.position,a=e.modalSpec,r=(0,F.CH)(t.date.isoString),c="ONLINE"===t.category,l=t.venue.name,s=t.venue.location.name,u=c?l:"".concat(l,", ").concat(s),m=(0,o.useMemo)((function(){return null==a?void 0:a.eventRowFactory({position:n,uri:t.uri})}),[a,n,t]),d=(0,_.$P)();return o.createElement(x.r,{key:t.id,to:"/concert/".concat(t.id),className:Q,onClick:function(){m&&d.logInteraction(m.hitUiNavigate({destination:"/concert/".concat(t.id)}))}},o.createElement("time",{className:$,dateTime:t.date.isoString},o.createElement(i.D,{as:"h5",variant:"minuetBold",className:ee},(0,F.jw)(r)),o.createElement(i.D,{as:"h1",variant:"cello",className:te},(0,F.wf)(r))),o.createElement("div",{className:ne},o.createElement(i.D,{as:"div",variant:"violaBold",className:ae,"data-testid":"event-title"},(0,U.Yl)(t)),o.createElement(i.D,{as:"div",variant:"viola",className:oe},(0,F.FO)(r)," • ",(0,F.hK)(r)),o.createElement(i.D,{as:"div",variant:"viola",className:re,"data-testid":"event-venue"},u)))})),ie=o.memo((function(e){var t,n=e.concerts,a=e.onClose,r=e.location,c=e.feedSpec,l=null===(t=n[0])||void 0===t?void 0:t.artists[0],s=(0,o.useMemo)((function(){return null==c?void 0:c.groupedEventModalFactory({uri:(null==l?void 0:l.uri)||""})}),[c,l]),m=(0,_.$P)(),d=(0,_.Wi)(s);if(!l)return null;var v=function(){if(s){var e=s.closeButtonFactory().hitUiHide();m.logInteraction(e)}a()};return o.createElement(H.Z,{contentLabel:u.ag.get("live_events.label"),isOpen:!0,className:X,onRequestClose:v},o.createElement("section",{className:z,ref:d},o.createElement("div",{className:V},o.createElement(le,{"aria-label":u.ag.get("close"),iconOnly:Z.k,buttonSize:"sm",onClick:v})),o.createElement("div",{className:W},o.createElement(B.E,{height:"48",width:"48",className:j,src:l.imageUri}),o.createElement("div",{className:J},o.createElement(i.D,{as:"h3",variant:"cello",className:q,"data-testid":"event-venue"},l.name),o.createElement(i.D,{as:"h3",variant:"mesto","data-testid":"event-venue"},"".concat(u.ag.get("concerts.count_near_location",n.length,r))))),n.map((function(e,t){return o.createElement(ce,{key:e.uri,concert:e,position:t,modalSpec:s})}))))})),le=(0,P.ZP)(w.o).withConfig({displayName:"GroupedConcerts___StyledButtonTertiary",componentId:"sc-1c9dnr3-0"})({color:"#FFFFFF",backgroundColor:"#000000",cursor:"pointer"});const se="wIVpEJ_zYWGyFUrvX08g",ue="hSZRbryPAMeTRaXuUSlM",me="NrsEgNsURvcsSkUnT8yN",de="FvCz9ekOTA5p0kgOhMv0";function ve(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,r=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw r}}}}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var pe=o.memo((function(e){var t,n=e.entity,a=e.position,r=e.shouldCombineRecs,c=e.sectionSpec,i=e.onOpenGroupedConcert,l=null===(t=n.concerts)||void 0===t?void 0:t[0],s=(0,o.useMemo)((function(){var e,t;return c.eventCardFactory({identifier:null!==(e=null==l?void 0:l.id)&&void 0!==e?e:"",position:a,uri:null!==(t=null==l?void 0:l.uri)&&void 0!==t?t:""})}),[c,l,a]),u=(0,_.$P)();return n.concerts.length>1?o.createElement(K,{key:l.uri,entity:l,openingDateIso8601:n.openingDate,closingDateIso8601:n.closingDate,concertsCount:n.concerts.length,onClick:function(){i(n.concerts),u.logInteraction(s.hitUiReveal())}}):o.createElement(I.k,{key:l.uri,entity:l,isVirtual:r?"ONLINE"===l.category:"online"===n.source,shouldCombineRecs:r,onClick:function(){u.logInteraction(s.hitUiNavigate({destination:l.uri}))}})})),fe=o.memo((function(e){var t=e.title,n=e.identifier,a=e.position,r=e.eventEntities,c=e.shouldCombineRecs,i=e.feedSpec,l=e.onOpenGroupedConcert,s=(0,o.useMemo)((function(){return i.eventSectionFactory({identifier:n,position:a})}),[i,n,a]),u=(0,_.Wi)(s);return 0===r.length?null:o.createElement("div",{className:se,ref:u},o.createElement(k.ZP,{value:"headered-grid",index:a},o.createElement(y.P,{total:r.length,title:t,showAll:!0},r.map((function(e,t){return o.createElement(pe,{key:e.concerts[0].id,entity:e,position:t,shouldCombineRecs:c,sectionSpec:s,onOpenGroupedConcert:l})})))))})),Ee=o.memo((function(e){var t=e.eventEntities,n=e.location,a=e.shouldCombineRecs,r=e.spec,c=e.onOpenGroupedConcert;if(!t.length)return o.createElement(g.u,{title:u.ag.get("concerts.error.no_concerts_found_title"),message:u.ag.get("concerts.error.no_concerts_found_message",n),renderInline:!0});var i=function(e){var t,n={online:[],recommended:[],popular:[]},a=ve(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;"recommendation"===o.source?n.recommended.push(o):"popular"===o.source?n.popular.push(o):"online"===o.source&&n.online.push(o)}}catch(e){a.e(e)}finally{a.f()}return n}(t);return o.createElement(o.Fragment,null,o.createElement(fe,{title:u.ag.get("concerts_upcoming_virtual_events"),identifier:"online",position:0,eventEntities:i.online,shouldCombineRecs:a,feedSpec:r,onOpenGroupedConcert:c}),o.createElement(fe,{title:u.ag.get("concerts_recommended_for_you"),identifier:"recommended",position:1,eventEntities:i.recommended,shouldCombineRecs:a,feedSpec:r,onOpenGroupedConcert:c}),o.createElement(fe,{title:u.ag.get("concerts_popular_near_you"),identifier:"popular",position:2,eventEntities:i.popular,shouldCombineRecs:a,feedSpec:r,onOpenGroupedConcert:c}))})),he=c.vI0,ye={url:"https://tickets.spotifycdn.com/partner-assets/Hub%20header%20image/Desktop%20header%20IMG.png",width:2736,height:720},Ce=function(e){var t=e.collection,n=e.concertMetadata,a=e.shouldCombineRecs,r=e.spec,c=e.handleLocationChange,l=e.onOpenGroupedConcert,s=(0,o.useMemo)((function(){return r.headerFactory()}),[r]),m=(null==t?void 0:t.items)||[],v=null==t?void 0:t.isFetching,g=n.userLocation.name||u.ag.get("concerts.default_location");return v?o.createElement(h.h,{hasError:!1,errorMessage:u.ag.get("error.request-browse-concerts-failure")}):o.createElement("div",{className:me},o.createElement(d.I,{backgroundColor:he}),o.createElement("div",{className:de},o.createElement("div",{className:se,"data-testid":"location-selector"},o.createElement(Y.Z,{handleLocationChange:c,locationStr:g,headerSpec:s})),o.createElement(Ee,{eventEntities:m,location:g,shouldCombineRecs:a,spec:r,onOpenGroupedConcert:l}),o.createElement(i.D,{variant:"finale",semanticColor:"textSubdued"},u.ag.get("live_events.disclaimer"))))},be=o.memo((function(){var e=(0,r.I0)(),t=(0,C.o)(),n=(0,l.W6)(N.AW),c=(0,r.v9)(S.Gg).isAnonymous,i=(0,_.fU)(s.createDesktopLiveeventsFeedEventFactory,{}).spec,d=(0,r.v9)((function(e){return e.concerts.collection})),g=(0,r.v9)((function(e){return e.concerts})),h=g.userLocation.name||u.ag.get("concerts.default_location"),y=g.userLocation.geonameId;(0,o.useEffect)((function(){e((0,m.AJ)(null!=y?y:null,c))}),[e,c,y]),(0,b.Y)(he);var k=(0,o.useState)([]),I=(0,a.Z)(k,2),w=I[0],G=I[1];return o.createElement("section",{className:ue},o.createElement(v.$,null,"".concat(u.ag.get("concerts_shows_in")," ").concat(h)),o.createElement(p.gF,{size:p.fR.SMALL,backgroundColor:he,backgroundImages:[ye]},o.createElement(p.sP,null,o.createElement(p.xd,null,u.ag.get("live_events.label"))),o.createElement(f.W,null,o.createElement(E.i,{text:u.ag.get("live_events.label")}))),o.createElement(Ce,{collection:d,concertMetadata:g,shouldCombineRecs:n,spec:i,handleLocationChange:function(n){n&&n.geonameId&&(e((0,m.kz)(n)),e((0,m.AJ)(n.geonameId,c)),t({type:"click",intent:"change-live-events-location"}))},onOpenGroupedConcert:function(e){var n,a;G(e),t({type:"click",intent:"open-grouped-live-event",targetUri:null===(n=e[0])||void 0===n||null===(a=n.artists[0])||void 0===a?void 0:a.uri})}}),o.createElement(ie,{location:h,concerts:w,feedSpec:i,onClose:function(){return G([])}}))}));const Ne=function(e){return o.createElement(o.Suspense,{fallback:null},o.createElement(be,e))}}}]);
//# sourceMappingURL=xpui-routes-collection-concerts.js.map