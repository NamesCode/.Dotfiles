"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[5835],{22578:(e,n,t)=>{t.d(n,{$:()=>v});t(26699),t(32023),t(69600),t(68309),t(21249);var o=t(64593),r=t(96206),i=t(69691),a=t(8341),c=t(89952),s=t(67294),l=t(51615),u=t(24183),d=t(85893);function m(e){return e.includes("Spotify")?e:"Spotify – ".concat(e)}var v=function(e){var n,t,v,h,g,f,p,j=e.children,x=e.usePlayingItem,y=m(j);n=j,h=(0,u.Oh)().mainLandmarkRef,g=(0,l.k6)(),f=null===(t=g.location)||void 0===t||null===(v=t.state)||void 0===v?void 0:v.preventMoveFocus,(p=(0,s.useRef)(g.length<2)).current=g.length<2,(0,s.useEffect)((function(){var e=h.current;!f&&!p.current&&e&&n&&(e.setAttribute("aria-label",n),e.focus())}),[n,h,f]);var b=(0,i.IK)().isPlaying,C=(0,a.Y)((function(e){return null==e?void 0:e.item}));return C&&(b||x)&&((0,c.G_)(C)?y=[C.name,C.artists.map((function(e){return e.name})).join(r.ag.getSeparator())].join(" • "):(0,c.iw)(C)?y=[C.name,C.show.name].join(" • "):(0,c.k6)(C)&&(y=m(r.ag.get("ad-formats.advertisement")))),(0,d.jsx)(o.q,{defaultTitle:"Spotify",defer:!1,children:(0,d.jsx)("title",{children:y})})}},70369:(e,n,t)=>{t.d(n,{$:()=>o.$});var o=t(22578)},59504:(e,n,t)=>{t.d(n,{k:()=>N});t(68309),t(92222);var o=t(67294),r=t(31667),i=t(47778),a=t(32667),c=t(67892),s=t(40169),l=t(43315),u=t(9339),d=t(42095);const m="wedRUk4eiBo9n9vqXLhU",v="HYVIJaYYiCTgSCHie70L",h="InXSbaoh8emJn09fWs3U",g="SPbe_Q1wtiZQCmo0QKUy",f="TRp4tgG7_cymGIXDevIP",p="tC1Y_nwyyly7cpIGqF5K",j="gY_xUHOSpAn6TPdU23t7",x="l93AfoV_qHnMQSQBB5GK",y="MTTf1Lotynwu3QKhr9uY",b="EkGb0ZzhswreSvpZoioY";var C=t(85893),N=o.memo((function(e){var n=e.entity,t=e.isVirtual,o=e.shouldCombineRecs,N=e.onClick,S=n.venue,O=S.name,k=S.location.name,w=n.artists[0],_=(0,u.ij)(n),I=(0,d.CH)(n.date.isoString),G=t?r.F:i.n;return(0,C.jsxs)(c.r,{to:"/concert/".concat(n.id),className:m,onClick:N,children:[w.imageUri?(0,C.jsx)(s.Z,{children:(0,C.jsx)("div",{"data-testid":"image-container",className:b,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(".concat(w.imageUri,")")}})}):null,(0,C.jsx)("time",{className:v,dateTime:n.date.isoString,children:(0,C.jsx)(a.D,{as:"h5",variant:"minuetBold",className:h,children:(0,d.jx)(I)})}),(0,C.jsxs)("div",{className:g,dir:"auto",children:[(0,C.jsxs)(a.D,{as:"h2",className:y,variant:"minuetBold",children:[(0,l.FO)(I)," • ",(0,d.hK)(I)]}),(0,C.jsx)(a.D,{as:"h2",variant:"cello",weight:"bold",className:f,children:_}),(0,C.jsxs)("div",{className:p,children:[o?(0,C.jsx)(G,{className:j,"aria-label":t?"Virtual Event":"In-Person Event",iconSize:16}):null,(0,C.jsx)(a.D,{as:"h2",className:x,variant:"mesto","data-testid":"location-name",children:t?O:"".concat(O,", ").concat(k)})]})]})]})}))},50543:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ke});t(47042),t(41539),t(91038),t(78783),t(74916),t(77601),t(82526),t(41817),t(32165),t(66992),t(33948),t(79753),t(21703),t(96647),t(47941),t(57327),t(38880),t(89554),t(54747),t(49337),t(33321),t(69070);var o=t(4942),r=t(29439),i=(t(21249),t(68309),t(92222),t(67294)),a=t(86706),c=t(73012),s=t(32667),l=t(87577),u=t(67983),d=t(96206),m=t(6581),v=t(95888),h=t(70369),g=t(30731),f=t(60289),p=t(59482),j=t(72907),x=t(6158),y=t(19480),b=t(92823),C=t(37081),N=t(49207),S=t(29255),O=t(42922),k=t(15852),w=t(59504),_=t(86025),I=t(40169),G=t(9339),D=t(42095);const E="F7MwywVorrNKOgt7CEGy",F="r4aK7GGCTY1vrPuSoGy6",U="RX2kdQC6Fgc9h04mEgXx",R="JpGXFGtOfmKH5mKCOMQw",P="pN88b8jrYtBCrYGu35Al",M="amTa2euxioUd0vU2jMf5",T="Ko142eYEnV1xtSP5Vjk3";var A=t(85893),L=i.memo((function(e){var n=e.entity,t=e.onClick,o=e.openingDateIso8601,r=e.closingDateIso8601,i=e.concertsCount,a=(0,D.CH)(o),c=(0,D.CH)(r),l=n.artists[0],u=(0,G.ij)(n);return(0,A.jsxs)(_.o,{onClick:t,className:E,component:"div",children:[l.imageUri?(0,A.jsx)(I.Z,{children:(0,A.jsx)("div",{"data-testid":"image-container",className:T,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(".concat(l.imageUri,")")}})}):null,(0,A.jsx)("time",{className:F,dateTime:n.date.isoString,children:(0,A.jsx)(s.D,{as:"h5",variant:"minuetBold",className:U,children:(0,D.Bc)(a,c)})}),(0,A.jsxs)("div",{className:R,dir:"auto",children:[(0,A.jsx)(s.D,{as:"h2",variant:"cello",weight:"bold",className:P,children:u}),(0,A.jsx)("div",{className:M,children:(0,A.jsx)(s.D,{as:"h2",variant:"mesto","data-testid":"concerts-count",children:d.ag.get("concerts.count",i)})})]})]})})),K=t(51915),Y=t(38205),Z=t(74410),B=t(92877),H=t(84465),X=t(67892);const z="_HSbKteV9dfeHwGxcNg_",V="aWBUVnORYXxsyYkhLwA9",W="my32elFymTSFRhPKDaLo",J="YAGZg56IvTunyhaur40H",q="vmevmDz8WM9VvMmgoaWe",Q="ac36K8GtTBXhfFPRfGTo",$="hz2yJw4parzL0WK0rMng",ee="p_yAxEy29Xzm0fTvIg8T",ne="wC2qUh2SJBX1UEe9aQtV",te="sUzcAnZ86exG3LZrvpf2",oe="Ou1Z3dcAWteEuTiYJlkB",re="EtOrJwt_4yhkrHWbxXy4",ie="M680KWddHfIaTZCTyULM",ae="NjDfI7zPhvTXV8SjKcqq",ce="OEdqJZzUG2K9iXIn9RtC";var se=i.memo((function(e){var n=e.concert,t=e.position,o=e.modalSpec,r=(0,D.CH)(n.date.isoString),a="ONLINE"===n.category,c=n.venue.name,l=n.venue.location.name,u=a?c:"".concat(c,", ").concat(l),d=(0,i.useMemo)((function(){return null==o?void 0:o.eventRowFactory({position:t,uri:n.uri})}),[o,t,n]),m=(0,k.$P)();return(0,A.jsxs)(X.r,{to:"/concert/".concat(n.id),className:ee,onClick:function(){d&&m.logInteraction(d.hitUiNavigate({destination:"/concert/".concat(n.id)}))},children:[(0,A.jsxs)("time",{className:ne,dateTime:n.date.isoString,children:[(0,A.jsx)(s.D,{as:"h5",variant:"minuetBold",className:te,children:(0,D.jw)(r)}),(0,A.jsx)(s.D,{as:"h1",variant:"cello",className:oe,children:(0,D.wf)(r)})]}),(0,A.jsxs)("div",{className:re,children:[(0,A.jsx)(s.D,{as:"div",variant:"violaBold",className:ie,"data-testid":"event-title",children:(0,G.Yl)(n)}),(0,A.jsxs)(s.D,{as:"div",variant:"viola",className:ae,children:[(0,D.FO)(r)," • ",(0,D.hK)(r)]}),(0,A.jsx)(s.D,{as:"div",variant:"viola",className:ce,"data-testid":"event-venue",children:u})]})]},n.id)})),le=i.memo((function(e){var n,t=e.concerts,o=e.onClose,r=e.location,a=e.feedSpec,c=null===(n=t[0])||void 0===n?void 0:n.artists[0],l=(0,i.useMemo)((function(){return null==a?void 0:a.groupedEventModalFactory({uri:(null==c?void 0:c.uri)||""})}),[a,c]),u=(0,k.$P)(),m=(0,k.Wi)(l);if(!c)return null;var v=function(){if(l){var e=l.closeButtonFactory().hitUiHide();u.logInteraction(e)}o()};return(0,A.jsx)(H.Z,{contentLabel:d.ag.get("live_events.label"),isOpen:!0,className:z,onRequestClose:v,children:(0,A.jsxs)("section",{className:V,ref:m,children:[(0,A.jsx)("div",{className:W,children:(0,A.jsx)(ue,{"aria-label":d.ag.get("close"),iconOnly:Z.k,buttonSize:"sm",onClick:v})}),(0,A.jsxs)("div",{className:J,children:[(0,A.jsx)(B.E,{height:"48",width:"48",className:q,src:c.imageUri}),(0,A.jsxs)("div",{className:Q,children:[(0,A.jsx)(s.D,{as:"h3",variant:"cello",className:$,"data-testid":"event-venue",children:c.name}),(0,A.jsx)(s.D,{as:"h3",variant:"mesto","data-testid":"event-venue",children:"".concat(d.ag.get("concerts.count_near_location",t.length,r))})]})]}),t.map((function(e,n){return(0,A.jsx)(se,{concert:e,position:n,modalSpec:l},e.uri)}))]})})})),ue=(0,Y.ZP)(_.o).withConfig({displayName:"GroupedConcerts___StyledButtonTertiary",componentId:"sc-1c9dnr3-0"})({color:"#FFFFFF",backgroundColor:"#000000",cursor:"pointer"});const de="wIVpEJ_zYWGyFUrvX08g",me="hSZRbryPAMeTRaXuUSlM",ve="NrsEgNsURvcsSkUnT8yN",he="FvCz9ekOTA5p0kgOhMv0";function ge(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function fe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ge(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ge(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function pe(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return je(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return je(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(c)throw i}}}}function je(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var xe=(0,i.memo)((function(e){var n,t=e.entity,o=e.position,r=e.shouldCombineRecs,a=e.sectionSpec,c=e.onOpenGroupedConcert,s=null===(n=t.concerts)||void 0===n?void 0:n[0],l=(0,i.useMemo)((function(){var e,n;return a.eventCardFactory({identifier:null!==(e=null==s?void 0:s.id)&&void 0!==e?e:"",position:o,uri:null!==(n=null==s?void 0:s.uri)&&void 0!==n?n:""})}),[a,s,o]),u=(0,k.$P)();return t.concerts.length>1?(0,A.jsx)(L,{entity:s,openingDateIso8601:t.openingDate,closingDateIso8601:t.closingDate,concertsCount:t.concerts.length,onClick:function(){c(t.concerts),u.logInteraction(l.hitUiReveal())}},s.uri):(0,A.jsx)(w.k,{entity:s,isVirtual:r?"ONLINE"===s.category:"online"===t.source,shouldCombineRecs:r,onClick:function(){u.logInteraction(l.hitUiNavigate({destination:s.uri}))}},s.uri)})),ye=(0,i.memo)((function(e){var n=e.title,t=e.identifier,o=e.position,r=e.eventEntities,a=e.shouldCombineRecs,c=e.feedSpec,s=e.onOpenGroupedConcert,l=(0,i.useMemo)((function(){return c.eventSectionFactory({identifier:t,position:o})}),[c,t,o]),u=(0,k.Wi)(l);return 0===r.length?null:(0,A.jsx)("div",{className:de,ref:u,children:(0,A.jsx)(O.ZP,{value:"headered-grid",index:o,children:(0,A.jsx)(y.P,{total:r.length,title:n,showAll:!0,children:r.map((function(e,n){return(0,A.jsx)(xe,{entity:e,position:n,shouldCombineRecs:a,sectionSpec:l,onOpenGroupedConcert:s},e.concerts[0].id)}))})})})})),be=(0,i.memo)((function(e){var n=e.eventEntities,t=e.location,o=e.shouldCombineRecs,r=e.spec,i=e.onOpenGroupedConcert;if(!n.length)return(0,A.jsx)(g.u,{title:d.ag.get("concerts.error.no_concerts_found_title"),message:d.ag.get("concerts.error.no_concerts_found_message",t),renderInline:!0});var a=function(e){var n,t={online:[],recommended:[],popular:[]},o=pe(e);try{for(o.s();!(n=o.n()).done;){var r=n.value;"recommendation"===r.source?t.recommended.push(r):"popular"===r.source?t.popular.push(r):"online"===r.source&&t.online.push(r)}}catch(e){o.e(e)}finally{o.f()}return t}(n);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(ye,{title:d.ag.get("concerts_upcoming_virtual_events"),identifier:"online",position:0,eventEntities:a.online,shouldCombineRecs:o,feedSpec:r,onOpenGroupedConcert:i}),(0,A.jsx)(ye,{title:d.ag.get("concerts_recommended_for_you"),identifier:"recommended",position:1,eventEntities:a.recommended,shouldCombineRecs:o,feedSpec:r,onOpenGroupedConcert:i}),(0,A.jsx)(ye,{title:d.ag.get("concerts_popular_near_you"),identifier:"popular",position:2,eventEntities:a.popular,shouldCombineRecs:o,feedSpec:r,onOpenGroupedConcert:i})]})})),Ce=c.vI0,Ne={url:"https://tickets.spotifycdn.com/partner-assets/Hub%20header%20image/Desktop%20header%20IMG.png",width:2736,height:720},Se=function(e){var n=e.collection,t=e.concertMetadata,o=e.shouldCombineRecs,r=e.spec,a=e.handleLocationChange,c=e.onOpenGroupedConcert,l=(0,i.useMemo)((function(){return r.headerFactory()}),[r]),u=(null==n?void 0:n.items)||[],m=null==n?void 0:n.isFetching,h=t.userLocation.name||d.ag.get("concerts.default_location");return m?(0,A.jsx)(x.h,{hasError:!1,errorMessage:d.ag.get("error.request-browse-concerts-failure")}):(0,A.jsxs)("div",{className:ve,children:[(0,A.jsx)(v.I,{backgroundColor:Ce}),(0,A.jsxs)("div",{className:he,children:[(0,A.jsx)("div",{className:de,"data-testid":"location-selector",children:(0,A.jsx)(K.Z,{handleLocationChange:a,locationStr:h,headerSpec:l})}),(0,A.jsx)(be,{eventEntities:u,location:h,shouldCombineRecs:o,spec:r,onOpenGroupedConcert:c}),(0,A.jsx)(s.D,{variant:"finale",semanticColor:"textSubdued",children:d.ag.get("live_events.disclaimer")})]})]})},Oe=(0,i.memo)((function(){var e=(0,a.I0)(),n=(0,b.o)(),t=(0,l.W6)(N.AW),o=(0,a.v9)(S.Gg).isAnonymous,c=(0,k.fU)(u.createDesktopLiveeventsFeedEventFactory,{}).spec,s=(0,a.v9)((function(e){return e.concerts.collection})),v=(0,a.v9)((function(e){return e.concerts})),g=v.userLocation.name||d.ag.get("concerts.default_location"),x=v.userLocation.geonameId;(0,i.useEffect)((function(){e((0,m.AJ)(null!=x?x:null,o))}),[e,o,x]),(0,C.Y)(Ce);var y=(0,i.useState)([]),O=(0,r.Z)(y,2),w=O[0],_=O[1];return(0,A.jsxs)("section",{className:me,children:[(0,A.jsx)(h.$,{children:"".concat(d.ag.get("concerts_shows_in")," ").concat(g)}),(0,A.jsxs)(f.gF,{size:f.fR.SMALL,backgroundColor:Ce,backgroundImages:[Ne],children:[(0,A.jsx)(f.sP,{children:(0,A.jsx)(f.xd,{children:d.ag.get("live_events.label")})}),(0,A.jsx)(p.W,{children:(0,A.jsx)(j.i,{text:d.ag.get("live_events.label")})})]}),(0,A.jsx)(Se,{collection:s,concertMetadata:v,shouldCombineRecs:t,spec:c,handleLocationChange:function(t){t&&t.geonameId&&(e((0,m.kz)(t)),e((0,m.AJ)(t.geonameId,o)),n({type:"click",intent:"change-live-events-location"}))},onOpenGroupedConcert:function(e){var t,o;_(e),n({type:"click",intent:"open-grouped-live-event",targetUri:null===(t=e[0])||void 0===t||null===(o=t.artists[0])||void 0===o?void 0:o.uri})}}),(0,A.jsx)(le,{location:g,concerts:w,feedSpec:c,onClose:function(){return _([])}})]})}));const ke=function(e){return(0,A.jsx)(i.Suspense,{fallback:null,children:(0,A.jsx)(Oe,fe({},e))})}}}]);
//# sourceMappingURL=xpui-routes-collection-concerts.js.map