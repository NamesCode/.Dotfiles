"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2499],{70369:(e,t,r)=>{r.d(t,{$:()=>n.$});var n=r(22578)},20701:(e,t,r)=>{r.d(t,{T:()=>m});var n=r(29439),i=(r(68309),r(57784)),a=r(37925),o=r(25678),l=r(60289),s=r(23401);const u="profile-editImage-imageContainer",c="profile-editImage-editImageButtonContainer";var d=r(85893),m=function(e){var t=e.onClick,r=e.name,m=e.images,g=e.canEdit,f=e.placeholderType,p=e.shape,v=void 0===p?l.Kc.SQUARE:p,h=e.dragUri,x=void 0===h?"":h,y=(0,a.RH)(m),b=(0,n.Z)(y,2),j=b[0],I=b[1],k=(0,o.VO)(j,I)===o.KO.loaded,w=(0,i.O1)([x],r);return(0,d.jsxs)("div",{className:u,"data-testid":"".concat(f,"-image"),draggable:!!x,onDragStart:w,children:[(0,d.jsx)(l.Oe,{loading:"eager",name:r,images:m,placeholderType:f,shape:v}),g&&(0,d.jsx)("div",{className:c,children:(0,d.jsx)(s.F,{overlay:k,onClick:t,rounded:v===l.Kc.CIRCLE})})]})}},1850:(e,t,r)=>{r.d(t,{e:()=>m});var n=r(4942),i=r(67294),a=r(94184),o=r.n(a),l=r(96206);const s="idI9vydtCzXVhU1BaKLw",u="fEbcweEiUPPy2eaIaD3F",c="Qq16641w1flRfBavPaAn";var d=r(85893),m=(0,i.memo)((function(e){var t,r=e.isFollowing,i=e.onClick,a=e.disabled,m=void 0!==a&&a,g=e.buttonText,f=r?l.ag.get("following"):l.ag.get("follow");return(0,d.jsx)("button",{type:"button",className:o()(s,(t={},(0,n.Z)(t,u,r),(0,n.Z)(t,c,m),t)),onClick:i,children:g||f})}))},68513:(e,t,r)=>{r.d(t,{S:()=>d});r(92222);var n=r(94184),i=r.n(n),a=r(31397),o=r(32667);const l="CmR9tHJ5ta6oWJlKBm3k",s="artist-artistVerifiedBadge-badge",u="bn2UNQDs5GLY5rjp5Ljh";var c=r(85893),d=function(e){var t=e.text,r=e.iconSize,n=void 0===r?24:r,d=e.className;return(0,c.jsxs)("span",{className:i()(l,d),children:[(0,c.jsx)("div",{className:"".concat(s," ").concat(u)}),(0,c.jsx)(a.T,{semanticColor:"textAnnouncement",className:s,iconSize:n}),t?(0,c.jsx)(o.D,{variant:"mesto",children:t}):null]})}},35761:(e,t,r)=>{r.d(t,{I:()=>a});var n=r(67294),i=r(67448);function a(e,t){var r=(0,i.z)();(0,n.useEffect)((function(){var n=r.getEvents(),i=function(e){return t(e)};return n.addListener(e,i),function(){n.removeListener(e,i)}}),[e,r,t])}},39279:(e,t,r)=>{r.r(t),r.d(t,{default:()=>xr});var n=r(67294),i=r(51615),a=r(69518),o=r.n(a),l=r(73305),s=r(26700),u=r(15861),c=r(29439),d=(r(21249),r(68309),r(82526),r(41817),r(87757)),m=r.n(d),g=r(70369),f=r(87972),p=r(40254),v=r(27999),h=r(46877),x=r(61864),y=r(19480),b=r(85893),j={totalCount:0,nextOffset:0,items:[]};var I=function(e){var t,r=e.uri,i=(0,f.J)(p.n5.getProfile,[{uri:r,playlists:0,artists:0,episodes:0}]).data,a=function(e){var t=(0,v.zZ)(),r=(0,n.useState)(j),i=(0,c.Z)(r,2),a=i[0],o=i[1],l=(0,n.useCallback)((0,u.Z)(m().mark((function r(){var n;return m().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,t.getContents(e,{offset:0,limit:50});case 4:n=r.sent,o(n);case 6:case"end":return r.stop()}}),r)}))),[e,t]);return(0,n.useEffect)((function(){l()}),[l]),a}(null==i||null===(t=i.user_created_show)||void 0===t?void 0:t.uri);return(0,b.jsx)(y.P,{className:"contentSpacing",total:a.items.length,title:h.ag.get("episodes"),showAll:!0,children:a.items.map((function(e,t){var r;return(0,b.jsx)(x.B,{index:t,uri:e.uri,name:e.name,images:e.coverArt,showImages:[],durationMilliseconds:e.duration.milliseconds,releaseDate:null===(r=e.releaseDate)||void 0===r?void 0:r.isoString,resume_point:null,description:e.description,isExplicit:!1,is19PlusOnly:!1,sharingInfo:e.sharingInfo},e.uri)}))})},k=function(e){var t=e.uri;return(0,b.jsxs)("section",{children:[(0,b.jsx)(g.$,{children:"Podcasts from the user"}),(0,b.jsx)(I,{uri:t})]})},w=r(94184),_=r.n(w),O=r(96206),P=r(30523),N=r(6158);const U="umiKMm5NVr5UeBJCHS6U",C="jzhwZKbfx4vrC_MYd_7c",E="MWWPQQjbjRfoGdPD8D68",R="rMpf7sfaPDcj387_52fA",D="kWCnF32FrVtGHmTy8QeV",S="uJxNEI2k7x8UCDdMKELt",A="wDIZ2yYKjfGI68I4cZ98";var T=function(e){var t=e.uri,r=(0,f.J)(p.n5.getFollowers,[t]),n=r.data,i=r.loading,a=r.error,o=null==n?void 0:n.profiles;return i?(0,b.jsx)(N.h,{hasError:null!==a,errorMessage:O.ag.get("error.not_found.title.page")}):(0,b.jsx)(y.P,{className:_()("contentSpacing",E),title:O.ag.get("followers"),total:null==o?void 0:o.length,showAll:!0,children:null==o?void 0:o.map((function(e,t){return(0,b.jsx)(P.P,{index:t,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)}))})},M=function(e){var t=e.uri,r=(0,f.J)(p.n5.getFollowing,[t]),n=r.data,i=r.loading,a=r.error,o=null==n?void 0:n.profiles;return i?(0,b.jsx)(N.h,{hasError:null!==a,errorMessage:O.ag.get("error.not_found.title.page")}):(0,b.jsx)(y.P,{className:_()("contentSpacing",E),title:O.ag.get("following"),total:null==o?void 0:o.length,showAll:!0,children:null==o?void 0:o.map((function(e,t){return(0,b.jsx)(P.P,{index:t,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)}))})},L=(r(41539),r(88674),r(69826),r(74916),r(15306),r(91058),r(28733),r(86706)),F=r(87577),W=r(45546),H=r(60210),Z=r(48690),B=r(89477),K=r(46309),J=r(43480),z=r(20701),G=r(60289),V=r(98778),Q=r(59482),X=r(72907),q=r(1850),Y=(r(73210),r(32667)),$=r(74410),ee=r(6060),te=r(34011),re=r(84465),ne=r(93659),ie=r(64578),ae=r(4942),oe=r(18525),le=r(37925),se=r(25678);const ue="F8_EX1AeKxXNSeh1qiHq",ce="valcBm4lLe9qFBcg0sFY",de="tAIzXn8C9KriGwGuBfWg",me="PsrXxenHUFXYM1ub1xWw",ge="U_VWfeeLWnDPhUTxCmrQ";var fe=function(e){var t=e.onClickEdit,r=e.onClickRemove,n=e.name,i=e.images,a=(0,le.RH)(i),o=(0,c.Z)(a,2),l=o[0],s=o[1],u=(0,se.VO)(l,s)===se.KO.loaded;return(0,b.jsxs)("div",{className:ue,children:[(0,b.jsx)(G.Oe,{loading:"eager",name:n,images:i,placeholderType:"user",shape:G.Kc.CIRCLE}),(0,b.jsxs)("div",{className:_()(ce,(0,ae.Z)({},me,u)),children:[(0,b.jsx)("button",{className:de,"aria-haspopup":"true",onClick:t,type:"button",children:(0,b.jsx)(Y.D,{variant:"ballad",children:O.ag.get("user.edit-details.choose-photo")})}),(0,b.jsx)("div",{className:_()(ge,"icon"),children:(0,b.jsx)(oe.y,{iconSize:48,"aria-hidden":!0})}),(0,b.jsx)("button",{className:de,onClick:r,type:"button",children:(0,b.jsx)(Y.D,{variant:"ballad",children:O.ag.get("user.edit-details.remove-photo")})})]})]})},pe=(r(21703),r(96647),r(92222),r(16516)),ve=r(15429),he=(r(66992),r(39575),r(82472),r(48675),r(92990),r(18927),r(33105),r(35035),r(74345),r(7174),r(32846),r(44731),r(77209),r(96319),r(58867),r(37789),r(33739),r(29368),r(14483),r(12056),r(3462),r(30678),r(27462),r(33824),r(55021),r(12974),r(15016),r(37380),r(1118),r(9653),r(5735),r(83753),r(47941),r(57327),r(38880),r(89554),r(54747),r(49337),r(33321),r(69070),r(47042),r(91038),r(78783),r(77601),r(32165),r(33948),r(79753),r(62100));function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){(0,ae.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function be(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return je(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw a}}}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ie={paths:""},ke=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he.Writer.create(),n=be(e.paths);try{for(n.s();!(t=n.n()).done;){var i=t.value;r.uint32(10).string(i)}}catch(e){n.e(e)}finally{n.f()}return r},we=function(e){var t=ye({},Ie);if(t.paths=[],void 0!==e.paths&&null!==e.paths){var r,n=be(e.paths);try{for(n.s();!(r=n.n()).done;){var i=r.value;t.paths.push(i)}}catch(e){n.e(e)}finally{n.f()}}return t},_e=(r(83710),r(39714),r(35837),r(75505),r(87714),r(82801),r(1174),r(27479),r(69600),r(43720)),Oe=r(48764).lW;var Pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he.Writer.create();return t.uint32(8).int32(e.value),t},Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he.Writer.create();return t.uint32(8).bool(e.value),t},Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he.Writer.create();return t.uint32(10).string(e.value),t};he.util.Long!==_e&&(he.util.Long=_e,(0,he.configure)());var Ce=globalThis;Ce.atob,Ce.btoa;function Ee(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Re(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw a}}}}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach((function(t){(0,ae.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ae={maxWidth:0,maxHeight:0,url:""},Te={},Me={},Le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he.Writer.create();return t.uint32(8).int32(e.maxWidth),t.uint32(16).int32(e.maxHeight),t.uint32(26).string(e.url),t},Fe=function(e){var t=Se({},Ae);return void 0!==e.maxWidth&&null!==e.maxWidth?t.maxWidth=e.maxWidth:t.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?t.maxHeight=e.maxHeight:t.maxHeight=0,void 0!==e.url&&null!==e.url?t.url=e.url:t.url="",t},We=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he.Writer.create();void 0!==e.username&&void 0!==e.username&&Ue({value:e.username},t.uint32(10).fork()).ldelim(),void 0!==e.name&&void 0!==e.name&&Ue({value:e.name},t.uint32(18).fork()).ldelim();var r,n=Ee(e.images);try{for(n.s();!(r=n.n()).done;){var i=r.value;Le(i,t.uint32(26).fork()).ldelim()}}catch(e){n.e(e)}finally{n.f()}return void 0!==e.verified&&void 0!==e.verified&&Ne({value:e.verified},t.uint32(34).fork()).ldelim(),void 0!==e.editProfileDisabled&&void 0!==e.editProfileDisabled&&Ne({value:e.editProfileDisabled},t.uint32(42).fork()).ldelim(),void 0!==e.reportAbuseDisabled&&void 0!==e.reportAbuseDisabled&&Ne({value:e.reportAbuseDisabled},t.uint32(50).fork()).ldelim(),void 0!==e.abuseReportedName&&void 0!==e.abuseReportedName&&Ne({value:e.abuseReportedName},t.uint32(58).fork()).ldelim(),void 0!==e.abuseReportedImage&&void 0!==e.abuseReportedImage&&Ne({value:e.abuseReportedImage},t.uint32(66).fork()).ldelim(),void 0!==e.hasSpotifyName&&void 0!==e.hasSpotifyName&&Ne({value:e.hasSpotifyName},t.uint32(74).fork()).ldelim(),void 0!==e.hasSpotifyImage&&void 0!==e.hasSpotifyImage&&Ne({value:e.hasSpotifyImage},t.uint32(82).fork()).ldelim(),void 0!==e.color&&void 0!==e.color&&Pe({value:e.color},t.uint32(90).fork()).ldelim(),t},He=function(e){var t=Se({},Te);if(t.images=[],void 0!==e.username&&null!==e.username?t.username=e.username:t.username=void 0,void 0!==e.name&&null!==e.name?t.name=e.name:t.name=void 0,void 0!==e.images&&null!==e.images){var r,n=Ee(e.images);try{for(n.s();!(r=n.n()).done;){var i=r.value;t.images.push(Fe(i))}}catch(e){n.e(e)}finally{n.f()}}return void 0!==e.verified&&null!==e.verified?t.verified=e.verified:t.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?t.editProfileDisabled=e.editProfileDisabled:t.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?t.reportAbuseDisabled=e.reportAbuseDisabled:t.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?t.abuseReportedName=e.abuseReportedName:t.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?t.abuseReportedImage=e.abuseReportedImage:t.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?t.hasSpotifyName=e.hasSpotifyName:t.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?t.hasSpotifyImage=e.hasSpotifyImage:t.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?t.color=e.color:t.color=void 0,t},Ze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he.Writer.create();return void 0!==e.mask&&void 0!==e.mask&&ke(e.mask,t.uint32(10).fork()).ldelim(),void 0!==e.userProfile&&void 0!==e.userProfile&&We(e.userProfile,t.uint32(18).fork()).ldelim(),t},Be=function(e){var t=Se({},Me);return void 0!==e.mask&&null!==e.mask?t.mask=we(e.mask):t.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?t.userProfile=He(e.userProfile):t.userProfile=void 0,t},Ke="".concat(pe.XA,"/identity");function Je(e,t,r){return ze.apply(this,arguments)}function ze(){return(ze=(0,u.Z)(m().mark((function e(t,r,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withHost(Ke).withMethod("POST").withPath("/v3/profile-image/".concat(encodeURIComponent((0,ve.C)(r)),"/").concat(n)).withEndpointIdentifier("/v3/profile-image/{username}/{uploadToken}").withoutMarket().send();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,u.Z)(m().mark((function e(t,r){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withHost(Ke).withMethod("DELETE").withPath("/v3/profile-image/".concat(encodeURIComponent((0,ve.C)(r)))).withEndpointIdentifier("/v3/profile-image/{username}").withoutMarket().send();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e,t,r){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,u.Z)(m().mark((function e(t,r,n){var i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ze(Be({mask:{paths:["name"]},userProfile:null!==n?{name:n}:{}})),e.next=3,t.build().withHost(Ke).withMethod("POST").withPath("/v3/user/username/".concat(encodeURIComponent((0,ve.C)(r)))).withEndpointIdentifier("/v3/user/username/{username}").withBody(i.finish()).withoutMarket().send();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e,t,r){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,u.Z)(m().mark((function e(t,r,n){var i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.name,a=n.imageUploadToken,void 0===i){e.next=4;break}return e.next=4,Qe(t,r,i);case 4:if(void 0===a){e.next=12;break}if(null===a){e.next=10;break}return e.next=8,Je(t,r,a);case 8:e.next=12;break;case 10:return e.next=12,Ge(t,r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $e=r(87961),et="https://image-upload.spotify.com/v4";function tt(e,t){return rt.apply(this,arguments)}function rt(){return(rt=(0,u.Z)(m().mark((function e(t,r){var n,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.name,i=r.imageUploadToken,e.next=3,qe($e.b.getInstance(),t,{name:n,imageUploadToken:i});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e){return it.apply(this,arguments)}function it(){return(it=(0,u.Z)(m().mark((function e(t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e.b.getInstance().build().withEndpointIdentifier("image-upload/v4/user-profile").withHost(et).withMethod("POST").withPath("/user-profile").withBody(t).withoutGlobalHeaders().withHeaders([{key:"Content-Type",value:"image/jpeg"}]).withoutMarket().send();case 2:if((r=e.sent).body){e.next=5;break}throw new Error("No upload token recieved");case 5:return e.abrupt("return",r.body.uploadToken);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var at={type:"error",get message(){return O.ag.get("user.edit-details.error.file-size-exceeded",10)}},ot={type:"error",get message(){return O.ag.get("user.edit-details.error.too-small",300,300)}},lt={type:"error",get message(){return O.ag.get("user.edit-details.error.missing-name")}},st={type:"error",get message(){return O.ag.get("user.edit-details.error.failed-to-save")}},ut={type:"error",get message(){return O.ag.get("user.edit-details.error.file-upload-failed")}};function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){(0,ae.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mt(e){return{type:"setLoading",loading:e}}function gt(e){return{type:"setMessage",message:e}}function ft(e){return{type:"setImageData",data:e}}function pt(e){return{type:"setImageToken",token:e}}function vt(e,t){switch(t.type){case"setName":return dt(dt({},e),{},{name:t.name});case"setMessage":return dt(dt({},e),{},{message:t.message,loading:!1});case"setLoading":return dt(dt({},e),{},{loading:t.loading,message:null});case"setImageData":return dt(dt({},e),{},{imageData:t.data,removeImage:!1});case"setImageToken":return dt(dt({},e),{},{imageToken:t.token,removeImage:!1});case"removeImage":return dt(dt({},e),{},{imageToken:void 0,imageData:void 0,image:void 0,removeImage:!0});default:return e}}const ht="XwNfIrI6_hCa_9_T2cQB",xt="so0bdX3oZH6YW5_nGxIR",yt="aM3plU4zzDqjWlvUHGYb",bt="zHeo4VUxytwm6Ptr0QyA",jt="vAeyAmeLkDEDKdL9Hou0",It="dnmzO6yYKkxUV8jl7O1Z",kt="oN9QVvJKEtdTH3HGfCu1",wt="uj7hczcCH1dZpse8Kfmi",_t="wvLAEV5wF5C5ej6rvimT",Ot="gAQfzAUp1FuSXODeZJfP",Pt="dMhJaxli87_22jb_3d9x",Nt="MDb7QhAtHeyM4gKj8j8t",Ut="zGbjZMZ1DTx4futEbN9l";var Ct=n.memo((function(e){var t=e.uri,r=e.name,i=e.image,a=e.onClose,o=e.shouldOpenImagePicker,l=(0,ne.Hs)(),s=(0,c.Z)(l,2),d=s[0],g=s[1],f=function(e){var t=e.name,r=e.image;return(0,n.useReducer)(vt,{loading:!1,message:null,name:t,image:r})}({name:r,image:i}),p=(0,c.Z)(f,2),v=p[0],h=p[1],x=(0,n.useMemo)((function(){var e=v.imageData||v.image;return e?[{url:e,width:300,height:300}]:[]}),[v.image,v.imageData]);function y(){return(y=(0,u.Z)(m().mark((function e(t){var r,n,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(r=t.imageFile,n=t.imageDataUrl,h(gt(null)),h(ft(n)),!r){e.next=18;break}return e.prev=6,h(mt(!0)),e.next=10,nt(r);case 10:i=e.sent,h(pt(i)),h(mt(!1)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),h(gt(ut));case 18:case"end":return e.stop()}}),e,null,[[6,15]])})))).apply(this,arguments)}(0,n.useEffect)((function(){o&&g()}),[g,o]);var j=(0,n.useCallback)((function(e){e===ne.Hy.FILE_TOO_BIG?h(gt(at)):e===ne.Hy.IMAGE_TOO_SMALL&&h(gt(ot))}),[h]),I=(0,n.useCallback)((function(){h({type:"removeImage"})}),[h]),k=(0,n.useCallback)(function(){var e=(0,u.Z)(m().mark((function e(r){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),0!==v.name.trim().length){e.next=5;break}return h(gt(lt)),e.abrupt("return");case 5:return h(mt(!0)),e.prev=6,n=v.removeImage?null:v.imageToken,e.next=10,tt(t,{name:v.name,imageUploadToken:n});case 10:a({name:v.name,image:v.imageData||v.image}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),h(gt(st));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),[h,a,v.image,v.imageData,v.imageToken,v.name,v.removeImage,t]);return(0,b.jsx)(re.Z,{isOpen:!0,contentLabel:O.ag.get("user.edit-details.title"),onRequestClose:function(){return a()},children:(0,b.jsxs)("div",{className:ht,children:[(0,b.jsxs)("div",{className:yt,children:[(0,b.jsx)(Y.D,{as:"h1",variant:"canon",children:O.ag.get("user.edit-details.title")}),(0,b.jsx)("button",{className:bt,onClick:function(){return a()},"aria-label":O.ag.get("close"),children:(0,b.jsx)($.k,{iconSize:16})})]}),v.message&&(0,b.jsx)(ie.X,{isErrorMessage:"error"===v.message.type,message:v.message.message}),(0,b.jsxs)("form",{className:xt,onSubmit:k,children:[(0,b.jsx)(ne.uL,{isOpen:d,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:function(e){return y.apply(this,arguments)},onError:j}),(0,b.jsxs)("div",{className:jt,children:[(0,b.jsx)(fe,{name:r,images:x,onClickEdit:g,onClickRemove:I}),v.loading&&(0,b.jsx)("div",{className:It,children:(0,b.jsx)(ee.T,{})})]}),(0,b.jsxs)("div",{className:wt,children:[(0,b.jsx)("label",{htmlFor:"user-edit-name",className:_t,children:(0,b.jsx)(Y.D,{variant:"finaleBold",className:Ot,children:O.ag.get("user.edit-details.name-label")})}),(0,b.jsx)("input",{"data-testid":"user-edit-name-input",id:"user-edit-name",type:"text",dir:"auto",className:_()(kt,Pt),onChange:function(e){h(function(e){return{type:"setName",name:e}}(e.target.value))},placeholder:O.ag.get("user.edit-details.name-placeholder"),maxLength:32,value:v.name})]}),(0,b.jsx)("div",{className:Nt,children:(0,b.jsx)(te.D,{colorSet:"invertedLight",onClick:k,disabled:v.loading,children:O.ag.get("save")})}),(0,b.jsx)(Y.D,{as:"p",variant:"finaleBold",className:Ut,children:O.ag.get("image-upload.legal-disclaimer")})]})]})})})),Et=(r(32564),r(13218)),Rt=r(7658),Dt=r(57389),St=r(81612),At=r(35761),Tt=r(70842),Mt=r(99125),Lt=function(e){var t=e.className,r=e.isCurrentUser,i=e.userId,a=e.username,l=e.userDisplayName,s=(0,St.w)(r,a),c=s.projects,d=s.fetchProjects,g=null==c?void 0:c.filter((function(e){return!(0,Dt.o)(e)})),f=null==c?void 0:c.filter((function(e){return(0,Dt.o)(e)&&!e.isPrivate})),p=null==c?void 0:c.filter((function(e){return(0,Dt.o)(e)&&e.isPrivate}));return(0,n.useEffect)((function(){var e=setInterval((function(){var e=null==c?void 0:c.filter((function(e){return e.publishingState===Tt.H.IN_PROGRESS}));e&&e.length>0&&d()}),3e4);return function(){return clearInterval(e)}}),[d,c]),(0,At.I)(Mt.O.USER_PROJECTS_UPDATED,(0,u.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d());case 1:case"end":return e.stop()}}),e)})))),c?(0,b.jsxs)(b.Fragment,{children:[g.length>0&&(0,b.jsxs)("section",{className:t,children:[(0,b.jsx)(Et.r,{title:O.ag.get("web-player.soundtrap.unpublished-projects.title"),tagline:O.ag.get("web-player.soundtrap.unpublished-projects.tagline"),seeAllUri:o().profileURI(i,["soundtrap","unpublished"]).toURI(),hasMoreElements:g.length>4}),(0,b.jsx)(Rt.M,{data:g,userDisplayName:l,isCurrentUser:r,maxNumberOfTracks:4})]}),p.length>0&&(0,b.jsxs)("section",{className:t,children:[(0,b.jsx)(Et.r,{title:O.ag.get("web-player.soundtrap.private-songs.title"),tagline:O.ag.get("web-player.soundtrap.private-songs.tagline"),seeAllUri:o().profileURI(i,["soundtrap","private"]).toURI(),hasMoreElements:p.length>4}),(0,b.jsx)(Rt.M,{data:p,userDisplayName:l,isCurrentUser:r,maxNumberOfTracks:4})]}),f.length>0&&(0,b.jsxs)("section",{className:t,children:[(0,b.jsx)(Et.r,{title:O.ag.get("web-player.soundtrap.public-songs.title"),tagline:r?O.ag.get("web-player.soundtrap.public-songs.tagline"):null,seeAllUri:o().profileURI(i,["soundtrap","public"]).toURI(),hasMoreElements:f.length>4}),(0,b.jsx)(Rt.M,{data:f,userDisplayName:l,isCurrentUser:r,maxNumberOfTracks:4})]})]}):null},Ft=r(7212),Wt=r(92823),Ht=r(4236),Zt=r(62515),Bt=r(75915),Kt=r(94321),Jt=r(29255),zt=r(52983),Gt=r(20246),Vt=r(18261),Qt=r(15852),Xt=r(49961),qt=r(84506),Yt=(r(23157),r(23123),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.imageUriOrUrl,r=void 0===t?"":t,n=e.desiredMosaicSize,i=void 0===n?300:n;if(!r)return"";if(r.startsWith("spotify:")){var a=r.split(":"),o=(0,qt.Z)(a),l=o[1],s=o.slice(2);if("image"===l)return"https://i.scdn.co/image/".concat(s[0]);if("mosaic"===l)return"https://mosaic.scdn.co/".concat(i,"/").concat(s.join(""))}return r}),$t=r(68513),er=r(18686),tr=r(49207),rr=r(28248),nr=r(61913),ir=r(47991),ar=r(42922),or=r(84242),lr=r(42781),sr=n.memo((function(e){var t=e.tracks,r=e.hasHeaderRow,i=void 0!==r&&r,a=e.nrTracksVisible,l=e.uri,s=(0,ve.C)(l),u=o().userToplistURI(s,"tracks").toURI(),c=(0,n.useMemo)((function(){return a?t.slice(0,a):t}),[a,t]),d=(0,or.n)({uri:u,pages:[{items:t.map((function(e){return{type:lr.p.TRACK,uri:e.uri,uid:null,provider:null}}))}]},{featureIdentifier:"profile",referrerIdentifier:"user_profile"}).usePlayContextItem,m=(0,n.useCallback)((function(e,t){var r,n=(0,Xt.X)(null==e||null===(r=e.album)||void 0===r?void 0:r.images,{desiredSize:40});return(0,b.jsx)(nr.SS,{index:t,uri:(0,ir.$)(e),duration_ms:e.duration_ms,name:e.name,artists:e.artists,album:e.album,isPlayable:!0,isExplicit:!!e.explicit,isMOGEFRestricted:!!e.mogef19,imgUrl:(null==n?void 0:n.url)||"",contextUri:u,usePlayContextItem:d},t+e.uri)}),[u,d]),g=(0,n.useMemo)((function(){return[rr.QD.INDEX,rr.QD.TITLE,rr.QD.ALBUM,rr.QD.DURATION]}),[]),f=(0,n.useCallback)((function(e){return e.uri}),[]);return(0,b.jsx)(ar.ZP,{value:"user-top-tracks-tracklist",children:(0,b.jsx)(rr.Pv,{ariaLabel:O.ag.get("top_tracks_this_month"),renderRow:m,nrTracks:c.length,tracks:c,resolveUri:f,hasHeaderRow:i,columns:g})})}),(function(e,t){return e.tracks===t.tracks})),ur=n.memo((function(e){var t=e.tracks,r=e.title,i=e.tagline,a=e.seeAllUri,o=e.className,l=e.uri,s=e.spec,u=(0,Qt.$P)(),c=(0,n.useCallback)((function(){var e=s.titleLinkFactory().hitUiNavigate({destination:a});u.logInteraction(e)}),[u,a,s]),d=(0,n.useCallback)((function(){var e=s.titleLinkFactory().hitUiNavigate({destination:a});u.logInteraction(e)}),[u,a,s]);if(!t||0===t.length)return null;var m=t.length>4;return(0,b.jsxs)("section",{className:o,children:[(0,b.jsx)(Et.r,{title:r,tagline:i,seeAllUri:a,hasMoreElements:m,onClickTitle:c,onClickSeeAll:d}),(0,b.jsx)(Qt.Nh,{spec:s,children:(0,b.jsx)(sr,{tracks:t,uri:l,nrTracksVisible:4})})]})}),(function(e,t){return e.tracks===t.tracks}));function cr(e,t){switch(t.type){case"OPEN_MODAL":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!1};case"OPEN_MODAL_WITH_IMAGEPICKER":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!0};case"OPEN_SOUNDTRAP_MODAL":return{isModalOpen:!0,modalVariant:"soundtrap",shouldOpenImagePicker:!1};case"CLOSE_MODAL":return{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1};default:return e}}var dr=function(e){var t,r,a,l=e.uri,s=(0,L.v9)(Jt.Gf),u=(0,L.v9)(Jt.A$),d=(0,L.I0)(),m=(0,F.W6)(tr.Nf,{loadingValue:!1}),v=(0,Bt.H)(l),h=(0,c.Z)(v,2),y=h[0],j=h[1],I=(0,n.useMemo)((function(){return(0,Xt.X)(u)}),[u]),k=(r=(0,n.useReducer)(cr,{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1}),[(a=(0,c.Z)(r,2))[0],a[1]]),w=(0,c.Z)(k,2),E=w[0],D=E.isModalOpen,S=E.modalVariant,A=E.shouldOpenImagePicker,T=w[1],M=(0,Wt.o)(),Y=!(0,Ht.k)(),$=(0,f.J)(p.n5.getProfile,[{uri:l,playlists:10,artists:10,episodes:10}]),ee=$.data,te=$.loading,re=null==ee?void 0:ee.public_playlists,ne=null==ee?void 0:ee.is_verified,ie=(null==ee?void 0:ee.is_current_user)||!1,ae=null==ee?void 0:ee.recently_played_artists,oe=null==ee?void 0:ee.user_created_show,le=ie?(null==I?void 0:I.url)||"":(null==ee?void 0:ee.image_url)||"",se=(0,ve.C)(l),ue=(0,L.v9)(Kt.C7),ce=(ie?s:null==ee?void 0:ee.name)||"",de=(0,Zt.Z)((null==ee?void 0:ee.image_url)||null),me=(0,i.UO)().userId,ge=(0,Qt.fU)(W.createDesktopProfileEventFactory,{data:{uri:l,identifier:me}}),fe=ge.spec,pe=ge.logger,he=(0,n.useMemo)((function(){return fe.sectionTopTracksFactory()}),[fe]),xe=(0,f.J)(p.n5.getFollowing,[l]),ye=xe.data,be=xe.loading,je=null==ye?void 0:ye.profiles,Ie=(0,f.J)(p.n5.getFollowers,[l]),ke=Ie.data,we=Ie.loading,_e=null==ke?void 0:ke.profiles,Oe=(0,n.useMemo)((function(){return function(e){return e?p.n5.getUserTopArtists:function(){return Promise.resolve({status:200,body:{items:[],offset:0,limit:0,total:0,href:"",next:null,previous:null}})}}(ie)}),[ie]),Pe=(0,n.useMemo)((function(){return function(e){return e?p.n5.getUserTopTracks:function(){return Promise.resolve({status:200,body:{items:[],offset:0,limit:0,total:0,href:"",next:null,previous:null}})}}(ie&&!ue)}),[ie,ue]),Ne=(0,f.J)(Oe,[]),Ue=Ne.data,Ce=Ne.loading,Ee=(0,f.J)(Pe,[]),Re=Ee.data,De=Ee.loading,Se=null==Ue?void 0:Ue.body,Ae=null==Re?void 0:Re.body,Te=(0,F.W6)(tr.sT,{loadingValue:!1}),Me=(0,St.w)(ie,me).projects,Le=(0,n.useState)(null),Fe=(0,c.Z)(Le,2),We=Fe[0],He=Fe[1],Ze=(0,i.k6)();(0,n.useEffect)((function(){var e,t;if(Te&&Me&&"soundtrap_publish"===(null===(e=Ze.location.state)||void 0===e?void 0:e.referrer)&&null!==(t=Ze.location.state)&&void 0!==t&&t.newProjectId){var r=null==Me?void 0:Me.find((function(e){return e.soundtrapProjectId===Ze.location.state.newProjectId}));r&&(He(r),T({type:"OPEN_SOUNDTRAP_MODAL"}))}}),[Ze,Te,T,Me]);var Be=(0,n.useCallback)((function(){M({targetUri:l,intent:y?"unfollow":"follow",type:"click"});var e=fe.actionBarFactory().followButtonFactory();y?(j(!1),pe.logInteraction(e.hitUnfollow({itemToBeUnfollowed:l}))):(j(!0),pe.logInteraction(e.hitFollow({itemToBeFollowed:l})))}),[y,pe,M,j,fe,l]),Ke=(0,n.useCallback)((function(e){var t,r;T({type:"CLOSE_MODAL"}),e?(d((0,zt.dL)(e.name)),d((0,zt.GR)(e.image?[{url:e.image,height:null,width:null}]:[]))):"soundtrap_publish"===(null===(t=Ze.location.state)||void 0===t?void 0:t.referrer)&&null!==(r=Ze.location.state)&&void 0!==r&&r.newProjectId&&Ze.replace(Ze.location.pathname)}),[d,T,Ze]),Je=(0,n.useCallback)((function(){T({type:"OPEN_MODAL"});var e=fe.headerFactory().usernameFactory().hitUiReveal();pe.logInteraction(e)}),[pe,T,fe]),ze=(0,n.useCallback)((function(){T({type:"OPEN_MODAL_WITH_IMAGEPICKER"});var e=fe.headerFactory().profileImageFactory().hitUiReveal();pe.logInteraction(e)}),[pe,T,fe]),Ge=(0,n.useMemo)((function(){return[{url:le}]}),[le]),Ve=(0,n.useCallback)((function(){var e=fe.headerFactory().usernameFactory().hitUiReveal();pe.logInteraction(e)}),[pe,fe]),Qe=(0,n.useCallback)((function(e,t){if(t){var r=fe.headerFactory().followersLinkFactory().hitUiNavigate({destination:t});pe.logInteraction(r)}}),[pe,fe]),Xe=(0,n.useCallback)((function(e,t){if(t){var r=fe.headerFactory().followersLinkFactory().hitUiNavigate({destination:t});pe.logInteraction(r)}}),[pe,fe]),qe=(0,n.useCallback)((function(){var e=fe.actionBarFactory().contextMenuButtonFactory().hitUiReveal();pe.logInteraction(e)}),[pe,fe]);if(!ee||te||be||we||De||Ce)return(0,b.jsx)(N.h,{hasError:!1,errorMessage:O.ag.get("error.not_found.title.page")});var Ye={total:ee.followers_count},$e=_()("contentSpacing",C);function et(e){return oe&&m?e:e-1}return(0,b.jsxs)("div",{className:U,children:[(0,b.jsx)(g.$,{children:ce}),(0,b.jsxs)(G.gF,{backgroundColor:de,children:[(0,b.jsx)(Q.W,{children:(0,b.jsx)(X.i,{text:ce})}),(0,b.jsx)(Vt._,{menu:(0,b.jsx)(J.I,{uri:ee.uri}),children:(0,b.jsx)("div",{className:R,children:(0,b.jsx)(z.T,{canEdit:ie,name:ce,images:Ge,onClick:ze,placeholderType:"user",shape:G.Kc.CIRCLE})})}),(0,b.jsxs)(G.sP,{children:[(0,b.jsx)(G.dy,{small:!0,uppercase:!0,children:ne?(0,b.jsx)($t.S,{text:O.ag.get("card.tag.profile")}):O.ag.get("card.tag.profile")}),(0,b.jsx)(Vt._,{menu:(0,b.jsx)(J.I,{uri:ee.uri}),children:(0,b.jsx)(G.xd,{canEdit:ie,editTitle:O.ag.get("playlist.edit-details.title"),onClick:Je,children:ce})}),(0,b.jsx)(G.QS,{totalFollowers:Ye.total,totalFollowing:null==je?void 0:je.length,publicPlaylists:ee.total_public_playlists_count,userUri:l,onCreatorClick:Ve,onTotalFollowersClick:Qe,onTotalFollowingClick:Xe})]})]}),(0,b.jsx)(H.o,{backgroundColor:de,children:(0,b.jsxs)(H.F,{children:[!ie&&(0,b.jsx)(V.r,{children:(0,b.jsx)(q.e,{isFollowing:Boolean(y),onClick:Be,disabled:Y})}),(0,b.jsx)(Gt.y,{menu:(0,b.jsx)(J.I,{uri:ee.uri,onEditProfileCallback:Je}),children:(0,b.jsx)(Z.z,{label:O.ag.get("more.label.context",ce),onClick:qe})})]})}),(0,b.jsxs)(Qt.Nh,{spec:fe,children:[Te&&(0,b.jsx)(Lt,{className:$e,userId:me,username:se,userDisplayName:ce,isCurrentUser:ie}),oe&&m&&(0,b.jsx)(er.q,{className:$e,total:oe.total_episode_count,title:O.ag.get("episodes"),seeAllUri:o().profileURI(se,["episodes"]).toURI(),id:"episodes",index:0,children:null===(t=oe.episodes)||void 0===t?void 0:t.map((function(e,t){var r;return(0,b.jsx)(x.B,{index:t,uri:e.uri,name:e.name,images:e.images,durationMilliseconds:1e3*parseInt(e.duration,10),releaseDate:null===(r=e.publish_time)||void 0===r?void 0:r.toISOString(),description:"Stream count ".concat(e.stream_count),showImages:[],resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null},e.uri)}))}),(0,b.jsx)(er.q,{className:$e,total:(null==Se?void 0:Se.total)||0,title:O.ag.get("top_artists_this_month"),tagline:O.ag.get("only_visible_to_you"),seeAllUri:o().profileURI(se,["top","artists"]).toURI(),id:"top-artists",index:et(1),children:null==Se?void 0:Se.items.map((function(e,t){return(0,b.jsx)(B.I,{index:t,uri:e.uri,name:e.name,images:e.images},e.uri)}))}),(0,b.jsx)(ur,{className:$e,title:O.ag.get("top_tracks_this_month"),tagline:O.ag.get("only_visible_to_you"),seeAllUri:o().profileURI(se,["top","tracks"]).toURI(),uri:l,tracks:null==Ae?void 0:Ae.items,spec:he}),(0,b.jsx)(er.q,{className:$e,total:ee.total_public_playlists_count,title:O.ag.get("public_playlists"),seeAllUri:o().profileURI(se,["playlists"]).toURI(),id:"playlists",index:et(2),children:null==re?void 0:re.map((function(e,t){return(0,b.jsx)(K.Z,{index:t,uri:e.uri,name:e.name,images:[{url:Yt({imageUriOrUrl:e.image_url}),width:300,height:300}],authorName:e.owner_name,description:e.followers_count?O.ag.get("user.followers",e.followers_count):""},e.uri)}))}),null!=ae&&ae.length?(0,b.jsx)(er.q,{className:$e,total:null==ae?void 0:ae.length,title:O.ag.get("recently_played_artists"),seeAllUri:o().profileURI(se,["recently-played-artists"]).toURI(),id:"recently-played-artists",index:et(3),children:null==ae?void 0:ae.map((function(e,t){return(0,b.jsx)(B.I,{index:t,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)}))}):null,null!=_e&&_e.length?(0,b.jsx)(er.q,{className:$e,title:O.ag.get("followers"),total:null==_e?void 0:_e.length,seeAllUri:o().profileURI(se,["followers"]).toURI(),id:"followers",index:et(4),children:null==_e?void 0:_e.map((function(e,t){return(0,b.jsx)(P.P,{index:t,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)}))}):null,null!=je&&je.length?(0,b.jsx)(er.q,{className:$e,title:O.ag.get("following"),total:null==je?void 0:je.length,seeAllUri:o().profileURI(se,["following"]).toURI(),id:"following",index:et(5),children:null==je?void 0:je.map((function(e,t){return(0,b.jsx)(P.P,{index:t,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)}))}):null,ie&&D&&("editProfile"===S?(0,b.jsx)(Ct,{uri:l,name:ce,image:le,onClose:Ke,shouldOpenImagePicker:A}):"soundtrap"===S&&Te&&We?(0,b.jsx)(Ft.x,{project:We,userDisplayName:ce,onClose:Ke}):null)]})]})},mr=function(e){var t=e.uri,r=(0,f.J)(p.n5.getPlaylists,[{uri:t}]),n=r.data,i=r.loading,a=r.error,o=n||{},l=o.public_playlists,s=o.total_public_playlists_count,u=void 0===s?0:s;return i?(0,b.jsx)(N.h,{hasError:null!==a,errorMessage:O.ag.get("error.not_found.title.page")}):(0,b.jsx)(y.P,{className:_()("contentSpacing",E),total:u,title:O.ag.get("public_playlists"),showAll:!0,children:null==l?void 0:l.map((function(e,t){return(0,b.jsx)(K.Z,{index:t,uri:e.uri,name:e.name,authorName:e.owner_name,description:e.followers_count?O.ag.get("user.followers",e.followers_count):"",images:[{url:Yt({imageUriOrUrl:e.image_url}),width:300,height:300}]},e.uri)}))})},gr=function(e){var t=e.uri,r=(0,f.J)(p.n5.getRecentlyPlayedArtists,[{uri:t,limit:50}]),n=r.data,i=r.loading,a=r.error,o=null==n?void 0:n.artists;return i?(0,b.jsx)(N.h,{hasError:null!==a,errorMessage:O.ag.get("error.not_found.title.page")}):(0,b.jsx)(y.P,{className:_()("contentSpacing",E),total:null==o?void 0:o.length,title:O.ag.get("recently_played_artists"),showAll:!0,children:null==o?void 0:o.map((function(e,t){return(0,b.jsx)(B.I,{index:t,name:e.name,uri:e.uri,images:[{url:e.image_url}]},e.uri)}))})},fr=function(){var e=(0,f.J)(p.n5.getUserTopArtists),t=e.data,r=e.loading,n=e.error,i=null==t?void 0:t.body;return r?(0,b.jsx)(N.h,{hasError:null!==n,errorMessage:O.ag.get("error.not_found.title.page")}):i?(0,b.jsx)(y.P,{className:_()("contentSpacing",E),total:i.items.length,title:O.ag.get("top_artists_this_month"),tagline:O.ag.get("only_visible_to_you"),showAll:!0,children:i.items.map((function(e,t){return(0,b.jsx)(B.I,{index:t,uri:e.uri,name:e.name,images:e.images},e.uri)}))}):null},pr=function(e){var t=e.uri,r=(0,f.J)(p.n5.getProfile,[{uri:t}]),n=r.data,i=r.loading,a=r.error,o=(null==n?void 0:n.is_current_user)||!1;return n&&!i&&o?(0,b.jsx)(fr,{}):(0,b.jsx)(N.h,{hasError:null!==a,errorMessage:O.ag.get("error.not_found.title.page")})},vr=function(e){var t=e.uri,r=(0,f.J)(p.n5.getUserTopTracks,[{offset:0,limit:50}]),n=r.data,i=r.loading,a=r.error,o=null==n?void 0:n.body;return i?(0,b.jsx)(N.h,{hasError:null!==a,errorMessage:O.ag.get("error.not_found.title.page")}):o?(0,b.jsxs)("div",{className:_()("contentSpacing",E,D),children:[(0,b.jsxs)("div",{className:S,children:[(0,b.jsx)(Y.D,{as:"h1",variant:"canon",className:A,children:O.ag.get("top_tracks_this_month")}),(0,b.jsx)(Y.D,{as:"p",variant:"mesto",children:O.ag.get("only_visible_to_you")})]}),(0,b.jsx)(sr,{tracks:o.items,uri:t,hasHeaderRow:!0})]}):null},hr=function(e){var t=e.uri,r=(0,f.J)(p.n5.getProfile,[{uri:t}]),n=r.data,i=r.loading,a=r.error,o=(null==n?void 0:n.is_current_user)||!1;return n&&!i&&o?(0,b.jsx)(vr,{uri:t}):(0,b.jsx)(N.h,{hasError:null!==a,errorMessage:O.ag.get("error.not_found.title.page")})};const xr=(0,n.memo)((function(){var e=(0,i.UO)().userId,t=decodeURIComponent(e),r=o().profileURI(t).toURI();return(0,b.jsxs)("section",{children:[(0,b.jsx)(s.l,{exact:!0,path:"/user/:userId/playlists",pageId:l.Wg.PROFILE_PLAYLISTS,children:(0,b.jsx)(mr,{uri:r})}),(0,b.jsx)(s.l,{exact:!0,path:"/user/:userId/top/tracks",pageId:l.Wg.PROFILE_TOP_TRACKS,children:(0,b.jsx)(hr,{uri:r})}),(0,b.jsx)(s.l,{exact:!0,path:"/user/:userId/top/artists",pageId:l.Wg.PROFILE_TOP_ARTISTS,children:(0,b.jsx)(pr,{uri:r})}),(0,b.jsx)(s.l,{exact:!0,path:"/user/:userId/recently-played-artists",pageId:l.Wg.PROFILE_RECENTLY_PLAYED_ARTISTS,children:(0,b.jsx)(gr,{uri:r})}),(0,b.jsx)(s.l,{exact:!0,path:"/user/:userId/following",pageId:l.Wg.PROFILE_FOLLOWING,children:(0,b.jsx)(M,{uri:r})}),(0,b.jsx)(s.l,{exact:!0,path:"/user/:userId/followers",pageId:l.Wg.PROFILE_FOLLOWERS,children:(0,b.jsx)(T,{uri:r})}),(0,b.jsx)(s.l,{exact:!0,path:"/user/:userId/episodes",pageId:l.Wg.PROFILE_EPISODES,children:(0,b.jsx)(k,{uri:r})}),(0,b.jsx)(s.l,{exact:!0,path:"/user/:userId",pageId:l.Wg.PROFILE,children:(0,b.jsx)(dr,{uri:r})})]})}))},47991:(e,t,r)=>{r.d(t,{$:()=>n});var n=function(e){var t;return(null==e||null===(t=e.linked_from)||void 0===t?void 0:t.uri)||e.uri}}}]);
//# sourceMappingURL=xpui-routes-profile.js.map