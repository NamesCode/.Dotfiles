"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7379],{40771:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(87462),l=r(45987),a=r(67294),i=r(67892),o=["href","children"],c=function(e){var t=e.href,r=e.children,c=(0,l.Z)(e,o);return a.createElement(i.Z,(0,n.Z)({to:t},c),r)}},30731:(e,t,r)=>{r.d(t,{u:()=>S});var n=r(4942),l=r(67294),a=r(94184),i=r.n(a),o=r(32667),c=r(34011),u=r(6330),s=r(40771);const m="FvfvGU3jvHRskUU9v9_8",d="Q9AlbZn2EGzy3MTWXa8X",E="mxmxS0y8LiwSs5nueKPT",g="GXxVAveNFStY3pBI_NO4",f="eHcXC2s97InYP7rMNT0H";var S=l.memo((function(e){var t=e.children,r=e.message,a=e.title,S=e.linkTitle,k=e.linkTo,v=e.onClick,C=e.renderInline,b=void 0!==C&&C,y=(0,u.e)(),A=y.isXSOnly,D=y.isSMOnly,p=A||D;return l.createElement("section",{className:i()(m,(0,n.Z)({},d,b))},t,l.createElement(o.D,{as:"h1",variant:p?"cello":"alto",className:g},a),l.createElement(o.D,{variant:p?"mesto":"ballad",className:f},r),S&&(k||v)&&l.createElement(c.D,{colorSet:"invertedLight",className:E,href:k,onClick:v,component:s.Z},S))}))},35213:(e,t,r)=>{r.d(t,{l:()=>C});var n,l,a=r(93433),i=(r(40561),r(57327),r(41539),r(21249),r(67294)),o=r(96206),c=r(76119),u=r(4942),s=(r(26699),r(32023),r(78462)),m=r(73785),d={"custom-order":s.HI,title:{column:m.Q.TITLE,order:m.k.ASC},artist:{column:m.Q.TITLE,order:m.k.SECONDARY_ASC},"added-by":{column:m.Q.ADDED_BY,order:m.k.ASC},"added-at":{column:m.Q.ADDED_AT,order:m.k.ASC},duration:{column:m.Q.DURATION,order:m.k.ASC},album:{column:m.Q.ALBUM,order:m.k.ASC},"album-or-podcast":{column:m.Q.ALBUM_OR_PODCAST,order:m.k.ASC},"album-or-show":{column:m.Q.ALBUM_OR_SHOW,order:m.k.ASC}},E={title:m.Q.TITLE,artist:m.Q.TITLE,"added-by":m.Q.ADDED_BY,"added-at":m.Q.ADDED_AT,duration:m.Q.DURATION,album:m.Q.ALBUM,"album-or-podcast":m.Q.ALBUM_OR_PODCAST,"album-or-show":m.Q.ALBUM_OR_SHOW},g=(n={},(0,u.Z)(n,m.k.NONE,m.k.NONE),(0,u.Z)(n,m.k.ASC,m.k.DESC),(0,u.Z)(n,m.k.DESC,m.k.ASC),(0,u.Z)(n,m.k.SECONDARY_ASC,m.k.SECONDARY_DESC),(0,u.Z)(n,m.k.SECONDARY_DESC,m.k.SECONDARY_ASC),n),f=(l={},(0,u.Z)(l,m.Q.INDEX,{key:"custom-order",get value(){return o.ag.get("sort.custom-order")}}),(0,u.Z)(l,m.Q.TITLE,{key:"title",get value(){return o.ag.get("sort.title")}}),(0,u.Z)(l,m.Q.ARTIST,{key:"artist",get value(){return o.ag.get("sort.artist")}}),(0,u.Z)(l,m.Q.ADDED_BY,{key:"added-by",get value(){return o.ag.get("sort.added-by")}}),(0,u.Z)(l,m.Q.ADDED_AT,{key:"added-at",get value(){return o.ag.get("sort.date-added")}}),(0,u.Z)(l,m.Q.DURATION,{key:"duration",get value(){return o.ag.get("sort.duration")}}),(0,u.Z)(l,m.Q.EVENT_DATE,null),(0,u.Z)(l,m.Q.ALBUM,{key:"album",get value(){return o.ag.get("sort.album")}}),(0,u.Z)(l,m.Q.ALBUM_OR_PODCAST,{key:"album-or-podcast",get value(){return o.ag.get("sort.album-or-podcast")}}),(0,u.Z)(l,m.Q.ALBUM_OR_SHOW,{key:"album-or-show",get value(){return o.ag.get("sort.album-or-show")}}),(0,u.Z)(l,m.Q.PLAYS,null),(0,u.Z)(l,m.Q.RELEASE_DATE,null),(0,u.Z)(l,m.Q.ADD,null),(0,u.Z)(l,m.Q.ACTIONS,null),l),S=r(28248),k=r(1838);function v(e){return!!e}var C=function(e){var t=e.columns,r=e.disabled,n=e.onSort,l=(0,a.Z)(t);l.splice(2,0,S.QD.ARTIST);var u=(0,i.useContext)(s.Gb),C=u.sortState,b=u.setSortState,y=function(e){return null===e.column?f[S.QD.INDEX]:(0,k.cB)(e.column,e.order)?f[S.QD.ARTIST]:f[e.column]}(C),A=(0,i.useCallback)((function(e){null==n||n(),b(function(e,t,r){return e?t!==E[e]||"artist"===e&&[m.k.ASC,m.k.DESC].includes(r)||"title"===e&&[m.k.SECONDARY_ASC,m.k.SECONDARY_DESC].includes(r)?d[e]:{column:E[e],order:g[r]}:s.HI}(e,C.column,C.order))}),[n,b,C.column,C.order]),D=(0,i.useCallback)((function(){return null!==C.column}),[C.column]),p=l.map((function(e){return f[e]})).filter(v);return i.createElement(c.A,{options:p,onSelect:A,selected:y,isSelectionChanged:D,sortOrder:C.order,heading:o.ag.get("drop_down.sort_by"),disabled:r})}},76119:(e,t,r)=>{r.d(t,{A:()=>y});var n=r(4942),l=r(29439),a=r(67294),i=r(94184),o=r.n(i),c=r(32667),u=r(34142),s=r(47921),m=r(20246),d=(r(21249),r(71379)),E=r(78267),g=r(30005),f=r(36652),S=r(21691),k=r(28248),v=function(e){var t,r=e.heading,n=e.selected,l=e.onSelect,i=e.options,o=e.sortOrder;return o&&(o===k.kn.ASC||o===k.kn.SECONDARY_ASC?t=a.createElement(d.C,{iconSize:16}):o!==k.kn.DESC&&o!==k.kn.SECONDARY_DESC||(t=a.createElement(E.B,{iconSize:16}))),a.createElement(g.v,null,r?a.createElement(f.F,null,r):null,i.map((function(e){var r=e.key,i=e.value;return a.createElement(S.s,{role:"menuitemradio","aria-checked":r===n.key&&!t,key:r,onClick:function(){return l(r)},icon:r===n.key&&t},a.createElement(c.D,{variant:"mesto"},i))})))};const C="x-sortBox-sortDropdown",b="CbHJjxYxldG7uUPMYMaP";var y=function(e){var t=e.heading,r=e.options,i=e.selected,d=e.onSelect,E=e.isSelectionChanged,g=e.sortOrder,f=e.variant,S=void 0===f?"mesto":f,k=e.semanticColor,y=e.disabled,A=e.onClick,D=(0,l.Z)(r,1)[0];i||(i=D);var p=E?E(i):i!==D;return a.createElement(m.y,{menu:a.createElement(v,{selected:i,options:r,onSelect:d,sortOrder:g,heading:t})},(function(e,t,r){return a.createElement("button",{className:o()(C,(0,n.Z)({},b,p)),onClick:function(e){y||(null==A||A(e),t(e))},ref:r,type:"button"},a.createElement(c.D,{semanticColor:k,variant:S},i.value),e?a.createElement(u.U,{iconSize:16,"aria-hidden":"true"}):a.createElement(s.i,{iconSize:16,"aria-hidden":"true"}))}))}},22566:(e,t,r)=>{r.r(t),r.d(t,{default:()=>q});var n=r(4942),l=r(15861),a=r(29439),i=r(87757),o=r.n(i),c=(r(57327),r(41539),r(21249),r(47941),r(82526),r(38880),r(89554),r(54747),r(49337),r(33321),r(69070),r(67294)),u=r(73012),s=r(56037),m=r(96206),d=r(18270),E=r(30731),g=r(60289),f=r(59482),S=r(72907),k=r(98562),v=r(6158),C=r(55120),b=r(1838),y=r(35213),A=r(22423),D=r(28248),p=r(78462),O=r(72573),h=r(37081),T=r(72131),x=r(66393),_=r(5229),P=r(84242),I=(r(66992),r(70189),r(78783),r(33948),r(68309),r(69600),r(18261)),Q=r(87257),N=r(42922),Z=r(84788),R=r(26921),U=r(67062),w=r(21509),L=r(28550),M=r(82760),B=c.memo((function(e){var t=e.uri,r=e.uid,n=e.name,l=e.duration_ms,a=e.artists,i=e.album,o=e.is19PlusOnly,u=e.isExplicit,s=e.isPlayable,d=e.index,E=e.contextUri,g=e.imgUrl,f=e.usePlayContextItem,S=(0,c.useContext)(A.fo).filter,k=f({uid:r,uri:t,index:d}),v=k.isActive,C=k.isPlaying,b=k.triggerPlay,y=k.togglePlay,D=(0,Z.r)({isExplicit:u}),p=D.badges,O=D.hasBadges,h=(null==a?void 0:a.map((function(e){return e.name})).join(m.ag.getSeparator()))||"";return c.createElement(N.ZP,{value:"row",index:d},c.createElement(I._,{menu:c.createElement(R.N,{uri:t,uid:r,contextUri:E})},c.createElement(M.c,{uri:t,contextUri:E,isActive:v,index:d,onTriggerPlay:function(){b()},ariaRowIndex:d+1,isPlayable:s,ageRestricted:o,dragMetadata:{name:n,createdBy:h}},c.createElement(w.Dd,{ariaColIndex:0},c.createElement(w.Du,{uri:t,playAriaLabel:m.ag.get("tracklist.a11y.play",n,h),isPlaying:C,isActive:v,onClick:function(){y()}},c.createElement(w.km,null,d+1))),c.createElement(w.vZ,{ariaColIndex:1},c.createElement(w.lD,{src:g}),c.createElement(w.vm,null,c.createElement(w.Wh,{titleText:n},c.createElement(U.o,{searchWords:[S],textToHighlight:n})),O&&c.createElement(w.g3,null,p.explicit?c.createElement(Q.N,null):null),c.createElement(w.K9,null,a&&c.createElement(L.o,{nonInteractive:!0,artists:a,filter:S})))),c.createElement(w.UA,{ariaColIndex:2},(null==i?void 0:i.name)&&c.createElement(w.BM,{nonInteractive:!0,uri:null==i?void 0:i.uri,name:null==i?void 0:i.name},c.createElement(U.o,{searchWords:[S],textToHighlight:null==i?void 0:i.name}))),c.createElement(w.mU,{ariaColIndex:3},c.createElement(w.A$,{duration:l}),c.createElement(w.Zv,{menu:c.createElement(R.N,{uri:t,uid:r,contextUri:E}),label:m.ag.get("more.label.track",n,h)})))))}),(function(e,t){return e.uri===t.uri&&e.index===t.index})),Y=r(49961),j=new Set(p.MI),H=c.memo((function(e){var t=e.uri,r=e.tracks,n=e.columns,l=e.sortState,a=e.handleSort,i=e.usePlayContextItem,o=e.tracklistDomRef,u=(0,c.useRef)(null),s=(0,c.useCallback)((function(e,r){var n,l=(0,Y.X)(null===(n=e.album)||void 0===n?void 0:n.images,{desiredSize:40,desiredLabel:"small"});return c.createElement(B,{key:e.uid,index:r,contextUri:t,uri:e.uri,uid:e.uid,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,album:e.album,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,type:e.type,imgUrl:(null==l?void 0:l.url)||"",usePlayContextItem:i})}),[t,i]);return c.createElement(c.Fragment,null,c.createElement(N.ZP,{value:"playlist-tracklist"},c.createElement(D.Pv,{key:t,ariaLabel:m.ag.get("local-files"),hasHeaderRow:!0,columns:n,sortableColumns:j,sortState:l,onSort:a,renderRow:s,resolveUri:function(e){return e.uri},resolveUid:function(e){return e.uid},tracks:r,nrTracks:r.length,limit:100,outerRef:u,outerDomRef:o})))}));const z="uCHqQ74vvHOnctGg0X0B",X="feuNq1FTxMbdeOTuFgpA";function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var G=[D.QD.INDEX,D.QD.TITLE,D.QD.ALBUM,D.QD.DURATION],K=function(){var e=(0,c.useContext)(A.fo).filter,t=(0,c.useContext)(p.Gb),r=t.sortState,n=t.setSortState,i=(0,c.useContext)(x.t),D=(0,_.z)(O.J,!1),I=(0,a.Z)(D,1)[0],Q=(0,c.useState)(),N=(0,a.Z)(Q,2),Z=N[0],R=N[1],U=(0,h.Y)(u.Fzl),w=(0,c.useRef)(null),L=(0,c.useCallback)((function(e){n((0,b.VK)(e,r))}),[r,n]),M=(0,c.useCallback)((0,l.Z)(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getTracks((0,b._j)(r),e);case 2:n=t.sent,R(n);case 4:case"end":return t.stop()}}),t)}))),[i,r,e]);(0,c.useEffect)((function(){M()}),[M]);var B=(0,P.n)({uri:T.b,pages:[{items:(null!=Z?Z:[]).map((function(e){return W(W({},e),{},{provider:null})}))}]},{featureIdentifier:"local_files"}),Y=B.isPlaying,j=B.togglePlay,F=B.usePlayContextItem;return Z?e||Z.length&&I?c.createElement("div",{role:"presentation",className:z},c.createElement(g.gF,{backgroundColor:U},c.createElement(f.W,null,c.createElement(C.$,{size:"md",onClick:function(){return j()},isPlaying:Y,uri:T.b}),c.createElement(S.i,{text:m.ag.get("local-files")})),c.createElement(g.sP,null,c.createElement(g.xd,null,m.ag.get("local-files")),c.createElement(g.T0,null,m.ag.get("local-files.description")))),c.createElement(d.o,{backgroundColor:U},c.createElement(d.F,null,c.createElement(C.$,{size:"lg",onClick:function(){return j()},isPlaying:Y,uri:T.b}),c.createElement("div",{className:X},c.createElement(c.Suspense,{fallback:null},c.createElement(k.K,{placeholder:m.ag.get("playlist.search_in_playlist"),clearOnEscapeInElementRef:w})),c.createElement(y.l,{columns:p.MI})))),c.createElement("div",{className:"contentSpacing"},c.createElement(H,{tracks:Z,uri:T.b,columns:G,handleSort:L,sortState:r,usePlayContextItem:F,tracklistDomRef:w}))):c.createElement(E.u,{linkTo:"/preferences",linkTitle:m.ag.get("local-files.empty-button"),message:m.ag.get("local-files.empty-description"),title:m.ag.get("local-files.empty-header")},c.createElement(s.Y,{iconSize:64})):c.createElement(v.h,{hasError:!1,errorMessage:m.ag.get("error.request-artist-failure")})};const q=function(){return c.createElement(p.kz,{uri:"spotify:internal:local-files"},c.createElement(A.hz,{uri:"spotify:internal:local-files"},c.createElement(K,null)))}}}]);
//# sourceMappingURL=xpui-routes-collection-local-files.js.map