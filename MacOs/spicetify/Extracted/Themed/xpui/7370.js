"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7370],{7370:(t,r,n)=>{n.r(r),n.d(r,{extractColors:()=>h});var e=n(15424);let o;!function(t){t[t.ARRAY_BUFFER=0]="ARRAY_BUFFER",t[t.IMAGE_BITMAP=1]="IMAGE_BITMAP"}(o||(o={}));var i=n(93304),a=n.n(i);var s=n(89480);const u=new function(){return a()('(()=>{var t={3518:(t,r,n)=>{var e=n(6399),o=n(4563),i=TypeError;t.exports=function(t){if(e(t))return t;throw i(o(t)+" is not a function")}},5032:(t,r,n)=>{var e=n(6399),o=String,i=TypeError;t.exports=function(t){if("object"==typeof t||e(t))return t;throw i("Can\'t set "+o(t)+" as a prototype")}},6132:(t,r,n)=>{var e=n(8722),o=String,i=TypeError;t.exports=function(t){if(e(t))return t;throw i(o(t)+" is not an object")}},7308:t=>{t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},1313:(t,r,n)=>{"use strict";var e,o,i,a=n(7308),s=n(3522),u=n(6487),c=n(6399),f=n(8722),h=n(5971),l=n(901),p=n(4563),g=n(5369),v=n(8283),b=n(5988).f,y=n(3544),d=n(5642),m=n(5314),w=n(6251),x=n(6228),_=n(3425),A=_.enforce,S=_.get,M=u.Int8Array,T=M&&M.prototype,O=u.Uint8ClampedArray,E=O&&O.prototype,I=M&&d(M),R=T&&d(T),j=Object.prototype,C=u.TypeError,P=w("toStringTag"),B=x("TYPED_ARRAY_TAG"),$="TypedArrayConstructor",G=a&&!!m&&"Opera"!==l(u.opera),L=!1,D={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},H=function(t){var r=d(t);if(f(r)){var n=S(r);return n&&h(n,$)?n.TypedArrayConstructor:H(r)}},z=function(t){if(!f(t))return!1;var r=l(t);return h(D,r)||h(F,r)};for(e in D)(i=(o=u[e])&&o.prototype)?A(i).TypedArrayConstructor=o:G=!1;for(e in F)(i=(o=u[e])&&o.prototype)&&(A(i).TypedArrayConstructor=o);if((!G||!c(I)||I===Function.prototype)&&(I=function(){throw C("Incorrect invocation")},G))for(e in D)u[e]&&m(u[e],I);if((!G||!R||R===j)&&(R=I.prototype,G))for(e in D)u[e]&&m(u[e].prototype,R);if(G&&d(E)!==R&&m(E,R),s&&!h(R,P))for(e in L=!0,b(R,P,{get:function(){return f(this)?this[B]:void 0}}),D)u[e]&&g(u[e],B,e);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:G,TYPED_ARRAY_TAG:L&&B,aTypedArray:function(t){if(z(t))return t;throw C("Target is not a typed array")},aTypedArrayConstructor:function(t){if(c(t)&&(!m||y(I,t)))return t;throw C(p(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,r,n,e){if(s){if(n)for(var o in D){var i=u[o];if(i&&h(i.prototype,t))try{delete i.prototype[t]}catch(n){try{i.prototype[t]=r}catch(t){}}}R[t]&&!n||v(R,t,n?r:G&&T[t]||r,e)}},exportTypedArrayStaticMethod:function(t,r,n){var e,o;if(s){if(m){if(n)for(e in D)if((o=u[e])&&h(o,t))try{delete o[t]}catch(t){}if(I[t]&&!n)return;try{return v(I,t,n?r:G&&I[t]||r)}catch(t){}}for(e in D)!(o=u[e])||o[t]&&!n||v(o,t,r)}},getTypedArrayConstructor:H,isView:function(t){if(!f(t))return!1;var r=l(t);return"DataView"===r||h(D,r)||h(F,r)},isTypedArray:z,TypedArray:I,TypedArrayPrototype:R}},8338:(t,r,n)=>{var e=n(8773);t.exports=function(t,r){for(var n=0,o=e(r),i=new t(o);o>n;)i[n]=r[n++];return i}},3124:(t,r,n)=>{var e=n(6593),o=n(6582),i=n(8773),a=function(t){return function(r,n,a){var s,u=e(r),c=i(u),f=o(a,c);if(t&&n!=n){for(;c>f;)if((s=u[f++])!=s)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},5396:(t,r,n)=>{"use strict";var e=n(3522),o=n(7423),i=TypeError,a=Object.getOwnPropertyDescriptor,s=e&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,r){if(o(t)&&!a(t,"length").writable)throw i("Cannot set read only .length");return t.length=r}:function(t,r){return t.length=r}},3405:(t,r,n)=>{var e=n(8773);t.exports=function(t,r){for(var n=e(t),o=new r(n),i=0;i<n;i++)o[i]=t[n-i-1];return o}},5703:(t,r,n)=>{var e=n(8773),o=n(5341),i=RangeError;t.exports=function(t,r,n,a){var s=e(t),u=o(n),c=u<0?s+u:u;if(c>=s||c<0)throw i("Incorrect index");for(var f=new r(s),h=0;h<s;h++)f[h]=h===c?a:t[h];return f}},9166:(t,r,n)=>{var e=n(2026),o=e({}.toString),i=e("".slice);t.exports=function(t){return i(o(t),8,-1)}},901:(t,r,n)=>{var e=n(1198),o=n(6399),i=n(9166),a=n(6251)("toStringTag"),s=Object,u="Arguments"==i(function(){return arguments}());t.exports=e?i:function(t){var r,n,e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,r){try{return t[r]}catch(t){}}(r=s(t),a))?n:u?i(r):"Object"==(e=i(r))&&o(r.callee)?"Arguments":e}},5097:(t,r,n)=>{var e=n(5971),o=n(831),i=n(8567),a=n(5988);t.exports=function(t,r,n){for(var s=o(r),u=a.f,c=i.f,f=0;f<s.length;f++){var h=s[f];e(t,h)||n&&e(n,h)||u(t,h,c(r,h))}}},410:(t,r,n)=>{var e=n(9295);t.exports=!e((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},5369:(t,r,n)=>{var e=n(3522),o=n(5988),i=n(2587);t.exports=e?function(t,r,n){return o.f(t,r,i(1,n))}:function(t,r,n){return t[r]=n,t}},2587:t=>{t.exports=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}}},8283:(t,r,n)=>{var e=n(6399),o=n(5988),i=n(8916),a=n(8746);t.exports=function(t,r,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:r;if(e(n)&&i(n,c,s),s.global)u?t[r]=n:a(r,n);else{try{s.unsafe?t[r]&&(u=!0):delete t[r]}catch(t){}u?t[r]=n:o.f(t,r,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},8746:(t,r,n)=>{var e=n(6487),o=Object.defineProperty;t.exports=function(t,r){try{o(e,t,{value:r,configurable:!0,writable:!0})}catch(n){e[t]=r}return r}},3522:(t,r,n)=>{var e=n(9295);t.exports=!e((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},9622:t=>{var r="object"==typeof document&&document.all,n=void 0===r&&void 0!==r;t.exports={all:r,IS_HTMLDDA:n}},6577:(t,r,n)=>{var e=n(6487),o=n(8722),i=e.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},6054:t=>{var r=TypeError;t.exports=function(t){if(t>9007199254740991)throw r("Maximum allowed index exceeded");return t}},1742:(t,r,n)=>{var e=n(4805);t.exports=e("navigator","userAgent")||""},9699:(t,r,n)=>{var e,o,i=n(6487),a=n(1742),s=i.process,u=i.Deno,c=s&&s.versions||u&&u.version,f=c&&c.v8;f&&(o=(e=f.split("."))[0]>0&&e[0]<4?1:+(e[0]+e[1])),!o&&a&&(!(e=a.match(/Edge\\/(\\d+)/))||e[1]>=74)&&(e=a.match(/Chrome\\/(\\d+)/))&&(o=+e[1]),t.exports=o},5323:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},815:(t,r,n)=>{var e=n(6487),o=n(8567).f,i=n(5369),a=n(8283),s=n(8746),u=n(5097),c=n(1346);t.exports=function(t,r){var n,f,h,l,p,g=t.target,v=t.global,b=t.stat;if(n=v?e:b?e[g]||s(g,{}):(e[g]||{}).prototype)for(f in r){if(l=r[f],h=t.dontCallGetSet?(p=o(n,f))&&p.value:n[f],!c(v?f:g+(b?".":"#")+f,t.forced)&&void 0!==h){if(typeof l==typeof h)continue;u(l,h)}(t.sham||h&&h.sham)&&i(l,"sham",!0),a(n,f,l,t)}}},9295:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},6378:(t,r,n)=>{var e=n(9295);t.exports=!e((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6787:(t,r,n)=>{var e=n(6378),o=Function.prototype.call;t.exports=e?o.bind(o):function(){return o.apply(o,arguments)}},7272:(t,r,n)=>{var e=n(3522),o=n(5971),i=Function.prototype,a=e&&Object.getOwnPropertyDescriptor,s=o(i,"name"),u=s&&"something"===function(){}.name,c=s&&(!e||e&&a(i,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},2026:(t,r,n)=>{var e=n(6378),o=Function.prototype,i=o.call,a=e&&o.bind.bind(i,i);t.exports=e?a:function(t){return function(){return i.apply(t,arguments)}}},4805:(t,r,n)=>{var e=n(6487),o=n(6399),i=function(t){return o(t)?t:void 0};t.exports=function(t,r){return arguments.length<2?i(e[t]):e[t]&&e[t][r]}},1766:(t,r,n)=>{var e=n(3518),o=n(5362);t.exports=function(t,r){var n=t[r];return o(n)?void 0:e(n)}},6487:(t,r,n)=>{var e=function(t){return t&&t.Math==Math&&t};t.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},5971:(t,r,n)=>{var e=n(2026),o=n(7554),i=e({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,r){return i(o(t),r)}},2005:t=>{t.exports={}},9306:(t,r,n)=>{var e=n(3522),o=n(9295),i=n(6577);t.exports=!e&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},7093:(t,r,n)=>{var e=n(2026),o=n(9295),i=n(9166),a=Object,s=e("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?s(t,""):a(t)}:a},7760:(t,r,n)=>{var e=n(2026),o=n(6399),i=n(8841),a=e(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},3425:(t,r,n)=>{var e,o,i,a=n(995),s=n(6487),u=n(8722),c=n(5369),f=n(5971),h=n(8841),l=n(6566),p=n(2005),g="Object already initialized",v=s.TypeError,b=s.WeakMap;if(a||h.state){var y=h.state||(h.state=new b);y.get=y.get,y.has=y.has,y.set=y.set,e=function(t,r){if(y.has(t))throw v(g);return r.facade=t,y.set(t,r),r},o=function(t){return y.get(t)||{}},i=function(t){return y.has(t)}}else{var d=l("state");p[d]=!0,e=function(t,r){if(f(t,d))throw v(g);return r.facade=t,c(t,d,r),r},o=function(t){return f(t,d)?t[d]:{}},i=function(t){return f(t,d)}}t.exports={set:e,get:o,has:i,enforce:function(t){return i(t)?o(t):e(t,{})},getterFor:function(t){return function(r){var n;if(!u(r)||(n=o(r)).type!==t)throw v("Incompatible receiver, "+t+" required");return n}}}},7423:(t,r,n)=>{var e=n(9166);t.exports=Array.isArray||function(t){return"Array"==e(t)}},1020:(t,r,n)=>{var e=n(901),o=n(2026)("".slice);t.exports=function(t){return"Big"===o(e(t),0,3)}},6399:(t,r,n)=>{var e=n(9622),o=e.all;t.exports=e.IS_HTMLDDA?function(t){return"function"==typeof t||t===o}:function(t){return"function"==typeof t}},1346:(t,r,n)=>{var e=n(9295),o=n(6399),i=/#|\\.prototype\\./,a=function(t,r){var n=u[s(t)];return n==f||n!=c&&(o(r)?e(r):!!r)},s=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",f=a.POLYFILL="P";t.exports=a},5362:t=>{t.exports=function(t){return null==t}},8722:(t,r,n)=>{var e=n(6399),o=n(9622),i=o.all;t.exports=o.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:e(t)||t===i}:function(t){return"object"==typeof t?null!==t:e(t)}},4680:t=>{t.exports=!1},942:(t,r,n)=>{var e=n(4805),o=n(6399),i=n(3544),a=n(5083),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var r=e("Symbol");return o(r)&&i(r.prototype,s(t))}},8773:(t,r,n)=>{var e=n(6344);t.exports=function(t){return e(t.length)}},8916:(t,r,n)=>{var e=n(9295),o=n(6399),i=n(5971),a=n(3522),s=n(7272).CONFIGURABLE,u=n(7760),c=n(3425),f=c.enforce,h=c.get,l=Object.defineProperty,p=a&&!e((function(){return 8!==l((function(){}),"length",{value:8}).length})),g=String(String).split("String"),v=t.exports=function(t,r,n){"Symbol("===String(r).slice(0,7)&&(r="["+String(r).replace(/^Symbol\\(([^)]*)\\)/,"$1")+"]"),n&&n.getter&&(r="get "+r),n&&n.setter&&(r="set "+r),(!i(t,"name")||s&&t.name!==r)&&(a?l(t,"name",{value:r,configurable:!0}):t.name=r),p&&n&&i(n,"arity")&&t.length!==n.arity&&l(t,"length",{value:n.arity});try{n&&i(n,"constructor")&&n.constructor?a&&l(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var e=f(t);return i(e,"source")||(e.source=g.join("string"==typeof r?r:"")),t};Function.prototype.toString=v((function(){return o(this)&&h(this).source||u(this)}),"toString")},9437:t=>{var r=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var e=+t;return(e>0?n:r)(e)}},5988:(t,r,n)=>{var e=n(3522),o=n(9306),i=n(8149),a=n(6132),s=n(5422),u=TypeError,c=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h="enumerable",l="configurable",p="writable";r.f=e?i?function(t,r,n){if(a(t),r=s(r),a(n),"function"==typeof t&&"prototype"===r&&"value"in n&&p in n&&!n.writable){var e=f(t,r);e&&e.writable&&(t[r]=n.value,n={configurable:l in n?n.configurable:e.configurable,enumerable:h in n?n.enumerable:e.enumerable,writable:!1})}return c(t,r,n)}:c:function(t,r,n){if(a(t),r=s(r),a(n),o)try{return c(t,r,n)}catch(t){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(t[r]=n.value),t}},8567:(t,r,n)=>{var e=n(3522),o=n(6787),i=n(7991),a=n(2587),s=n(6593),u=n(5422),c=n(5971),f=n(9306),h=Object.getOwnPropertyDescriptor;r.f=e?h:function(t,r){if(t=s(t),r=u(r),f)try{return h(t,r)}catch(t){}if(c(t,r))return a(!o(i.f,t,r),t[r])}},4482:(t,r,n)=>{var e=n(3361),o=n(5323).concat("length","prototype");r.f=Object.getOwnPropertyNames||function(t){return e(t,o)}},7338:(t,r)=>{r.f=Object.getOwnPropertySymbols},5642:(t,r,n)=>{var e=n(5971),o=n(6399),i=n(7554),a=n(6566),s=n(410),u=a("IE_PROTO"),c=Object,f=c.prototype;t.exports=s?c.getPrototypeOf:function(t){var r=i(t);if(e(r,u))return r[u];var n=r.constructor;return o(n)&&r instanceof n?n.prototype:r instanceof c?f:null}},3544:(t,r,n)=>{var e=n(2026);t.exports=e({}.isPrototypeOf)},3361:(t,r,n)=>{var e=n(2026),o=n(5971),i=n(6593),a=n(3124).indexOf,s=n(2005),u=e([].push);t.exports=function(t,r){var n,e=i(t),c=0,f=[];for(n in e)!o(s,n)&&o(e,n)&&u(f,n);for(;r.length>c;)o(e,n=r[c++])&&(~a(f,n)||u(f,n));return f}},7991:(t,r)=>{"use strict";var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,o=e&&!n.call({1:2},1);r.f=o?function(t){var r=e(this,t);return!!r&&r.enumerable}:n},5314:(t,r,n)=>{var e=n(2026),o=n(6132),i=n(5032);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,r=!1,n={};try{(t=e(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),r=n instanceof Array}catch(t){}return function(n,e){return o(n),i(e),r?t(n,e):n.__proto__=e,n}}():void 0)},6685:(t,r,n)=>{var e=n(6787),o=n(6399),i=n(8722),a=TypeError;t.exports=function(t,r){var n,s;if("string"===r&&o(n=t.toString)&&!i(s=e(n,t)))return s;if(o(n=t.valueOf)&&!i(s=e(n,t)))return s;if("string"!==r&&o(n=t.toString)&&!i(s=e(n,t)))return s;throw a("Can\'t convert object to primitive value")}},831:(t,r,n)=>{var e=n(4805),o=n(2026),i=n(4482),a=n(7338),s=n(6132),u=o([].concat);t.exports=e("Reflect","ownKeys")||function(t){var r=i.f(s(t)),n=a.f;return n?u(r,n(t)):r}},1126:(t,r,n)=>{var e=n(5362),o=TypeError;t.exports=function(t){if(e(t))throw o("Can\'t call method on "+t);return t}},6566:(t,r,n)=>{var e=n(1241),o=n(6228),i=e("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},8841:(t,r,n)=>{var e=n(6487),o=n(8746),i="__core-js_shared__",a=e[i]||o(i,{});t.exports=a},1241:(t,r,n)=>{var e=n(4680),o=n(8841);(t.exports=function(t,r){return o[t]||(o[t]=void 0!==r?r:{})})("versions",[]).push({version:"3.26.1",mode:e?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6927:(t,r,n)=>{var e=n(9699),o=n(9295);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&e&&e<41}))},6582:(t,r,n)=>{var e=n(5341),o=Math.max,i=Math.min;t.exports=function(t,r){var n=e(t);return n<0?o(n+r,0):i(n,r)}},6525:(t,r,n)=>{var e=n(3642),o=TypeError;t.exports=function(t){var r=e(t,"number");if("number"==typeof r)throw o("Can\'t convert number to bigint");return BigInt(r)}},6593:(t,r,n)=>{var e=n(7093),o=n(1126);t.exports=function(t){return e(o(t))}},5341:(t,r,n)=>{var e=n(9437);t.exports=function(t){var r=+t;return r!=r||0===r?0:e(r)}},6344:(t,r,n)=>{var e=n(5341),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},7554:(t,r,n)=>{var e=n(1126),o=Object;t.exports=function(t){return o(e(t))}},3642:(t,r,n)=>{var e=n(6787),o=n(8722),i=n(942),a=n(1766),s=n(6685),u=n(6251),c=TypeError,f=u("toPrimitive");t.exports=function(t,r){if(!o(t)||i(t))return t;var n,u=a(t,f);if(u){if(void 0===r&&(r="default"),n=e(u,t,r),!o(n)||i(n))return n;throw c("Can\'t convert object to primitive value")}return void 0===r&&(r="number"),s(t,r)}},5422:(t,r,n)=>{var e=n(3642),o=n(942);t.exports=function(t){var r=e(t,"string");return o(r)?r:r+""}},1198:(t,r,n)=>{var e={};e[n(6251)("toStringTag")]="z",t.exports="[object z]"===String(e)},4563:t=>{var r=String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},6228:(t,r,n)=>{var e=n(2026),o=0,i=Math.random(),a=e(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},5083:(t,r,n)=>{var e=n(6927);t.exports=e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8149:(t,r,n)=>{var e=n(3522),o=n(9295);t.exports=e&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},995:(t,r,n)=>{var e=n(6487),o=n(6399),i=e.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},6251:(t,r,n)=>{var e=n(6487),o=n(1241),i=n(5971),a=n(6228),s=n(6927),u=n(5083),c=o("wks"),f=e.Symbol,h=f&&f.for,l=u?f:f&&f.withoutSetter||a;t.exports=function(t){if(!i(c,t)||!s&&"string"!=typeof c[t]){var r="Symbol."+t;s&&i(f,t)?c[t]=f[t]:c[t]=u&&h?h(r):l(r)}return c[t]}},817:(t,r,n)=>{"use strict";var e=n(815),o=n(7554),i=n(8773),a=n(5396),s=n(6054),u=n(9295)((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}();e({target:"Array",proto:!0,arity:1,forced:u||c},{push:function(t){var r=o(this),n=i(r),e=arguments.length;s(n+e);for(var u=0;u<e;u++)r[n]=arguments[u],n++;return a(r,n),n}})},5630:(t,r,n)=>{"use strict";var e=n(3405),o=n(1313),i=o.aTypedArray,a=o.exportTypedArrayMethod,s=o.getTypedArrayConstructor;a("toReversed",(function(){return e(i(this),s(this))}))},6337:(t,r,n)=>{"use strict";var e=n(1313),o=n(2026),i=n(3518),a=n(8338),s=e.aTypedArray,u=e.getTypedArrayConstructor,c=e.exportTypedArrayMethod,f=o(e.TypedArrayPrototype.sort);c("toSorted",(function(t){void 0!==t&&i(t);var r=s(this),n=a(u(r),r);return f(n,t)}))},1564:(t,r,n)=>{"use strict";var e=n(5703),o=n(1313),i=n(1020),a=n(5341),s=n(6525),u=o.aTypedArray,c=o.getTypedArrayConstructor,f=o.exportTypedArrayMethod,h=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();f("with",{with:function(t,r){var n=u(this),o=a(t),f=i(n)?s(r):+r;return e(n,c(n),o,f)}}.with,!h)}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";n(5630),n(6337),n(1564),n(817);let t;function r(t,r,n=1e-6){return Math.abs(t-r)<n}function e(t){return t.toString(16).padStart(2,"0")}function o(t){return`${parseFloat((100*t).toFixed(1))}%`}function i(t){t=t.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,(function(t,r,n,e){return r+r+n+n+e+e}));const r=/^#?(?<r>[a-f\\d]{2})(?<g>[a-f\\d]{2})(?<b>[a-f\\d]{2})(?<a>[a-f\\d]{2})?$/i.exec(t),n=r?.groups?.r,e=r?.groups?.g,o=r?.groups?.b,i=r?.groups?.a;if(void 0===n||void 0===e||void 0===o)throw new Error(`Invalid hex color code "${t}"`);return{r:n,g:e,b:o,a:i}}function a(t){const{a:r}=i(t);if(!r)return 1;return function(t,r,n){const e=t.toLocaleString("en",{useGrouping:!1,minimumFractionDigits:r,maximumFractionDigits:n});return Number(e)}(parseInt(r,16)/255,0,2)}!function(t){t[t.HEX=0]="HEX",t[t.HEXA=1]="HEXA",t[t.RGB=2]="RGB",t[t.RGBA=3]="RGBA",t[t.HSL=4]="HSL",t[t.HSLA=5]="HSLA"}(t||(t={}));function s(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function u({rgb:{r:t,g:r,b:n}}){return.2126*s(t/255)+.7152*s(r/255)+.0722*s(n/255)}function c(t,r){const n=u(t),e=u(r);return(Math.max(n,e)+.05)/(Math.min(n,e)+.05)}class f{constructor(t,r,n,e=1){this.rgb=t,this.hsl=r,this.hsv=n,this.a=e}static BLACK=f.fromRGB({r:0,g:0,b:0});static WHITE=f.fromRGB({r:255,g:255,b:255});static fromRGB(t,n){if(t.r<0||t.g<0||t.b<0||t.r>255||t.g>255||t.b>255||n&&n<0||n&&n>1)throw Error(`Invalid RGB color: ${JSON.stringify(t)}, alpha: ${n}`);const e=function({r:t,g:n,b:e}){const o=t/255,i=n/255,a=e/255,s=Math.max(o,i,a),u=Math.min(o,i,a),c=s-u;let f;const h=(s+u)/2,l=s;f=r(c,0)?0:r(l,o)?60*(0+(i-a)/c):r(l,i)?60*(2+(a-o)/c):60*(4+(o-i)/c),f%=360,f<0&&(f+=360);const p=0===h||1===h?0:(l-h)/Math.min(h,1-h);return{h:Math.round(f),s:p,l:h}}(t),o=function({r:t,g:n,b:e}){const o=t/255,i=n/255,a=e/255,s=Math.max(o,i,a),u=s-Math.min(o,i,a);let c;const f=s;c=r(u,0)?0:r(f,o)?60*(0+(i-a)/u):r(f,i)?60*(2+(a-o)/u):60*(4+(o-i)/u),c%=360,c<0&&(c+=360);const h=0===f?0:u/f;return{h:Math.round(c),s:h,v:f}}(t);return new f(t,e,o,n)}static fromHex(t,r){const n=function(t){const{r,g:n,b:e}=i(t);return{r:parseInt(r,16),g:parseInt(n,16),b:parseInt(e,16)}}(t),e=a(t);return f.fromRGB(n,r??e)}static fromHSV(t,r){const n=function({h:t,s:r,v:n}){const e=n*r,o=t/60,i=e*(1-Math.abs(o%2-1));let a;a=o>=0&&o<=1?[e,i,0]:o>1&&o<=2?[i,e,0]:o>2&&o<=3?[0,e,i]:o>3&&o<=4?[0,i,e]:o>4&&o<=5?[i,0,e]:o>5&&o<=6?[e,0,i]:[0,0,0];const s=n-e;return{r:Math.round(255*(a[0]+s)),g:Math.round(255*(a[1]+s)),b:Math.round(255*(a[2]+s))}}(t);return f.fromRGB(n,r)}static fromHSL(t,r){const n=function({h:t,s:r,l:n}){const e=(1-Math.abs(2*n-1))*r,o=t/60,i=e*(1-Math.abs(o%2-1));let a;a=o>=0&&o<=1?[e,i,0]:o>1&&o<=2?[i,e,0]:o>2&&o<=3?[0,e,i]:o>3&&o<=4?[0,i,e]:o>4&&o<=5?[i,0,e]:o>5&&o<=6?[e,0,i]:[0,0,0];const s=n-e/2;return{r:Math.round(255*(a[0]+s)),g:Math.round(255*(a[1]+s)),b:Math.round(255*(a[2]+s))}}(t);return f.fromRGB(n,r)}static fromCSS(t,r){const n=function(t,r){const n=t.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/);if(n){const[t,e,o,i]=n.slice(1),a=r??parseFloat(i);return f.fromRGB({r:parseInt(t,10),g:parseInt(e,10),b:parseInt(o,10)},Number.isNaN(a)?void 0:a)}return null}(t,r);if(n)return n;const e=function(t,r){const n=t.match(/^#([0-9a-f]{3}|[0-9a-f]{6}|[0-9a-f]{8})$/i);if(n){const t=n[1];return f.fromHex(t,r)}return null}(t,r);if(e)return e;const o=function(t,r){const n=t.match(/^hsla?\\((\\d+),\\s*(\\d+)%,\\s*(\\d+)%(?:,\\s*(\\d*(?:\\.\\d+)?))?\\)$/);if(n){const[t,e,o,i]=n.slice(1),a=r??parseFloat(i);return f.fromHSL({h:parseInt(t,10),s:parseInt(e,10)/100,l:parseInt(o,10)/100},Number.isNaN(a)?void 0:a)}return null}(t,r);if(o)return o;throw new Error(`Invalid or unsupported CSS color: ${t}`)}toCSS(r){switch(r){case t.HEX:return`#${e((n=this).rgb.r)}${e(n.rgb.g)}${e(n.rgb.b)}`;case t.HEXA:return function(t){return`#${e(t.rgb.r)}${e(t.rgb.g)}${e(t.rgb.b)}${e(Math.floor(255*t.a))}`}(this);case t.RGB:return function(t){return`rgb(${t.rgb.r}, ${t.rgb.g}, ${t.rgb.b})`}(this);case t.RGBA:return function(t){return`rgba(${t.rgb.r}, ${t.rgb.g}, ${t.rgb.b}, ${t.a})`}(this);case t.HSL:return function(t){const{h:r,s:n,l:e}=t.hsl;return`hsl(${r}, ${o(n)}, ${o(e)})`}(this);case t.HSLA:return function(t){const{h:r,s:n,l:e}=t.hsl;return`hsla(${r}, ${o(n)}, ${o(e)}, ${t.a})`}(this);default:throw new Error("Invalid or unsupported CSSColorFormat!")}var n}contrastAdjust(t,r=4.5){let n=f.BLACK;return"light"===t&&(n=f.WHITE),function(t,r,n){if(r!==f.BLACK&&r!==f.WHITE)throw new Error("Only supports contrast calculation between black and white.");let e=c(t,r);if(e>=n)return t;let o=t.hsv.v,i=r===f.WHITE?-.02:.02,a=Number.MAX_VALUE,s=null;for(let r=0;r<100&&a>.07&&o>=0&&o<=1;r++){o=Math.min(o+i,1),s=f.fromHSV({h:t.hsv.h,s:t.hsl.s,v:o}),e=c(s,f.WHITE);const r=Math.round(10*Math.abs(e-n))/10;r>a&&(i*=-.5),a=r}return null===s?t:s}(this,n,r)}toString(){return`${this.rgb.r},${this.rgb.g},${this.rgb.b},${this.a}`}stringify(){return JSON.stringify(this)}static parse(t){const{rgb:r,hsl:n,hsv:e,a:o}=JSON.parse(t);return new f(r,n,e,o)}}class h{constructor(t,r){this.color=t,this.population=r}static fromColor(t,r){return new h(t,r)}static fromRGB(t,r){return new h(f.fromRGB(t),r)}}class l{constructor(t,r=[]){this._comparator=t,this._data=r}swap(t,r){[this._data[t],this._data[r]]=[this._data[r],this._data[t]]}compare(t,r){return this._comparator(this._data[t],this._data[r])}bubbleUp(t){for(;t>0;){const r=t-1>>>1;if(this.compare(t,r)>=0)break;this.swap(t,r),t=r}}bubbleDown(t){const r=this._data.length;for(;;){const n=1+(t<<1),e=n+1;let o=t;if(n<r&&this.compare(n,o)<=0&&(o=n),e<r&&this.compare(e,o)<0&&(o=e),o===t)break;this.swap(o,t),t=o}}size(){return this._data.length}push(t){this._data.push(t),this.bubbleUp(this._data.length-1)}pop(){if(0===this._data.length)return null;this.swap(0,this._data.length-1);const t=this._data.pop();return this.bubbleDown(0),t}clone(){return new l(this._comparator,[...this._data])}*popAll(){for(;this._data.length>0;)yield this.pop()}}const p=31;function g(t){const r=(t>>>10&31)<<3,n=(t>>>5&31)<<3,e=(t>>>0&31)<<3;return f.fromRGB({r,g:n,b:e})}function v(t,r){return Math.round((t>>>3)/r)<<3}function b({rgb:{r:t,g:r,b:n}},{rgb:{r:e,g:o,b:i}}){return t*p*p+r*p+n-(e*p*p+o*p+i)}function y({rgb:{r:t,g:r,b:n}},{rgb:{r:e,g:o,b:i}}){return r*p*p+t*p+n-(o*p*p+e*p+i)}function d({rgb:{r:t,g:r,b:n}},{rgb:{r:e,g:o,b:i}}){return n*p*p+r*p+t-(i*p*p+o*p+e)}class m{constructor(t,r){this.min=t,this.max=r}size(){return this.max-this.min+1}clampTo(t){this.min=this.max=t}extendTo(t){this.min=Math.min(this.min,t),this.max=Math.max(this.max,t)}}class w{_population=0;_spanR=new m(0,0);_spanG=new m(0,0);_spanB=new m(0,0);constructor(t){this._swatches=t,this.fitBox()}getVolume(){return this._spanR.size()*this._spanG.size()*this._spanB.size()}getColorCount(){return this._swatches.length}getAverageColor(){let t=0,r=0,n=0,e=0;for(const{color:o,population:i}of this._swatches)e+=i,t+=i*o.rgb.r,r+=i*o.rgb.g,n+=i*o.rgb.b;const o=v(t,e),i=v(r,e),a=v(n,e);return h.fromRGB({r:o,g:i,b:a},e)}canSplit(){return this.getColorCount()>1}split(){if(!this.canSplit())throw new Error("Can not split a box with only 1 color");const t=this.findSplitPoint(),r=new w(this._swatches.slice(t+1,this._swatches.length));return this._swatches.splice(t+1),this.fitBox(),r}fitBox(){this._population=0;for(let t=0;t<this._swatches.length;t++){const{color:r,population:n}=this._swatches[t];this._population+=n,0===t?(this._spanR.clampTo(r.rgb.r),this._spanG.clampTo(r.rgb.g),this._spanB.clampTo(r.rgb.b)):(this._spanR.extendTo(r.rgb.r),this._spanG.extendTo(r.rgb.g),this._spanB.extendTo(r.rgb.b))}}findSplitPoint(){const t=this.getLongestDimensionComparator();this._swatches.sort(((r,n)=>t(r.color,n.color)));const r=Math.floor(this._population/2);for(let t=0,n=0;t<this._swatches.length;t++)if(n+=this._swatches[t].population,n>=r)return Math.min(this._swatches.length-1,t);return 0}getLongestDimensionComparator(){const t=this._spanR.size(),r=this._spanG.size(),n=this._spanB.size();return t>=r&&t>=n?b:r>=t&&r>=n?y:d}}class x{queue=new l(((t,r)=>r.getVolume()-t.getVolume()));_swatches=[];constructor(t){this._options=t}static fromPixels(t,r){return new x(r).quantize(t)}quantize(t){const r=new Array(32768).fill(0);let n=0,e=0,o=0;for(let e=t.next();!e.done;e=t.next()){n++;r[((i=e.value)>>>0&255)>>3<<10|(i>>>8&255)>>3<<5|(i>>>16&255)>>3]++}var i;for(let t=0;t<r.length;t++){const n=r[t];if(0===n)continue;const i=g(t);(void 0===this._options.filter||this._options.filter(i))&&(e++,o+=i.hsv.s,this._swatches.push(h.fromColor(i,n)))}return this._swatches.length>this._options.maxColors&&(this._swatches=this.quantizePixels(this._options.maxColors)),{swatches:this._swatches,totalPixels:n,totalColors:e,totalSaturationFromHSV:o}}quantizePixels(t){this.queue.push(new w(this._swatches)),this.splitBoxes(t);const r=Array.from(this.queue.popAll()).map((t=>t.getAverageColor())),n=this._options.filter;return void 0!==n?r.filter((t=>n(t.color))):r}splitBoxes(t){for(;this.queue.size()<t;){const t=this.queue.pop();if(null===t||!t.canSplit())return;this.queue.push(t.split()),this.queue.push(t)}}}function _(t,r){return t.reduce(((t,n)=>null!==t&&r(t)>r(n)?t:n),null)}function A(t,r,n){return(t-r)/(n-r)}function S(t){return(t%=360)<0?360+t:t}function M(t,r){const n=function(t){let r=Number.MAX_VALUE;for(const n of t)r=Math.min(r,n);r=-1*Math.abs(r);let n=0,e=360;for(const o of t){const t=S(o+r);t<180&&t>n&&(n=t),t>=180&&t<e&&(e=t)}return n=S(n-r),e=S(e-r),{hue1:Math.min(n,e),hue2:Math.max(n,e)}}(t);let e=0;return r>=n.hue1&&r<=n.hue2?A(S(r),n.hue1,n.hue2):(e=360-n.hue2,A(S(r+e),0,S(n.hue1+e)))}function T(t,r){const n=t.map((t=>t.color.hsv.h)),e=function(t){let r=0,n=0;for(const e of t)r+=Math.cos(e/180*Math.PI),n+=Math.sin(e/180*Math.PI);const e=r/t.length,o=n/t.length,i=180*Math.atan2(o,e)/Math.PI%360;return i>=0?i:360-Math.abs(i)}(n),o=M(n,e);return o>.4||o<.6?t.filter((t=>{return t.population/r>.02||(n=t.color.hsv.h,o=e,i=45,Math.min(Math.abs(o-n),360-Math.abs(o-n))<i);var n,o,i})):t}function O({color:{hsv:t},population:r},n,e){return(n?1:function(t){const r=function(t,r,n){const e=(n-r)/2+r-r,o=t-r,i=(e-Math.abs(e-o))/e;return Math.max(0,Math.min(i,1))}(t,30,80);return-1*Math.abs(2*r)}(t.h))+r/e+t.s*t.v}const E={min:.3,target:.5,max:.7},I={min:0,target:.26,max:.45},R={min:.55,target:.74,max:1},j={min:.35,target:1,max:1},C={min:0,target:.3,max:.4},P={saturation:.24,luminance:.52,population:.24},B={vibrantLight:{lightness:R,saturation:j,weights:P},vibrant:{lightness:E,saturation:j,weights:P},vibrantDark:{lightness:I,saturation:j,weights:P},mutedLight:{lightness:R,saturation:C,weights:P},muted:{lightness:E,saturation:C,weights:P},mutedDark:{lightness:I,saturation:C,weights:P}},$=h.fromRGB({r:83,g:83,b:83},1),G=h.fromRGB({r:83,g:83,b:83},1),L=h.fromRGB({r:127,g:127,b:127},1);function D(t,r){const{color:{hsl:n}}=t;return n.s>=r.saturation.min&&n.s<=r.saturation.max&&n.l>=r.lightness.min&&n.l<=r.lightness.max}function F(t,r,n){const{color:{hsl:e}}=t;let o=0,i=0,a=0;return r.weights.saturation>0&&(o=r.weights.saturation*(1-Math.abs(e.s-r.saturation.target))),r.weights.luminance>0&&(i=r.weights.luminance*(1-Math.abs(e.l-r.lightness.target))),r.weights.population>0&&(a=r.weights.population*(t.population/n)),o+i+a}function H(t,r,n,e,o=B){const i=new Set,a=_(t,(t=>t.population)),s={};for(const[r,n]of Object.entries(o)){const e=_(t.filter((t=>!i.has(t.color.toString()))).filter((t=>D(t,n))),(t=>F(t,n,a?.population||1)));null!==e&&(s[r]=e,i.add(e.color.toString()))}const u=function(t,r,n,e){const o=e/n;if(o<.1)return null;const i=t.filter((t=>t.population/r>=.0016)).filter((t=>!(o>=.2)||function({hsv:t}){return(t.v>.85||t.v<.15)&&t.s<.2||t.v<.15||t.s<.2||t.s<.2&&t.v<.4?0:(t.v+t.s)/2}(t.color)>=.3));if(0===i.length)return null;const a=T(i,r),s=function(t){return t.map((t=>t.color.hsv.h)).every((t=>t>=30&&t<=80))}(a);return _(a,(t=>O(t,s,r)))}(Object.values(s),r,n,e),c=u?h.fromColor(u.color.contrastAdjust("dark"),1):null,f=u?h.fromColor(u.color.contrastAdjust("light"),1):null;return{dominantSwatch:a,visRefSwatch:u||$,visRefDarkSwatch:c||G,visRefLightSwatch:f||L,visRefIsFallback:null===u,targetSwatches:s}}let z;!function(t){t[t.ARRAY_BUFFER=0]="ARRAY_BUFFER",t[t.IMAGE_BITMAP=1]="IMAGE_BITMAP"}(z||(z={}));const N=self;const k=t=>!function({hsl:t}){return t.l<=.05}(t)&&!function({hsl:t}){return t.l>=.95}(t)&&!function({hsl:t}){return t.h>=10&&t.h<=37&&t.s<=.82}(t)&&function({hsv:t}){return t.v>.2}(t);N.addEventListener("message",(t=>{const[r,n]=t.data,e=function(t){if(t.source===z.IMAGE_BITMAP){const r=t.data,n=new OffscreenCanvas(r.width,r.height).getContext("2d");return n.drawImage(r,0,0,r.width,r.height),n.getImageData(0,0,r.width,r.height).data.buffer}return t.data}(n),o=function*(t,r){const n=new Uint32Array(t),e=Math.ceil(n.length/r);for(let t=0;t<n.length;t+=e)yield n[t]}(e,2e4),i=x.fromPixels(o,{maxColors:16,filter:k}),{visRefSwatch:a,visRefDarkSwatch:s,visRefLightSwatch:u}=H(i.swatches,i.totalPixels,i.totalColors,i.totalSaturationFromHSV);N.postMessage([r,{colorRawJson:a.color.stringify(),colorLightJson:u.color.stringify(),colorDarkJson:s.color.stringify()}])}))})()})();\n',"Worker",void 0,void 0)};let c=0;async function f(t){const r=c++,n=new Promise(((t,n)=>{u.addEventListener("message",(n=>{const[o,i]=n.data;o===r&&t({colorRaw:e.I.parse(i.colorRawJson),colorDark:e.I.parse(i.colorDarkJson),colorLight:e.I.parse(i.colorLightJson)})})),u.addEventListener("error",n)}));return u.postMessage([r,t],[t.data]),await n}async function h(t){let r;try{r=await async function(t){const r=new Image;return r.crossOrigin="anonymous",function(t){const r=0===t.indexOf("spotify:image:"),n=0===t.indexOf("spotify:mosaic:");return r||n}(t)?r.src=`https://local-image.spotify.com?uri=${encodeURIComponent(t)}`:r.src=t,await r.decode(),r}(t)}catch(t){return Promise.resolve(s.ab)}const n=r.naturalWidth,e=r.naturalHeight;if("createImageBitmap"in window&&"OffscreenCanvas"in window){const t=await window.createImageBitmap(r);return await async function(t){return await f({source:o.IMAGE_BITMAP,data:t})}(t)}const i=document.createElement("canvas"),a=i.getContext("2d");return i.width=n,i.height=e,a.drawImage(r,0,0,n,e),await async function(t){return await f({source:o.ARRAY_BUFFER,data:t.data.buffer})}(a.getImageData(0,0,n,e))}}}]);
//# sourceMappingURL=7370.js.map