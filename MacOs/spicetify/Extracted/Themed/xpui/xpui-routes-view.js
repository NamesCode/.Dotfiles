"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[6450],{22578:(e,t,n)=>{n.d(t,{$:()=>m});n(26699),n(32023),n(69600),n(68309),n(21249);var r=n(67294),a=n(64593),o=n(96206),i=n(69691),l=n(8341),c=n(89952),u=n(51615),s=n(24183);function v(e){return e.includes("Spotify")?e:"Spotify – ".concat(e)}var m=function(e){var t,n,m,f,d,p,g,b=e.children,y=e.usePlayingItem,h=v(b);t=b,f=(0,s.Oh)().mainLandmarkRef,d=(0,u.k6)(),p=null===(n=d.location)||void 0===n||null===(m=n.state)||void 0===m?void 0:m.preventMoveFocus,(g=(0,r.useRef)(d.length<2)).current=d.length<2,(0,r.useEffect)((function(){var e=f.current;!p&&!g.current&&e&&t&&(e.setAttribute("aria-label",t),e.focus())}),[t,f,p]);var E=(0,i.IK)().isPlaying,w=(0,l.Y)((function(e){return null==e?void 0:e.item}));return w&&(E||y)&&((0,c.G_)(w)?h=[w.name,w.artists.map((function(e){return e.name})).join(o.ag.getSeparator())].join(" • "):(0,c.iw)(w)?h=[w.name,w.show.name].join(" • "):(0,c.k6)(w)&&(h=v(o.ag.get("ad-formats.advertisement")))),r.createElement(a.q,{defaultTitle:"Spotify",defer:!1},r.createElement("title",null,h))}},70369:(e,t,n)=>{n.d(t,{$:()=>r.$});var r=n(22578)},82630:(e,t,n)=>{n.r(t),n.d(t,{DISALLOWED_VIEWS:()=>H,View:()=>U,default:()=>z});var r=n(4942),a=(n(57327),n(41539),n(68309),n(5212),n(26699),n(32023),n(79753),n(74916),n(4723),n(27852),n(67294)),o=n(94184),i=n.n(o),l=n(86706),c=n(14908),u=n(96206),s=n(95888),v=n(37081),m=n(49552),f=n(70937),d=n(15852),p=n(21794),g=n(70369),b=n(60289),y=n(59482),h=n(72907),E=n(6158),w=(n(15306),n(23157),n(21249),n(82526),n(41817),n(47941),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(54543)),O=n(18686),k=n(42922),P=n(32667),j=n(87577),x=n(49207),D=n(67892);const I="EPMDgp7znILo0hvyirzv",A="noUm6pjQ6KWq7mVxYDor",N="PqnKjxzJ1Zvr9qKRlRbO",S="uuBQS9Ym_VPmAQrLhPQb";var C=function(e){return(0,j.W6)(x.sE)?a.createElement(D.Z,{to:e.uri,target:"_blank",className:I},a.createElement("div",{className:A}),a.createElement(P.D,{className:N,as:"h2",variant:"alto"},e.label),a.createElement(P.D,{className:S,as:"p",variant:"mesto"},e.tagline)):null},M=function(e){return a.createElement(a.Suspense,{fallback:null},a.createElement(C,e))};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(e){var t;return null===(t=e.id)||void 0===t?void 0:t.startsWith("scc-corona")},F=function(e){var t=e.spaces,n=e.viewName,r=e.viewId,o=e.isAnonymous,i=(0,a.useCallback)((function(e,t){var n=function(e,t){var n=e.uri;return e.href.includes("https://api.spotify.com/v1/views/")&&(n=e.href.replace("https://api.spotify.com/v1/views/","spotify:genre:"),"hub-browse-grid"===t&&(n=n.replace(":view:",":genre:"))),n}(e,r);return a.createElement(w.q,{key:e.href,index:t,entity:L(L({},e),{},{uri:n})})}),[r]),l=(0,a.useCallback)((function(e,t){return a.createElement(k.JL,{key:e.uri||t,value:"card",index:t},a.createElement(w.q,{index:t,entity:e}))}),[]),c=(0,a.useCallback)((function(e,t){return"link"===e.type?i(e,t):l(e,t)}),[l,i]),u=(0,a.useCallback)((function(e){return!!q(e)||!(function(e){return"HEADER"===e.rendering}(e)||0===e.content.total||o&&"uniquely-yours-shelf"===e.id)}),[o]);return t&&0!==t.length?t[0].content?a.createElement(a.Fragment,null,t.filter(u).map((function(e,t){var n=e.content&&(0,p.p)((0,p.S)(e.href));if(q(e)){var o=e.content.items[0];return o&&o.name&&o.description&&o.href?a.createElement(M,{key:"corona-banner",label:o.name,tagline:o.description,uri:o.href}):null}return a.createElement(k.JL,{value:"headered-grid",index:t,key:e.id},a.createElement(O.q,{total:e.content.total,seeAllUri:n,pageId:r,title:e.name,tagline:e.tag_line||void 0,index:t,id:e.id},e.content.items.map(c)))}))):a.createElement(k.JL,{value:"headered-grid"},a.createElement(O.q,{showAll:!0,title:n,total:(null==t?void 0:t.length)||0,index:0,id:null!=r?r:"spaces-see-all-grid"},null==t?void 0:t.map(c))):null},R=n(29255);const W="XD65NhAD6ebYxMaW9cZZ",G="AJqEY1gblQDvIgjU0jAH",Q="Ft1cMGlqDsCbqmXQyeKN",T="zlBEnsMyvUhuHSEtst4Q",V="INYpiFRlwWIZ0vH30xW2";var Y=function(e){return"HEADER"===e.rendering},_=function(e){var t=e.title,n=e.images,r=e.backgroundColor;return a.createElement(a.Fragment,null,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(!e)return a.createElement("div",{className:V});var r=t.filter((function(e){return"background"===e.name}));return a.createElement(b.gF,{backgroundImages:r,backgroundColor:n,size:0===r.length?b.fR.SMALL:b.fR.DEFAULT},a.createElement(y.W,null,a.createElement(h.i,{text:e})),a.createElement(b.sP,null,a.createElement(b.xd,null,e)))}(t,n,r))},H=["ginger-genre-affinity"],U=a.memo((function(e){var t=e.viewData,n=e.viewId,o=e.backgroundColor,l=e.isFullyLoaded,m=e.isGenre,p=e.isAnonymous,y=e.getNextPage,h=null==t?void 0:t.name,w=(0,d.fU)(c.createDesktopGenreEventFactory,{data:{identifier:n,uri:"spotify:genre:".concat(n)}}),O=w.spec,k=w.UBIFragment,P=(0,a.useCallback)((function(){return H.some((function(e){var n;return null==t||null===(n=t.href)||void 0===n?void 0:n.includes(e)}))}),[t]),j=(0,a.useCallback)((function(){if(t){var e=P();l||e||y()}}),[t,P,l,y]),x=(0,a.useMemo)((function(){var e=(t||{}).content,n=(e=void 0===e?{}:e).items,r=(void 0===n?[]:n).filter(Y);return r.length>0?r[0]:null}),[t]),D=(0,a.useMemo)((function(){var e=(t||{}).name;return x?x.name:o&&e}),[o,x,t]),I=(0,a.useMemo)((function(){return m||Boolean(D)}),[m,D]),A=(0,a.useMemo)((function(){return!(!t||!Array.isArray(t.content.items))&&I}),[I,t]),N=(0,b.oX)(n)?a.createElement(b.YD,{isAnonymous:p}):a.createElement(_,{title:(null==x?void 0:x.name)||D,images:(null==x?void 0:x.images)||[],backgroundColor:o}),S=null==t?void 0:t.content.items,C=(0,a.useMemo)((function(){return O.shelvesFactory()}),[O]);return t?a.createElement(a.Fragment,null,h?a.createElement(g.$,null,h):null,a.createElement(f.C,{onReachBottom:j},a.createElement("section",{className:W},A&&a.createElement(v.H,{color:o||null}),I?N:a.createElement("div",{className:V}),a.createElement("div",{className:Q},I&&N&&a.createElement(s.I,{backgroundColor:o}),a.createElement("div",{className:i()(G,"contentSpacing",(0,r.Z)({},T,m))},a.createElement(k,{spec:C},a.createElement(F,{spaces:S,viewName:t.name,viewId:n,isAnonymous:p}))))))):a.createElement(E.h,{hasError:!1,errorMessage:u.ag.get("error.not_found.title.page")})}));const z=a.memo((function(e){var t=e.viewId,n=e.match,r=t||n.params.viewId,o=(0,l.v9)(R.Gg).isAnonymous,i=(0,m.P)(r),c=i.view,u=i.getNextPage,s=!c||null===c.content.next,v=r.endsWith("-page")?r:"".concat(r,"-page"),f=(0,l.v9)((function(e){var t,n;return(null===(t=e.browse.allItemsStyle)||void 0===t||null===(n=t[v])||void 0===n?void 0:n.color)||""})),d=function(e){return e.viewId===r||"href"in e&&e.href===(0,p.p)(r)},g=(0,l.v9)((function(e){var t,n,r,a;return(null==e||null===(t=e.browse)||void 0===t||null===(n=t.browseAll)||void 0===n?void 0:n.items.some(d))||(null==e||null===(r=e.browse)||void 0===r||null===(a=r.topGenres)||void 0===a?void 0:a.items.some(d))||!!f}));return a.createElement(U,{viewData:c,isFullyLoaded:s,viewId:r,backgroundColor:f,isGenre:g,isAnonymous:o,getNextPage:u})}))},49552:(e,t,n)=>{n.d(t,{P:()=>y});var r=n(4942),a=n(15861),o=(n(85827),n(41539),n(92222),n(47941),n(82526),n(57327),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(87757)),i=n.n(o),l=n(67294),c=n(88767),u=n(87961),s=n(6024),v=(n(69600),n(86706)),m=n(87577),f=n(94321),d=n(29255),p=n(8247);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e,t){var n,r,o,u,s,g,y,E,O,k=(o=(0,m.W6)(p.Xf),u=(0,v.v9)(f.rZ),s=(0,v.v9)(d.Gg),g=s.locale,y=s.overrides,E=(null==y?void 0:y.country)||u,O=(null==y?void 0:y.locale)||g,(0,l.useMemo)((function(){var e=["album","playlist","artist","show","station","episode"];return o&&e.push("uri_link"),{country:E,locale:O,types:e.join(",")}}),[E,o,O])),P=(0,c.useInfiniteQuery)(["useView",e,k],function(){var t=(0,a.Z)(i().mark((function t(n){var r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.pageParam,a=void 0===r?void 0:r,t.abrupt("return",void 0===a?h(e,k):w(a));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{cacheTime:null!==(n=null==t?void 0:t.cacheTime)&&void 0!==n?n:18e5,staleTime:null!==(r=null==t?void 0:t.staleTime)&&void 0!==r?r:3e5,getNextPageParam:function(e){var t;return null!==(t=e.content.next)&&void 0!==t?t:void 0},getPreviousPageParam:function(e){var t;return null!==(t=e.content.previous)&&void 0!==t?t:void 0}}),j=P.data,x=P.fetchNextPage;return{view:(0,l.useMemo)((function(){return null==j?void 0:j.pages.reduce((function(e,t){return b(b({},e),{},{content:b(b({},e.content),{},{href:t.content.href,next:t.content.next,offset:t.content.offset,previous:t.content.previous,total:t.content.total,items:e.content.items.concat(t.content.items)})})}))}),[null==j?void 0:j.pages]),getNextPage:x}};function h(e,t){return E.apply(this,arguments)}function E(){return(E=(0,a.Z)(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.kO.getView(u.b.getInstance(),t,n);case 2:return r=e.sent,a=r.body,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return O.apply(this,arguments)}function O(){return(O=(0,a.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.TV.getGeneric(u.b.getInstance(),t);case 2:return n=e.sent,r=n.body,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},70937:(e,t,n)=>{n.d(t,{C:()=>s});var r=n(4942),a=n(67294),o=n(97650),i=n(94184),l=n.n(i);const c="eqw9lvuoZHrkWMTdyTpY",u="lb08f71wES9AQnKx6e0R";var s=a.memo((function(e){var t,n=e.triggerOnInitialLoad,i=void 0!==n&&n,s=e.onReachBottom,v=e.showScrollbar,m=void 0===v||v,f=e.horizontalScroll,d=void 0!==f&&f,p=(0,o.YD)({initialInView:i}),g=p.ref,b=p.inView;return(0,a.useEffect)((function(){b&&s&&s()}),[b,s]),a.createElement("div",{className:l()((t={},(0,r.Z)(t,u,!m),(0,r.Z)(t,c,d),t)),"data-testid":"infinite-scroll-list"},e.children,a.createElement("div",{ref:g}))}))}}]);
//# sourceMappingURL=xpui-routes-view.js.map