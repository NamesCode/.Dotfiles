"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7288],{45844:(e,t,a)=>{a.d(t,{Z:()=>f});var s=a(59496),r=a(88778),n=a(25007),i=a(91800),c=a(43304),l=a(41299),o=a(35973),d=a(81888);const h="MUiWCNTfb6FcSwVPvQ1V",m="UAk3bMhekwJTV_wIyfsT",g="QHo82lWWkjoCkDa6baB3",x="X9w6LPfKsZHMCs38sVIQ",u="NXn5KjeUOjLGlAfS1Gao",j="N0wgFMDDvCiby4QB5kLJ",p="nloNe2BLRHjz9dxlwfLU",v="JzXND83mXvcEuntCNR34",y="GR08E4L_rOGljyQQX30R";var N=a(4637);const f=(0,s.memo)((e=>{const{concert:t,isVirtual:a,onClick:s}=e,{venue:f,location:k}=t,D=t.artists[0],b=(0,o.CH)(t.startDate.localDate);return(0,N.jsxs)(i.r,{to:`/concert/${t.id}`,className:h,onClick:s,children:[D.imageUri&&(0,N.jsx)(c.Z,{children:(0,N.jsx)("div",{role:"img",className:y,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${D.imageUri})`}})}),(0,N.jsx)("time",{className:m,dateTime:t.startDate.localDate,children:(0,N.jsx)(r.D,{as:"h5",variant:"minuetBold",className:g,children:(0,o.jx)(b)})}),(0,N.jsxs)("div",{className:x,dir:"auto",children:[(0,N.jsxs)(r.D,{as:"h2",className:v,variant:"minuetBold",children:[(0,l.FO)(b)," • ",(0,o.hK)(b)]}),(0,N.jsx)(r.D,{as:"h2",variant:"cello",weight:"bold",className:u,children:(0,d.ij)(t)}),(0,N.jsx)("div",{className:j,children:(0,N.jsx)(r.D,{as:"h2",className:p,variant:"mesto","data-testid":"location-name",children:a?f:[f,k].join(n.ag.getSeparator())})})]})]})}))},65776:(e,t,a)=>{a.r(t),a.d(t,{default:()=>be});var s=a(59689),r=a(86695),n=a(25007),i=a(4763),c=a(69647),l=a(63461),o=a(59496),d=a(88778),h=a(45190),m=a(25937),g=a(31716),x=a(91393),u=a(68415),j=a(21855),p=a(74307),v=a(77003),y=a(35973),N=a(81888),f=a(80274),k=a(50116),D=a(39625),b=a(29009),C=a(79489),_=a(20800),w=a(3723),P=a(4637);const U=o.memo((function({uri:e}){const{spec:t}=(0,C.T)(e);return(0,P.jsx)(b.ZP,{value:"concert",children:(0,P.jsxs)(D.v,{children:[(0,P.jsxs)(w.q,{children:[(0,P.jsx)(_.Jx,{spec:t,uri:e,displayText:n.ag.get("context-menu.copy-concert-link")}),(0,P.jsx)(_.W2,{spec:t,uri:e})]}),(0,P.jsx)(_.h$,{spec:t,uri:e})]})})}));var L=a(91800),I=a(68001),S=a(73414),T=a(61454),A=a(24400);const F="YpfopxY2udneDY34uzRN",K="KI_0F1jtTR5tWgl7gZ1E",E="gKtc3TdowDTXBaVESi1D",V="V8TIr8yJq4tYZfPEzm12",Z="VvL91cIRcCi1hJh0K845",M="vKcnOO1GNYoLKHg4T4lK",O="LdW0YNvo_Y77hgqhL4zY",$="cTkykhjfHxkEGKbxSxXw",R="XgeTnLs82tTjczDR6oKn",Y="P3fE7wn6Tqnibn3gljKV",z="A8LG_5Dvp7IiXDtdR571",H="OVY7plwgy_AKAzhgoCAF",Q="O0PSSw8ttrMn9lzq_L16",W="FtDMCmLKQUjVntZJ3OiI",G="D_ffrfn62aOgZKOFfZVr",J="OH4mOZCual2ejIodzIkL",X="se_ixDV6hBf7lve861oU",q="YDAJHPP5lDmg71SdvJZC",B="lKQxSRsi8KcoYx5D7mjh",ee=(0,o.memo)((e=>{const{concert:t,onClick:a}=e,{category:s,venue:r,location:n,lat:i,lon:c}=t;if("ONLINE"===s)return(0,P.jsx)(d.D,{as:"h3",variant:"canon",children:r});const l=new URL("https://maps.google.com/");return l.searchParams.set("q",`${r},${n}`),l.searchParams.set("ll",`${i},${c}`),(0,P.jsx)(L.Z,{to:l.href,target:"_blank",onClick:()=>a(l.href),children:(0,P.jsxs)(d.D,{as:"h3",variant:"canon",children:[r,", ",n]})})})),te=(0,o.memo)((e=>{const{concert:t,ticketAvailabilityTranslated:a,entitySpec:s}=e,r=(0,o.useMemo)((()=>s.ticketProviderListFactory()),[s]),i=(0,v.$P)(),c=(0,v.Wi)(r),l=(0,y.CH)(t.date),h=`spotify:concert:${t.id}`,m=(0,I.o)();if(0===t.ticketers.length)return null;if((0,y.OF)(t.date))return(0,P.jsxs)("div",{className:O,children:[(0,P.jsx)(d.D,{as:"h3",variant:"canon",children:n.ag.get("concert_event_ended")}),(0,P.jsx)(d.D,{variant:"ballad",children:(0,P.jsx)(L.Z,{to:"spotify:concerts",children:n.ag.get("concert_past_message")})})]});return(0,P.jsxs)("div",{className:O,ref:c,children:[(0,P.jsx)(d.D,{as:"h3",variant:"canon",children:(0,P.jsx)(ee,{concert:t,onClick:e=>{const t=s.venueMapLinkFactory().hitNavigateToExternalUri({destination:e});i.logInteraction(t)}})}),(0,P.jsxs)(d.D,{as:"h3",variant:"mesto",className:q,children:[(0,y.xE)(l)," • ",(0,y.hK)(l)]}),(0,P.jsx)(d.D,{as:"h3",className:M,variant:"mesto",children:(g=t.ticketers,0===g.length?null:1===g.length?n.ag.get("concert.header.tickets_from_1",g[0].partnerDisplayName):2===g.length?n.ag.get("concert.header.tickets_from_2",g[0].partnerDisplayName,g[1].partnerDisplayName):3===g.length?n.ag.get("concert.header.tickets_from_3",g[0].partnerDisplayName,g[1].partnerDisplayName,g[2].partnerDisplayName):n.ag.get("concert.header.tickets_from_4",g[0].partnerDisplayName,g[1].partnerDisplayName,g[2].partnerDisplayName,g.length-3))}),a&&(0,P.jsx)(d.D,{as:"h3",className:M,variant:"mesto",children:a}),(0,P.jsx)(S.yj,{menu:(0,P.jsx)(U,{uri:h}),onShow:()=>{const e=s.contextMenuButtonFactory().hitUiReveal();i.logInteraction(e)},children:(0,P.jsx)(k.z,{size:32,className:W})}),(0,P.jsx)(d.D.h3,{variant:"canon",children:n.ag.get("concert.header.available_tickets_from")}),(0,P.jsx)("div",{className:$,children:t.ticketers.map(((e,t)=>(0,P.jsxs)(L.Z,{to:e.url,className:R,onClick:()=>{const a=r.ticketProviderCellFactory({identifier:e.partnerDisplayName,position:t}).hitNavigateToExternalUri({destination:e.url});i.logInteraction(a),m({targetUri:h,intent:"find-concert",type:"click"})},children:[(0,P.jsx)("div",{className:Y,children:(0,P.jsx)(A.Ee,{loading:"eager",srcSet:e.imageURL,src:e.imageURL,height:"100%",width:"100%",children:(0,P.jsx)(f.i,{className:z,iconSize:24})})}),(0,P.jsxs)("div",{className:Q,children:[(0,P.jsx)(d.D.span,{children:e.partnerDisplayName}),(0,P.jsx)(T.h,{className:H,iconSize:24})]})]},e.url)))})]});var g}));a(10817);var ae=a(73809),se=a(77899),re=a(85983),ne=a(43304);const ie="bnxKFmECExdcmyBXx9f_",ce="UrPgHWUndGwAWPfONuwd",le="pF2W693VDIpPdVTVCsDg",oe="YGVuy3Qzaam0CJPc_s4K",de="r5Kj2xQVLHK0hf_J00US",he="qCN2f5PHVrzAPLvQ0lNc",me=(0,o.memo)((e=>{const{entity:t,headliner:a,onClick:s}=e,{imageUri:r,name:i,uri:c}=t;return(0,P.jsxs)(L.r,{to:c,className:ie,onClick:s,children:[r?(0,P.jsx)(ne.Z,{children:(0,P.jsx)("div",{"data-testid":"image-container",className:he,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${r})`}})}):null,(0,P.jsxs)("div",{className:ce,children:[a&&(0,P.jsx)("div",{className:oe,children:(0,P.jsx)(d.D,{as:"h4",variant:"minuet",className:de,weight:"bold",children:n.ag.get("concert.label.headliner")})}),(0,P.jsx)(d.D,{as:"h2",variant:"alto",className:le,children:i})]})]})})),ge=me,xe=(0,o.memo)((e=>{const{artist:t,albums:a,position:s,lineupArtistsSpec:r}=e,i=(0,o.useMemo)((()=>r.artistRowFactory({position:s,uri:t.uri})),[r,s,t.uri]),c=(0,v.$P)(),l=0===s,d=`${(0,re.GJ)(t.id)}:discography`;return(0,P.jsx)(b.ZP,{value:"headered-grid",index:s,children:(0,P.jsx)(v.Nh,{spec:i||null,children:(0,P.jsx)(se.P,{title:l?n.ag.get("concert_lineup"):"",total:a.length+2,seeAllUri:d,seeAllLabel:n.ag.get("artist-page.show-discography"),onClickShelfSeeAll:()=>{const e=i.seeDiscographyLinkFactory().hitUiNavigate({destination:d});c.logInteraction(e)},children:[(0,P.jsx)(ge,{entity:t,headliner:l,onClick:()=>{const e=i.artistCardFactory().hitUiNavigate({destination:t.uri});c.logInteraction(e)}},`ConcertArtistCard-${t.id}`),null,...a.map(((e,a)=>(0,P.jsx)(ae.r,{index:a,artists:[{uri:t.uri,name:t.name}],images:[{url:e.imageUri,width:100,height:100}],name:e.name,uri:e.uri,sharingInfo:null},e.uri)))]})})},t.uri)})),ue=(0,o.memo)((e=>{const{albums:t,artists:a,entitySpec:s}=e,r=(0,o.useMemo)((()=>s.lineupArtistsFactory()),[s]),n=(0,v.Wi)(r),i=(0,o.useMemo)((()=>{const e={};return t.forEach((t=>{const a=t.artistName;e[a]?e[a].push(t):e[a]=[t]})),e}),[t]);return(0,P.jsx)("div",{className:G,ref:n,"data-testid":"concert-lineup",children:a.map(((e,t)=>(0,P.jsx)(xe,{artist:e,albums:i[e.name]||[],position:t,lineupArtistsSpec:r},e.uri)))})}));var je=a(45844);const pe="y4xsX4QR_wfM40vOhsQ4",ve="TPdGbM0PhSqxmhkxP9n2",ye="y33j8HV43EGq3BPkZrLA",Ne=(0,o.memo)((e=>(0,P.jsxs)(L.r,{to:"spotify:concerts",className:pe,onClick:e.onClick,children:[(0,P.jsx)(ne.Z,{children:(0,P.jsx)("div",{className:ye,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})}),(0,P.jsx)("div",{className:ve,children:(0,P.jsx)(d.D,{as:"h2",variant:"canon",children:n.ag.get("concerts_browse_more")})})]}))),fe=(0,o.memo)((e=>{const t=(0,o.useMemo)((()=>e.entitySpec.recommendedConcertsFactory()),[e.entitySpec]),a=(0,v.$P)(),s=(0,v.Wi)(t),r=e.upcomingConcerts;if(!r||r.length<1)return null;const i=r.map(((e,s)=>{const r=`spotify:concert:${e.concert.id}`;return(0,P.jsx)(je.Z,{concert:e.concert,onClick:()=>{const e=t.concertCardFactory({position:s,uri:r}).hitUiNavigate({destination:r});a.logInteraction(e)}},e.concert.id)}));return(0,P.jsx)("div",{className:X,ref:s,"data-testid":"concert-recommendations",children:(0,P.jsx)(b.ZP,{value:"headered-grid",children:(0,P.jsxs)(se.P,{title:n.ag.get("concerts_more_events"),total:r.length+1,className:B,showSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:n.ag.get("view.see-all"),children:[(0,P.jsx)(Ne,{onClick:()=>{const e=t.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});a.logInteraction(e)}}),i]})})})})),ke=(0,o.memo)((e=>{const{data:t}=e,{artists:a,albums:s,upcomingConcerts:r}=t,n=t.concert.concert,{spec:i}=(0,v.fU)(h.createDesktopConcertEntityEventFactory,{data:{identifier:n.id,uri:`spotify:concert:${n.id}`}});return(0,p.Y)(t.color),(0,P.jsxs)("section",{className:V,children:[(0,P.jsx)(g.$,{children:(0,N.Yl)(n)}),(0,P.jsxs)(x.gF,{backgroundImages:[{url:t.headerImageUri,width:100,height:100}],backgroundColor:t.color,children:[(0,P.jsxs)(x.sP,{children:[(0,P.jsx)(x.T0,{children:(0,P.jsx)("div",{className:F,children:(0,P.jsx)(d.D,{as:"h3",variant:"canon",className:K,children:(0,y.jx)((0,y.CH)(n.date))})})}),(0,P.jsx)(x.xd,{children:(0,N.Yl)(n)})]}),(0,P.jsx)(u.W,{children:(0,P.jsx)("div",{className:J,children:(0,P.jsx)(j.i,{text:(0,N.Yl)(n)})})})]}),(0,P.jsxs)("div",{className:E,children:[(0,P.jsx)(m.I,{backgroundColor:t.color}),(0,P.jsxs)("div",{className:Z,children:[(0,P.jsx)(te,{concert:n,ticketAvailabilityTranslated:t.ticketAvailabilityTranslated,entitySpec:i}),(0,P.jsx)(ue,{artists:a,albums:s,entitySpec:i}),(0,P.jsx)(fe,{upcomingConcerts:r,entitySpec:i})]})]})]})})),De=async e=>{const[t,a]=e.queryKey;return(await(0,l.getConcert)(c.b.getInstance(),a)).body},be=()=>{const{concertId:e}=(0,r.UO)(),{data:t,isLoading:a}=(0,s.useQuery)(["concert",e],De,{staleTime:6e5});return a?(0,P.jsx)(i.h,{hasError:!1,errorMessage:""}):t?(0,P.jsx)(ke,{data:t}):(0,P.jsx)(i.h,{hasError:!0,errorMessage:n.ag.get("concert.error.concert_not_found_title")})}}}]);
//# sourceMappingURL=xpui-routes-concert.js.map