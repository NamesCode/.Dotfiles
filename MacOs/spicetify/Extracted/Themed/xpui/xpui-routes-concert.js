"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7288],{22578:(e,t,n)=>{n.d(t,{$:()=>g});n(26699),n(32023),n(69600),n(68309),n(21249);var a=n(67294),r=n(64593),c=n(96206),i=n(69691),o=n(8341),s=n(89952),l=n(51615),m=n(24183);function u(e){return e.includes("Spotify")?e:"Spotify – ".concat(e)}var g=function(e){var t,n,g,d,f,p,h,v=e.children,y=e.usePlayingItem,E=u(v);t=v,d=(0,m.Oh)().mainLandmarkRef,f=(0,l.k6)(),p=null===(n=f.location)||void 0===n||null===(g=n.state)||void 0===g?void 0:g.preventMoveFocus,(h=(0,a.useRef)(f.length<2)).current=f.length<2,(0,a.useEffect)((function(){var e=d.current;!p&&!h.current&&e&&t&&(e.setAttribute("aria-label",t),e.focus())}),[t,d,p]);var k=(0,i.IK)().isPlaying,N=(0,o.Y)((function(e){return null==e?void 0:e.item}));return N&&(k||y)&&((0,s.G_)(N)?E=[N.name,N.artists.map((function(e){return e.name})).join(c.ag.getSeparator())].join(" • "):(0,s.iw)(N)?E=[N.name,N.show.name].join(" • "):(0,s.k6)(N)&&(E=u(c.ag.get("ad-formats.advertisement")))),a.createElement(r.q,{defaultTitle:"Spotify",defer:!1},a.createElement("title",null,E))}},70369:(e,t,n)=>{n.d(t,{$:()=>a.$});var a=n(22578)},59504:(e,t,n)=>{n.d(t,{k:()=>b});n(68309),n(92222);var a=n(67294),r=n(31667),c=n(47778),i=n(32667),o=n(67892),s=n(40169),l=n(43315),m=n(9339),u=n(42095);const g="wedRUk4eiBo9n9vqXLhU",d="HYVIJaYYiCTgSCHie70L",f="InXSbaoh8emJn09fWs3U",p="SPbe_Q1wtiZQCmo0QKUy",h="TRp4tgG7_cymGIXDevIP",v="tC1Y_nwyyly7cpIGqF5K",y="gY_xUHOSpAn6TPdU23t7",E="l93AfoV_qHnMQSQBB5GK",k="MTTf1Lotynwu3QKhr9uY",N="EkGb0ZzhswreSvpZoioY";var b=a.memo((function(e){var t=e.entity,n=e.isVirtual,b=e.shouldCombineRecs,_=e.onClick,C=t.venue,D=C.name,I=C.location.name,w=t.artists[0],S=(0,m.ij)(t),U=(0,u.CH)(t.date.isoString),P=n?r.F:c.n;return a.createElement(o.r,{to:"/concert/".concat(t.id),className:g,onClick:_},w.imageUri?a.createElement(s.Z,null,a.createElement("div",{"data-testid":"image-container",className:N,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(".concat(w.imageUri,")")}})):null,a.createElement("time",{className:d,dateTime:t.date.isoString},a.createElement(i.D,{as:"h5",variant:"minuetBold",className:f},(0,u.jx)(U))),a.createElement("div",{className:p,dir:"auto"},a.createElement(i.D,{as:"h2",className:k,variant:"minuetBold"},(0,l.FO)(U)," • ",(0,u.hK)(U)),a.createElement(i.D,{as:"h2",variant:"cello",weight:"bold",className:h},S),a.createElement("div",{className:v},b?a.createElement(P,{className:y,"aria-label":n?"Virtual Event":"In-Person Event",iconSize:16}):null,a.createElement(i.D,{as:"h2",className:E,variant:"mesto","data-testid":"location-name"},n?D:"".concat(D,", ").concat(I)))))}))},27192:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ie});var a=n(67294),r=n(86706),c=n(51615),i=n(96206),o=n(6581),s=n(6158),l=n(50458),m=n(87462),u=n(93433),g=(n(68309),n(66992),n(41539),n(78783),n(33948),n(60285),n(41637),n(92222),n(21249),n(89554),n(54747),n(32667)),d=n(24935),f=n(95888),p=n(48690),h=n(3634),v=n(30005),y=n(42922),E=n(60775),k=n(38260),N=n(21366),b=a.memo((function(e){var t=e.uri,n=(0,E.T)(t).spec;return a.createElement(y.ZP,{value:"concert"},a.createElement(v.v,null,a.createElement(N.q,null,a.createElement(k.Jx,{spec:n,uri:t,displayText:i.ag.get("context-menu.copy-concert-link")}),a.createElement(k.W2,{spec:n,uri:t})),a.createElement(k.h$,{spec:n,uri:t})))})),_=n(70369),C=n(60289),D=n(59482),I=n(72907),w=n(67892),S=n(19480),U=n(5266),P=n(75793),Z=n(25678);const L="rgHpYneRuCLsOyfmI2jF",F="lr40ubW1eB4EezYzf313",T="XQIbZRhBVDxK2jEcGfeS",R="RJhxchVqiOAPQKl6EUU7",x="sOKlgL5TzQ2p74aQFjRh",M="u3QEyws6_AhQuuMCDgMC",A="WKrdOaRnI9VfK1UYUqvT",H="VHRiF8JERizZ2hUJFuvv",K="wV775Pr50OGgK_FdTufn",O="A0tCEFULNmQTQVO3ICMV",Y="kCaMmmmuRwJ0XVnPRIv4",z="kUcrmLBN4InQRGIOEpRz",B="d6o_X8ptm5nNBf04i9Hq",J="PMPCg0VMJpsEvziDZZnv",Q="XXABme7Q0el8rITiSDHg",j="Cc4TFd0C5345deatsGJ0",V="IgugoubNHrWe50NJKajx",X="TfyNLJsVXqn4J_NaO810";var q=function(e){var t=e.ticketLink,n=e.handleConcertLinkClick,r=t.imageURL;if(""===t.imageURL)switch(t.partnerDisplayName){case"AXS":r="https://tickets.spotifycdn.com/partner-assets/axs.svg";break;case"Dice":r="https://tickets.spotifycdn.com/partner-assets/dice.svg";break;case"Eventbrite":r="https://tickets.spotifycdn.com/partner-assets/eventbrite.svg";break;case"Eventim":r="https://tickets.spotifycdn.com/partner-assets/eventim.svg";break;case"Jambase":r="https://tickets.spotifycdn.com/partner-assets/jambase.svg";break;case"Resident Advisor":r="https://tickets.spotifycdn.com/partner-assets/residentadvisor.svg";break;case"See Tickets":r="https://tickets.spotifycdn.com/partner-assets/seetickets.svg";break;case"Songkick":r="https://tickets.spotifycdn.com/partner-assets/songkick.svg";break;case"Spotify":r="https://tickets.spotifycdn.com/partner-assets/spotify.svg";break;case"Ticketmaster":r="https://tickets.spotifycdn.com/partner-assets/ticketmaster.svg";break;default:r=""}return a.createElement(w.Z,{draggable:!1,className:K,to:t.url,target:"_blank",onClick:n},a.createElement("div",{className:O},a.createElement(Z.Ee,{loading:"eager",srcSet:r,src:r,height:"100%",width:"100%"},a.createElement(U.i,{className:Y,iconSize:24}))),a.createElement("div",{className:B},a.createElement(g.D.span,null,t.partnerDisplayName),a.createElement(P.T,{className:z,iconSize:24})))},G=n(56802),W=n(37081),$=n(20246),ee=n(26375),te=n(34722),ne=n(9339),ae=n(42095),re=n(40169);const ce="e0VN3GmM25lCYyAIWjim",ie="uPLqiz_BFUytfHNLP5zN",oe="LJ8tzLtEEECRuUQv87nE",se="tR6GHIdHN3D9ZRuLo1gd",le="T_IWs9HLesaBWiylLaox",me="KPIfiziXg8ByZ0elFPx9";var ue=a.memo((function(e){var t=e.entity,n=e.headliner,r=e.onClick,c=t.imageUri,o=t.name,s=t.uri;return a.createElement(w.r,{to:s,className:ce,onClick:r},c?a.createElement(re.Z,null,a.createElement("div",{"data-testid":"image-container",className:me,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(".concat(c,")")}})):null,a.createElement("div",{className:ie},n&&a.createElement("div",{className:se},a.createElement(g.D,{as:"h4",variant:"minuet",className:le,weight:"bold"},i.ag.get("concert.label.headliner"))),a.createElement(g.D,{as:"h2",variant:"alto",className:oe},o)))})),ge=n(59504);const de="aX5g9MgOPCph10dhugIm",fe="qJIbuz2sOfyiYjXqKwHX",pe="HKMt7en7H2xbp3cXFP3k";var he=a.memo((function(e){return a.createElement(w.r,{to:"spotify:concerts",className:de,onClick:e.onClick},a.createElement(re.Z,null,a.createElement("div",{className:pe,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(".concat("https://concerts.spotifycdn.com/ConcertHubCard.png",")")}})),a.createElement("div",{className:fe},a.createElement(g.D,{as:"h2",variant:"canon"},i.ag.get("concerts_browse_more"))))})),ve=n(15852),ye=a.memo((function(e){var t=e.concert;return a.createElement("div",{className:L},a.createElement(g.D,{as:"h3",variant:"canon",className:F},(0,ae.jx)((0,ae.CH)(t.date))))})),Ee=a.memo((function(e){var t=e.concert,n=e.onClick,r=t.category,c=t.venue,i=t.location,o=t.lat,s=t.lon;if("ONLINE"===r)return a.createElement(g.D,{as:"h3",variant:"canon"},c);var l=new URL("https://maps.google.com/");return l.searchParams.set("q","".concat(c,",").concat(i)),l.searchParams.set("ll","".concat(o,",").concat(s)),a.createElement(w.Z,{to:l.href,target:"_blank",onClick:function(){return n(l.href)}},a.createElement(g.D,{as:"h3",variant:"canon"},c,", ",i))})),ke=a.memo((function(e){var t,n,r=e.concert,c=e.ticketAvailabilityTranslated,o=e.entitySpec,s=(0,a.useMemo)((function(){return o.ticketProviderListFactory()}),[o]),l=(0,ve.$P)(),m=(0,ve.Wi)(s),u=(0,ae.CH)(r.date),d="spotify:concert:".concat(r.id),f=(0,G.o)(),h=null!==(t=null!==(n=r.ticketers)&&void 0!==n?n:r.clickThrus)&&void 0!==t?t:[];if(0===h.length)return null;if((0,ne.O1)(u))return a.createElement("div",{className:A},a.createElement(g.D,{as:"h3",variant:"canon"},i.ag.get("concert_event_ended")),a.createElement(g.D,{variant:"ballad"},a.createElement(w.Z,{to:"spotify:concerts"},i.ag.get("concert_past_message"))));return a.createElement("div",{className:A,ref:m},a.createElement(g.D,{as:"h3",variant:"canon"},a.createElement(Ee,{concert:r,onClick:function(e){var t=o.venueMapLinkFactory().hitNavigateToExternalUri({destination:e});l.logInteraction(t)}})),a.createElement(g.D,{as:"h3",variant:"mesto",className:X},(0,ae.xE)(u)," • ",(0,ae.hK)(u)),a.createElement(g.D,{as:"h3",className:M,variant:"mesto"},function(e){return 0===e.length?null:1===e.length?i.ag.get("concert.header.tickets_from_1",e[0].partnerDisplayName):2===e.length?i.ag.get("concert.header.tickets_from_2",e[0].partnerDisplayName,e[1].partnerDisplayName):3===e.length?i.ag.get("concert.header.tickets_from_3",e[0].partnerDisplayName,e[1].partnerDisplayName,e[2].partnerDisplayName):i.ag.get("concert.header.tickets_from_4",e[0].partnerDisplayName,e[1].partnerDisplayName,e[2].partnerDisplayName,e.length-3)}(h)),c&&a.createElement(g.D,{as:"h3",className:M,variant:"mesto"},c),a.createElement($.y,{menu:a.createElement(b,{uri:d}),onShow:function(){var e=o.contextMenuButtonFactory().hitUiReveal();l.logInteraction(e)}},a.createElement(p.z,{size:32,className:J})),a.createElement(g.D.h3,{variant:"canon"},i.ag.get("concert.header.available_tickets_from")),a.createElement("div",{className:H},h.map((function(e,t){return a.createElement(q,{key:e.partnerDisplayName,ticketLink:e,handleConcertLinkClick:function(){var n=s.ticketProviderCellFactory({identifier:e.partnerDisplayName,position:t}).hitNavigateToExternalUri({destination:e.url});l.logInteraction(n),f({targetUri:d,intent:"find-concert",type:"click"})}})}))))})),Ne=a.memo((function(e){var t=e.artist,n=e.albums,r=e.position,c=e.lineupArtistsSpec,o=(0,a.useMemo)((function(){return c.artistRowFactory({position:r,uri:t.uri})}),[c,r,t.uri]),s=(0,ve.$P)(),l=0===r,g="".concat((0,te.GJ)(t.id),":discography");return a.createElement(y.ZP,{value:"headered-grid",index:r,key:t.uri},a.createElement(ve.Nh,{spec:o||null},a.createElement(S.P,{title:l?i.ag.get("concert_lineup"):"",total:n.length+2,seeAllUri:g,seeAllLabel:i.ag.get("artist-page.show-discography"),onClickShelfSeeAll:function(){var e=o.seeDiscographyLinkFactory().hitUiNavigate({destination:g});s.logInteraction(e)},children:[null,a.createElement(ue,{entity:t,headliner:l,key:"ConcertArtistCard-".concat(t.id),onClick:function(){var e=o.artistCardFactory().hitUiNavigate({destination:t.uri});s.logInteraction(e)}})].concat((0,u.Z)(n.map((function(e,n){return a.createElement(h.r,(0,m.Z)({index:n,key:e.uri},function(e,t){return{artists:[{uri:t,name:e.artistName}],images:[{url:e.imageUri,height:100,width:100}],name:e.name,uri:e.uri,sharingInfo:null,type:ee.albumType.ALBUM}}(e,t.uri)))}))))})))})),be=a.memo((function(e){var t=e.albums,n=e.artists,r=e.entitySpec,c=(0,a.useMemo)((function(){return r.lineupArtistsFactory()}),[r]),i=(0,ve.Wi)(c),o=(0,a.useMemo)((function(){var e={};return t.forEach((function(t){var n=t.artistName;e[n]?e[n].push(t):e[n]=[t]})),e}),[t]);return a.createElement("div",{className:Q,ref:i},n.map((function(e,t){return a.createElement(Ne,{key:e.uri,artist:e,albums:o[e.name]||[],position:t,lineupArtistsSpec:c})})))})),_e=a.memo((function(e){var t=(0,a.useMemo)((function(){return e.entitySpec.recommendedConcertsFactory()}),[e.entitySpec]),n=(0,ve.$P)(),r=(0,ve.Wi)(t),c=e.upcomingConcerts;if(!c||c.length<1)return null;var o=c.map((function(e,r){return a.createElement(ge.k,{entity:e,key:e.id,onClick:function(){var a=t.concertCardFactory({position:r,uri:e.uri}).hitUiNavigate({destination:e.uri});n.logInteraction(a)}})}));return a.createElement("div",{className:V,ref:r},a.createElement(y.ZP,{value:"headered-grid"},a.createElement(S.P,{title:i.ag.get("concerts_more_events"),total:c.length+1},a.createElement(he,{onClick:function(){var e=t.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});n.logInteraction(e)}}),o)))})),Ce=function(e){var t=e.concert,n=t.concert,r=t.upcomingConcerts,c=t.artists,i=t.albums,o=t.color,s=t.headerImageUri,l=t.ticketAvailabilityTranslated,m=[{url:s,width:100,height:100}],u=(0,ve.fU)(d.createDesktopConcertEntityEventFactory,{data:{identifier:n.id,uri:"spotify:concert:".concat(n.id)}}).spec;return(0,W.Y)(o),a.createElement("section",{className:R},a.createElement(_.$,null,(0,ne.Yl)(n)),a.createElement(C.gF,{backgroundImages:m,backgroundColor:o},a.createElement(C.sP,null,a.createElement(C.T0,null,a.createElement(ye,{concert:n})),a.createElement(C.xd,null,(0,ne.Yl)(n))),a.createElement(D.W,null,a.createElement("div",{className:j},a.createElement(I.i,{text:(0,ne.Yl)(n)})))),a.createElement("div",{className:T},a.createElement(f.I,{backgroundColor:o}),a.createElement("div",{className:x},a.createElement(ke,{concert:n,ticketAvailabilityTranslated:l,entitySpec:u}),a.createElement(be,{artists:c,albums:i,entitySpec:u}),a.createElement(_e,{upcomingConcerts:r,entitySpec:u}))))};const De=a.memo(Ce);const Ie=a.memo((function(){var e=(0,c.UO)().concertId,t=(0,r.I0)(),n="spotify:concert:".concat(e),m=(0,r.v9)((function(e){return(0,l.y)(n,e)}));return(0,a.useEffect)((function(){t((0,o.l$)(e))}),[t,e]),m?a.createElement(a.Suspense,{fallback:null},a.createElement(De,{concert:m})):a.createElement(s.h,{hasError:!1,errorMessage:i.ag.get("concert.error.concert_not_found_title")})}))},9339:(e,t,n)=>{n.d(t,{O1:()=>c,Yl:()=>s,ij:()=>l});var a=n(93433),r=(n(83710),n(21249),n(68309),n(92222),n(96206)),c=function(e){return e<new Date},i={row:{1:function(e){return r.ag.get.apply(r.ag,["concert.header.entity_title_1"].concat((0,a.Z)(e)))},2:function(e){return r.ag.get.apply(r.ag,["concert.header.entity_title_2"].concat((0,a.Z)(e)))},3:function(e){return r.ag.get.apply(r.ag,["concert.header.entity_title_3"].concat((0,a.Z)(e)))},4:function(e){return r.ag.get.apply(r.ag,["concert.header.entity_title_4"].concat((0,a.Z)(e)))},more:function(e){return r.ag.get.apply(r.ag,["concert.header.entity_title_more"].concat((0,a.Z)(e)))}},entity:{1:function(e){return r.ag.get.apply(r.ag,["concert.header.upcoming_concert_title_1"].concat((0,a.Z)(e)))},2:function(e){return r.ag.get.apply(r.ag,["concert.header.upcoming_concert_title_2"].concat((0,a.Z)(e)))},3:function(e){return r.ag.get.apply(r.ag,["concert.header.upcoming_concert_title_3"].concat((0,a.Z)(e)))},4:function(e){return r.ag.get.apply(r.ag,["concert.header.upcoming_concert_title_4"].concat((0,a.Z)(e)))},more:function(e){return r.ag.get.apply(r.ag,["concert.header.upcoming_concert_title_more"].concat((0,a.Z)(e)))}}},o=function(e,t){var n=i[t],a=function(e){try{var t;return!e.title||!e.festival&&null!==(t=e.artists)&&void 0!==t&&t.length?{artists:e.artists.map((function(e){return e.name||e.profile.name}))}:{title:e.title}}catch(e){return null}}(e);if(a){if(a.title)return a.title;if(a.artists)return a.artists.length>4?n.more(a.artists):n[a.artists.length](a.artists)}return""},s=function(e){return o(e,"row")},l=function(e){return o(e,"entity")}},42095:(e,t,n)=>{n.d(t,{Bc:()=>g,CH:()=>r,FO:()=>s,dC:()=>m,hK:()=>u,jw:()=>i,jx:()=>l,wf:()=>o,xE:()=>c});n(83710),n(92222);var a=n(96206),r=function(e){return 24===e.length?new Date(e.substring(0,19)):22===e.length?new Date(e.substring(0,16)):new Date(e)},c=function(e){return a.ag.formatDate(e,{weekday:"short",month:"short",day:"numeric"})},i=function(e){return a.ag.formatDate(e,{month:"short"})},o=function(e){return a.ag.formatDate(e,{day:"numeric"})},s=function(e){return a.ag.formatDate(e,{weekday:"short"})},l=function(e){return a.ag.formatDate(e,{month:"short",day:"numeric"})},m=function(e){return a.ag.formatDate(e,{weekday:"short",hour:"numeric",minute:"numeric"})},u=function(e){return a.ag.formatDate(e,{hour:"numeric",minute:"numeric"})},g=function(e,t){if(e.toDateString()===t.toDateString())return c(e);if(e.getMonth()===t.getMonth()){var n=a.ag.formatDate(e,{day:"numeric",month:"short"}),r=a.ag.formatDate(t,{day:"numeric"});return"".concat(n,"–").concat(r)}var i=a.ag.formatDate(e,{day:"numeric",month:"short"}),o=a.ag.formatDate(t,{day:"numeric",month:"short"});return"".concat(i,"–").concat(o)}},50458:(e,t,n)=>{function a(e,t){return t.concerts.all[e]||null}n.d(t,{y:()=>a})},34722:(e,t,n)=>{n.d(t,{B$:()=>i,GJ:()=>r,Hr:()=>a,qo:()=>c});n(85827),n(41539),n(68309);var a=function(e){return e?e.reduce((function(e,t){return e.push(t.releases.items[0]),e}),[]):[]},r=function(e){return"spotify:app:artist:".concat(e)},c=function(e){return"spotify:artist:".concat(e)},i=function(e,t,n){var a,r;return{artists:[{uri:t,name:n}],images:(null===(a=e.coverArt)||void 0===a?void 0:a.sources)||[],name:e.name,uri:e.uri,year:null===(r=e.date)||void 0===r?void 0:r.year,type:e.type,sharingInfo:e.sharingInfo}}}}]);
//# sourceMappingURL=xpui-routes-concert.js.map