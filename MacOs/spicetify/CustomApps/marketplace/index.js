var marketplace=(()=>{var D,$=Object.create,F=Object.defineProperty,M=Object.defineProperties,B=Object.getOwnPropertyDescriptor,U=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertyNames,K=Object.getOwnPropertySymbols,G=Object.getPrototypeOf,V=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,z=(e,t,n)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s=(e,t)=>{for(var n in t=t||{})V.call(t,n)&&z(e,n,t[n]);if(K)for(var n of K(t))q.call(t,n)&&z(e,n,t[n]);return e},W=(e,t)=>M(e,U(t)),y=(e=>"undefined"!=typeof require?require:"undefined"!=typeof Proxy?new Proxy(e,{get:(e,t)=>("undefined"!=typeof require?require:e)[t]}):e)(function(e){if("react"===e)return Spicetify.React;if("react-dom"===e)return Spicetify.ReactDOM;if("undefined"!=typeof require)return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),e=(e,t)=>function(){return t||(0,e[H(e)[0]])((t={exports:{}}).exports,t),t.exports},J=(t,n,r,a)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let e of H(n))V.call(t,e)||e===r||F(t,e,{get:()=>n[e],enumerable:!(a=B(n,e))||a.enumerable});return t},t=(e,t,n)=>(n=null!=e?$(G(e)):{},J(!t&&e&&e.__esModule?n:F(n,"default",{value:e,enumerable:!0}),e)),Y=e({"../../node_modules/semver/internal/constants.js"(e,t){var n=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:n,MAX_SAFE_COMPONENT_LENGTH:16}}}),X=e({"../../node_modules/semver/internal/debug.js"(e,t){var n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};t.exports=n}}),Q=e({"../../node_modules/semver/internal/re.js"(e,t){var n=Y()["MAX_SAFE_COMPONENT_LENGTH"],a=X(),o=(e=t.exports={}).re=[],i=e.src=[],s=e.t={},l=0,t=(e,t,n)=>{var r=l++;a(e,r,t),s[e]=r,i[r]=t,o[r]=new RegExp(t,n?"g":void 0)};t("NUMERICIDENTIFIER","0|[1-9]\\d*"),t("NUMERICIDENTIFIERLOOSE","[0-9]+"),t("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),t("MAINVERSION",`(${i[s.NUMERICIDENTIFIER]})\\.(${i[s.NUMERICIDENTIFIER]})\\.(${i[s.NUMERICIDENTIFIER]})`),t("MAINVERSIONLOOSE",`(${i[s.NUMERICIDENTIFIERLOOSE]})\\.(${i[s.NUMERICIDENTIFIERLOOSE]})\\.(${i[s.NUMERICIDENTIFIERLOOSE]})`),t("PRERELEASEIDENTIFIER",`(?:${i[s.NUMERICIDENTIFIER]}|${i[s.NONNUMERICIDENTIFIER]})`),t("PRERELEASEIDENTIFIERLOOSE",`(?:${i[s.NUMERICIDENTIFIERLOOSE]}|${i[s.NONNUMERICIDENTIFIER]})`),t("PRERELEASE",`(?:-(${i[s.PRERELEASEIDENTIFIER]}(?:\\.${i[s.PRERELEASEIDENTIFIER]})*))`),t("PRERELEASELOOSE",`(?:-?(${i[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[s.PRERELEASEIDENTIFIERLOOSE]})*))`),t("BUILDIDENTIFIER","[0-9A-Za-z-]+"),t("BUILD",`(?:\\+(${i[s.BUILDIDENTIFIER]}(?:\\.${i[s.BUILDIDENTIFIER]})*))`),t("FULLPLAIN",`v?${i[s.MAINVERSION]}${i[s.PRERELEASE]}?${i[s.BUILD]}?`),t("FULL",`^${i[s.FULLPLAIN]}$`),t("LOOSEPLAIN",`[v=\\s]*${i[s.MAINVERSIONLOOSE]}${i[s.PRERELEASELOOSE]}?${i[s.BUILD]}?`),t("LOOSE",`^${i[s.LOOSEPLAIN]}$`),t("GTLT","((?:<|>)?=?)"),t("XRANGEIDENTIFIERLOOSE",i[s.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),t("XRANGEIDENTIFIER",i[s.NUMERICIDENTIFIER]+"|x|X|\\*"),t("XRANGEPLAIN",`[v=\\s]*(${i[s.XRANGEIDENTIFIER]})(?:\\.(${i[s.XRANGEIDENTIFIER]})(?:\\.(${i[s.XRANGEIDENTIFIER]})(?:${i[s.PRERELEASE]})?${i[s.BUILD]}?)?)?`),t("XRANGEPLAINLOOSE",`[v=\\s]*(${i[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[s.XRANGEIDENTIFIERLOOSE]})(?:${i[s.PRERELEASELOOSE]})?${i[s.BUILD]}?)?)?`),t("XRANGE",`^${i[s.GTLT]}\\s*${i[s.XRANGEPLAIN]}$`),t("XRANGELOOSE",`^${i[s.GTLT]}\\s*${i[s.XRANGEPLAINLOOSE]}$`),t("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),t("COERCERTL",i[s.COERCE],!0),t("LONETILDE","(?:~>?)"),t("TILDETRIM",`(\\s*)${i[s.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",t("TILDE",`^${i[s.LONETILDE]}${i[s.XRANGEPLAIN]}$`),t("TILDELOOSE",`^${i[s.LONETILDE]}${i[s.XRANGEPLAINLOOSE]}$`),t("LONECARET","(?:\\^)"),t("CARETTRIM",`(\\s*)${i[s.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",t("CARET",`^${i[s.LONECARET]}${i[s.XRANGEPLAIN]}$`),t("CARETLOOSE",`^${i[s.LONECARET]}${i[s.XRANGEPLAINLOOSE]}$`),t("COMPARATORLOOSE",`^${i[s.GTLT]}\\s*(${i[s.LOOSEPLAIN]})$|^$`),t("COMPARATOR",`^${i[s.GTLT]}\\s*(${i[s.FULLPLAIN]})$|^$`),t("COMPARATORTRIM",`(\\s*)${i[s.GTLT]}\\s*(${i[s.LOOSEPLAIN]}|${i[s.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",t("HYPHENRANGE",`^\\s*(${i[s.XRANGEPLAIN]})\\s+-\\s+(${i[s.XRANGEPLAIN]})\\s*$`),t("HYPHENRANGELOOSE",`^\\s*(${i[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[s.XRANGEPLAINLOOSE]})\\s*$`),t("STAR","(<|>)?=?\\s*\\*"),t("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),t("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}}),Z=e({"../../node_modules/semver/internal/parse-options.js"(e,t){var n=["includePrerelease","loose","rtl"];t.exports=t=>t?"object"!=typeof t?{loose:!0}:n.filter(e=>t[e]).reduce((e,t)=>(e[t]=!0,e),{}):{}}}),ee=e({"../../node_modules/semver/internal/identifiers.js"(e,t){var a=/^[0-9]+$/,n=(e,t)=>{var n=a.test(e),r=a.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r||(!r||n)&&e<t?-1:1};t.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}}}),I=e({"../../node_modules/semver/classes/semver.js"(e,t){var a=X(),{MAX_LENGTH:r,MAX_SAFE_INTEGER:o}=Y(),{re:i,t:s}=Q(),l=Z(),c=ee()["compareIdentifiers"],u=class{constructor(e,t){if(t=l(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>r)throw new TypeError(`version is longer than ${r} characters`);a("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?i[s.LOOSE]:i[s.FULL]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){var t=+e;if(0<=t&&t<o)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.`+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(a("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{var n=this.prerelease[t],r=e.prerelease[t];if(a("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return c(n,r)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{var n=this.build[t],r=e.build[t];if(a("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return c(n,r)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;0<=--e;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0!==c(this.prerelease[0],t)||isNaN(this.prerelease[1]))&&(this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this}};t.exports=u}}),te=e({"../../node_modules/semver/functions/parse.js"(e,t){var r=Y()["MAX_LENGTH"],{re:a,t:o}=Q(),i=I(),s=Z();t.exports=(e,t)=>{if(t=s(t),e instanceof i)return e;if("string"!=typeof e)return null;if(e.length>r)return null;const n=t.loose?a[o.LOOSE]:a[o.FULL];if(!n.test(e))return null;try{return new i(e,t)}catch(e){return null}}}}),ne=e({"../../node_modules/semver/functions/valid.js"(e,t){var n=te();t.exports=(e,t)=>{e=n(e,t);return e?e.version:null}}}),re=e({"../../node_modules/semver/functions/clean.js"(e,t){var n=te();t.exports=(e,t)=>{e=n(e.trim().replace(/^[=v]+/,""),t);return e?e.version:null}}}),ae=e({"../../node_modules/semver/functions/inc.js"(e,t){var a=I();t.exports=(e,t,n,r)=>{"string"==typeof n&&(r=n,n=void 0);try{return new a(e instanceof a?e.version:e,n).inc(t,r).version}catch(e){return null}}}}),a=e({"../../node_modules/semver/functions/compare.js"(e,t){var r=I();t.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))}}),oe=e({"../../node_modules/semver/functions/eq.js"(e,t){var r=a();t.exports=(e,t,n)=>0===r(e,t,n)}}),ie=e({"../../node_modules/semver/functions/diff.js"(e,t){var i=te(),s=oe();t.exports=(e,t)=>{if(s(e,t))return null;var n=i(e),r=i(t),e=n.prerelease.length||r.prerelease.length,a=e?"pre":"",t=e?"prerelease":"";for(const o in n)if(("major"===o||"minor"===o||"patch"===o)&&n[o]!==r[o])return a+o;return t}}}),se=e({"../../node_modules/semver/functions/major.js"(e,t){var n=I();t.exports=(e,t)=>new n(e,t).major}}),le=e({"../../node_modules/semver/functions/minor.js"(e,t){var n=I();t.exports=(e,t)=>new n(e,t).minor}}),ce=e({"../../node_modules/semver/functions/patch.js"(e,t){var n=I();t.exports=(e,t)=>new n(e,t).patch}}),ue=e({"../../node_modules/semver/functions/prerelease.js"(e,t){var n=te();t.exports=(e,t)=>{e=n(e,t);return e&&e.prerelease.length?e.prerelease:null}}}),pe=e({"../../node_modules/semver/functions/rcompare.js"(e,t){var r=a();t.exports=(e,t,n)=>r(t,e,n)}}),de=e({"../../node_modules/semver/functions/compare-loose.js"(e,t){var n=a();t.exports=(e,t)=>n(e,t,!0)}}),he=e({"../../node_modules/semver/functions/compare-build.js"(e,t){var a=I();t.exports=(e,t,n)=>{const r=new a(e,n);e=new a(t,n);return r.compare(e)||r.compareBuild(e)}}}),fe=e({"../../node_modules/semver/functions/sort.js"(e,t){var r=he();t.exports=(e,n)=>e.sort((e,t)=>r(e,t,n))}}),me=e({"../../node_modules/semver/functions/rsort.js"(e,t){var r=he();t.exports=(e,n)=>e.sort((e,t)=>r(t,e,n))}}),ge=e({"../../node_modules/semver/functions/gt.js"(e,t){var r=a();t.exports=(e,t,n)=>0<r(e,t,n)}}),ve=e({"../../node_modules/semver/functions/lt.js"(e,t){var r=a();t.exports=(e,t,n)=>r(e,t,n)<0}}),ye=e({"../../node_modules/semver/functions/neq.js"(e,t){var r=a();t.exports=(e,t,n)=>0!==r(e,t,n)}}),be=e({"../../node_modules/semver/functions/gte.js"(e,t){var r=a();t.exports=(e,t,n)=>0<=r(e,t,n)}}),Se=e({"../../node_modules/semver/functions/lte.js"(e,t){var r=a();t.exports=(e,t,n)=>r(e,t,n)<=0}}),we=e({"../../node_modules/semver/functions/cmp.js"(e,t){var a=oe(),o=ye(),i=ge(),s=be(),l=ve(),c=Se();t.exports=(e,t,n,r)=>{switch(t){case"===":return(e="object"==typeof e?e.version:e)===(n="object"==typeof n?n.version:n);case"!==":return(e="object"==typeof e?e.version:e)!==(n="object"==typeof n?n.version:n);case"":case"=":case"==":return a(e,n,r);case"!=":return o(e,n,r);case">":return i(e,n,r);case">=":return s(e,n,r);case"<":return l(e,n,r);case"<=":return c(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}}}),Ee=e({"../../node_modules/semver/functions/coerce.js"(e,t){var a=I(),o=te(),{re:i,t:s}=Q();t.exports=(e,t)=>{if(e instanceof a)return e;if("string"!=typeof(e="number"==typeof e?String(e):e))return null;let n=null;if((t=t||{}).rtl){for(var r;(r=i[s.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&r.index+r[0].length===n.index+n[0].length||(n=r),i[s.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;i[s.COERCERTL].lastIndex=-1}else n=e.match(i[s.COERCE]);return null===n?null:o(`${n[2]}.${n[3]||"0"}.`+(n[4]||"0"),t)}}}),ke=e({"../../node_modules/yallist/iterator.js"(e,t){"use strict";t.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}}}),Oe=e({"../../node_modules/yallist/yallist.js"(e,t){"use strict";function o(e){var t=this;if((t=t instanceof o?t:new o).tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(0<arguments.length)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}function i(e,t,n,r){if(!(this instanceof i))return new i(e,t,n,r);this.list=r,this.value=e,t?(t.next=this).prev=t:this.prev=null,n?(n.prev=this).next=n:this.next=null}(t.exports=o).Node=i,(o.create=o).prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},o.prototype.unshiftNode=function(e){var t;e!==this.head&&(e.list&&e.list.removeNode(e),t=this.head,e.list=this,(e.next=t)&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++)},o.prototype.pushNode=function(e){var t;e!==this.tail&&(e.list&&e.list.removeNode(e),t=this.tail,e.list=this,(e.prev=t)&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++)},o.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++){r=n=void 0;var n=this,r=arguments[e];n.tail=new i(r,n.tail,null,n),n.head||(n.head=n.tail),n.length++}return this.length},o.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++){r=n=void 0;var n=this,r=arguments[e];n.head=new i(r,null,n.head,n),n.tail||(n.tail=n.head),n.length++}return this.length},o.prototype.pop=function(){var e;if(this.tail)return e=this.tail.value,this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e},o.prototype.shift=function(){var e;if(this.head)return e=this.head.value,this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e},o.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},o.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},o.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},o.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},o.prototype.map=function(e,t){t=t||this;for(var n=new o,r=this.head;null!==r;)n.push(e.call(t,r.value,this)),r=r.next;return n},o.prototype.mapReverse=function(e,t){t=t||this;for(var n=new o,r=this.tail;null!==r;)n.push(e.call(t,r.value,this)),r=r.prev;return n},o.prototype.reduce=function(e,t){var n,r=this.head;if(1<arguments.length)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var a=0;null!==r;a++)n=e(n,r.value,a),r=r.next;return n},o.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(1<arguments.length)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var a=this.length-1;null!==r;a--)n=e(n,r.value,a),r=r.prev;return n},o.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},o.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},o.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new o;if(!(t<e||t<0)){e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,a=this.head;null!==a&&r<e;r++)a=a.next;for(;null!==a&&r<t;r++,a=a.next)n.push(a.value)}return n},o.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new o;if(!(t<e||t<0)){e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,a=this.tail;null!==a&&t<r;r--)a=a.prev;for(;null!==a&&e<r;r--,a=a.prev)n.push(a.value)}return n},o.prototype.splice=function(e,t,...n){(e=e>this.length?this.length-1:e)<0&&(e=this.length+e);for(var r=0,a=this.head;null!==a&&r<e;r++)a=a.next;for(var o=[],r=0;a&&r<t;r++)o.push(a.value),a=this.removeNode(a);(a=null===a?this.tail:a)!==this.head&&a!==this.tail&&(a=a.prev);for(r=0;r<n.length;r++)a=function(e,t,n){n=t===e.head?new i(n,null,t,e):new i(n,t,t.next,e);null===n.next&&(e.tail=n);null===n.prev&&(e.head=n);return e.length++,n}(this,a,n[r]);return o},o.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{ke()(o)}catch(e){}}}),xe=e({"../../node_modules/lru-cache/index.js"(e,t){"use strict";var n=Oe(),i=Symbol("max"),s=Symbol("length"),l=Symbol("lengthCalculator"),o=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),p=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),a=Symbol("updateAgeOnGet"),r=()=>1,f=(e,t,n)=>{const r=e[h].get(t);if(r){t=r.value;if(m(e,t)){if(v(e,r),!e[o])return}else n&&(e[a]&&(r.value.now=Date.now()),e[d].unshiftNode(r));return t.value}},m=(e,t)=>{var n;return!(!t||!t.maxAge&&!e[c])&&(n=Date.now()-t.now,t.maxAge?n>t.maxAge:e[c]&&n>e[c])},g=t=>{if(t[s]>t[i])for(let e=t[d].tail;t[s]>t[i]&&null!==e;){var n=e.prev;v(t,e),e=n}},v=(e,t)=>{var n;t&&(n=t.value,e[u]&&e[u](n.key,n.value),e[s]-=n.length,e[h].delete(n.key),e[d].removeNode(t))},y=class{constructor(e,t,n,r,a){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=a||0}},b=(e,t,n,r)=>{let a=n.value;m(e,a)&&(v(e,n),e[o]||(a=void 0)),a&&t.call(r,a.value,a.key,e)};t.exports=class{constructor(e){if((e=(e="number"==typeof e?{max:e}:e)||{}).max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;var t=e.length||r;if(this[l]="function"!=typeof t?r:t,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[p]=e.noDisposeOnSet||!1,this[a]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,g(this)}get max(){return this[i]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,g(this)}get maxAge(){return this[c]}set lengthCalculator(e){(e="function"!=typeof e?r:e)!==this[l]&&(this[l]=e,this[s]=0,this[d].forEach(e=>{e.length=this[l](e.value,e.key),this[s]+=e.length})),g(this)}get lengthCalculator(){return this[l]}get length(){return this[s]}get itemCount(){return this[d].length}rforEach(t,n){n=n||this;for(let e=this[d].tail;null!==e;){var r=e.prev;b(this,t,e,n),e=r}}forEach(t,n){n=n||this;for(let e=this[d].head;null!==e;){var r=e.next;b(this,t,e,n),e=r}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[u]&&this[d]&&this[d].length&&this[d].forEach(e=>this[u](e.key,e.value)),this[h]=new Map,this[d]=new n,this[s]=0}dump(){return this[d].map(e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,n){if((n=n||this[c])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");var r=n?Date.now():0,a=this[l](t,e);if(this[h].has(e)){if(a>this[i])return v(this,this[h].get(e)),!1;const o=this[h].get(e).value;this[u]&&!this[p]&&this[u](e,o.value),o.now=r,o.maxAge=n,o.value=t,this[s]+=a-o.length,o.length=a,this.get(e)}else{if((a=new y(e,t,a,r,n)).length>this[i])return this[u]&&this[u](e,t),!1;this[s]+=a.length,this[d].unshift(a),this[h].set(e,this[d].head)}return g(this),!0}has(e){return!!this[h].has(e)&&(e=this[h].get(e).value,!m(this,e))}get(e){return f(this,e,!0)}peek(e){return f(this,e,!1)}pop(){var e=this[d].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[h].get(e))}load(t){this.reset();var n=Date.now();for(let e=t.length-1;0<=e;e--){var r=t[e],a=r.e||0;0===a?this.set(r.k,r.v):0<(a=a-n)&&this.set(r.k,r.v,a)}}prune(){this[h].forEach((e,t)=>f(this,t,!1))}}}}),p=e({"../../node_modules/semver/classes/range.js"(e,t){var r=class{constructor(e,t){if(t=a(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof l)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);if(1<this.set.length){t=this.set[0];if(this.set=this.set.filter(e=>!m(e[0])),0===this.set.length)this.set=[t];else if(1<this.set.length)for(const n of this.set)if(1===n.length&&o(n[0])){this.set=[n];break}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();var t=`parseRange:${Object.keys(this.options).join(",")}:`+e,n=s.get(t);if(n)return n;var n=this.options.loose,r=n?d[h.HYPHENRANGELOOSE]:d[h.HYPHENRANGE];e=e.replace(r,C(this.options.includePrerelease)),p("hyphen replace",e),e=e.replace(d[h.COMPARATORTRIM],c),p("comparator trim",e);let a=(e=(e=(e=e.replace(d[h.TILDETRIM],u)).replace(d[h.CARETTRIM],f)).split(/\s+/).join(" ")).split(" ").map(e=>g(e,this.options)).join(" ").split(/\s+/).map(e=>x(e,this.options));n&&(a=a.filter(e=>(p("loose invalid filter",e,this.options),!!e.match(d[h.COMPARATORLOOSE])))),p("range list",a);const o=new Map;for(const i of a.map(e=>new l(e,this.options))){if(m(i))return[i];o.set(i.value,i)}1<o.size&&o.has("")&&o.delete("");r=[...o.values()];return s.set(t,r),r}intersects(e,n){if(e instanceof r)return this.set.some(t=>i(t,n)&&e.set.some(e=>i(e,n)&&t.every(t=>e.every(e=>t.intersects(e,n)))));throw new TypeError("a Range is required")}test(t){if(t){if("string"==typeof t)try{t=new n(t,this.options)}catch(e){return!1}for(let e=0;e<this.set.length;e++)if(N(this.set[e],t,this.options))return!0}return!1}};t.exports=r;var s=new(xe())({max:1e3}),a=Z(),l=Ce(),p=X(),n=I(),{re:d,t:h,comparatorTrimReplace:c,tildeTrimReplace:u,caretTrimReplace:f}=Q(),m=e=>"<0.0.0-0"===e.value,o=e=>""===e.value,i=(e,t)=>{let n=!0;const r=e.slice();let a=r.pop();for(;n&&r.length;)n=r.every(e=>a.intersects(e,t)),a=r.pop();return n},g=(e,t)=>(p("comp",e,t),e=S(e,t),p("caret",e),e=y(e,t),p("tildes",e),e=E(e,t),p("xrange",e),e=O(e,t),p("stars",e),e),v=e=>!e||"x"===e.toLowerCase()||"*"===e,y=(e,t)=>e.trim().split(/\s+/).map(e=>b(e,t)).join(" "),b=(i,e)=>{e=e.loose?d[h.TILDELOOSE]:d[h.TILDE];return i.replace(e,(e,t,n,r,a)=>{p("tilde",i,e,t,n,r,a);let o;return o=v(t)?"":v(n)?`>=${t}.0.0 <${+t+1}.0.0-0`:v(r)?`>=${t}.${n}.0 <${t}.${+n+1}.0-0`:a?(p("replaceTilde pr",a),`>=${t}.${n}.${r}-${a} <${t}.${+n+1}.0-0`):`>=${t}.${n}.${r} <${t}.${+n+1}.0-0`,p("tilde return",o),o})},S=(e,t)=>e.trim().split(/\s+/).map(e=>w(e,t)).join(" "),w=(i,e)=>{p("caret",i,e);var t=e.loose?d[h.CARETLOOSE]:d[h.CARET];const s=e.includePrerelease?"-0":"";return i.replace(t,(e,t,n,r,a)=>{p("caret",i,e,t,n,r,a);let o;return o=v(t)?"":v(n)?`>=${t}.0.0${s} <${+t+1}.0.0-0`:v(r)?"0"===t?`>=${t}.${n}.0${s} <${t}.${+n+1}.0-0`:`>=${t}.${n}.0${s} <${+t+1}.0.0-0`:a?(p("replaceCaret pr",a),"0"===t?"0"===n?`>=${t}.${n}.${r}-${a} <${t}.${n}.${+r+1}-0`:`>=${t}.${n}.${r}-${a} <${t}.${+n+1}.0-0`:`>=${t}.${n}.${r}-${a} <${+t+1}.0.0-0`):(p("no pr"),"0"===t?"0"===n?`>=${t}.${n}.${r}${s} <${t}.${n}.${+r+1}-0`:`>=${t}.${n}.${r}${s} <${t}.${+n+1}.0-0`:`>=${t}.${n}.${r} <${+t+1}.0.0-0`),p("caret return",o),o})},E=(e,t)=>(p("replaceXRanges",e,t),e.split(/\s+/).map(e=>k(e,t)).join(" ")),k=(c,u)=>{c=c.trim();var e=u.loose?d[h.XRANGELOOSE]:d[h.XRANGE];return c.replace(e,(e,t,n,r,a,o)=>{p("xRange",c,e,t,n,r,a,o);var i=v(n),s=i||v(r),l=s||v(a);return"="===t&&l&&(t=""),o=u.includePrerelease?"-0":"",i?e=">"===t||"<"===t?"<0.0.0-0":"*":t&&l?(s&&(r=0),a=0,">"===t?(t=">=",a=s?(n=+n+1,r=0):(r=+r+1,0)):"<="===t&&(t="<",s?n=+n+1:r=+r+1),e=t+n+`.${r}.`+a+(o="<"===t?"-0":o)):s?e=`>=${n}.0.0${o} <${+n+1}.0.0-0`:l&&(e=`>=${n}.${r}.0${o} <${n}.${+r+1}.0-0`),p("xRange return",e),e})},O=(e,t)=>(p("replaceStars",e,t),e.trim().replace(d[h.STAR],"")),x=(e,t)=>(p("replaceGTE0",e,t),e.trim().replace(d[t.includePrerelease?h.GTE0PRE:h.GTE0],"")),C=h=>(e,t,n,r,a,o,i,s,l,c,u,p,d)=>((t=v(n)?"":v(r)?`>=${n}.0.0`+(h?"-0":""):v(a)?`>=${n}.${r}.0`+(h?"-0":""):o?">="+t:">="+t+(h?"-0":""))+" "+(s=v(l)?"":v(c)?`<${+l+1}.0.0-0`:v(u)?`<${l}.${+c+1}.0-0`:p?`<=${l}.${c}.${u}-`+p:h?`<${l}.${c}.${+u+1}-0`:"<="+s)).trim(),N=(t,n,e)=>{for(let e=0;e<t.length;e++)if(!t[e].test(n))return!1;if(!n.prerelease.length||e.includePrerelease)return!0;for(let e=0;e<t.length;e++)if(p(t[e].semver),t[e].semver!==l.ANY&&0<t[e].semver.prerelease.length){var r=t[e].semver;if(r.major===n.major&&r.minor===n.minor&&r.patch===n.patch)return!0}return!1}}}),Ce=e({"../../node_modules/semver/classes/comparator.js"(e,t){var n=Symbol("SemVer ANY"),s=class{static get ANY(){return n}constructor(e,t){if(t=r(t),e instanceof s){if(e.loose===!!t.loose)return e;e=e.value}i("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}parse(e){var t=this.options.loose?a[o.COMPARATORLOOSE]:a[o.COMPARATOR],t=e.match(t);if(!t)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==t[1]?t[1]:"","="===this.operator&&(this.operator=""),t[2]?this.semver=new c(t[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(i("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){var n,r,a,o,i;if(e instanceof s)return t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator?""===this.value||new u(e.value,t).test(this.value):""===e.operator?""===e.value||new u(this.value,t).test(e.semver):(n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),a=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),i=l(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),t=l(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator),n||r||a&&o||i||t);throw new TypeError("a Comparator is required")}},r=(t.exports=s,Z()),{re:a,t:o}=Q(),l=we(),i=X(),c=I(),u=p()}}),Ne=e({"../../node_modules/semver/functions/satisfies.js"(e,t){var r=p();t.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}}}),Ie=e({"../../node_modules/semver/ranges/to-comparators.js"(e,t){var n=p();t.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))}}),Le=e({"../../node_modules/semver/ranges/max-satisfying.js"(e,t){var i=I(),s=p();t.exports=(e,t,n)=>{let r=null,a=null,o=null;try{o=new s(t,n)}catch(e){return null}return e.forEach(e=>{!o.test(e)||r&&-1!==a.compare(e)||(r=e,a=new i(r,n))}),r}}}),Pe=e({"../../node_modules/semver/ranges/min-satisfying.js"(e,t){var i=I(),s=p();t.exports=(e,t,n)=>{let r=null,a=null,o=null;try{o=new s(t,n)}catch(e){return null}return e.forEach(e=>{!o.test(e)||r&&1!==a.compare(e)||(r=e,a=new i(r,n))}),r}}}),Re=e({"../../node_modules/semver/ranges/min-version.js"(e,t){var o=I(),n=p(),i=ge();t.exports=(t,e)=>{t=new n(t,e);let r=new o("0.0.0");if(t.test(r))return r;if(r=new o("0.0.0-0"),t.test(r))return r;r=null;for(let e=0;e<t.set.length;++e){const a=t.set[e];let n=null;a.forEach(e=>{const t=new o(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!i(t,n)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}),!n||r&&!i(r,n)||(r=n)}return r&&t.test(r)?r:null}}}),je=e({"../../node_modules/semver/ranges/valid.js"(e,t){var n=p();t.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}}}),_e=e({"../../node_modules/semver/ranges/outside.js"(e,t){var n=I(),d=Ce(),h=d["ANY"],f=p(),m=Ne(),g=ge(),v=ve(),y=Se(),b=be();t.exports=(r,a,e,o)=>{r=new n(r,o),a=new f(a,o);let i,s,l,c,u;switch(e){case">":i=g,s=y,l=v,c=">",u=">=";break;case"<":i=v,s=b,l=g,c="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(m(r,a,o))return!1;for(let e=0;e<a.set.length;++e){const p=a.set[e];let t=null,n=null;if(p.forEach(e=>{e.semver===h&&(e=new d(">=0.0.0")),t=t||e,n=n||e,i(e.semver,t.semver,o)?t=e:l(e.semver,n.semver,o)&&(n=e)}),t.operator===c||t.operator===u)return!1;if((!n.operator||n.operator===c)&&s(r,n.semver))return!1;if(n.operator===u&&l(r,n.semver))return!1}return!0}}}),Te=e({"../../node_modules/semver/ranges/gtr.js"(e,t){var r=_e();t.exports=(e,t,n)=>r(e,t,">",n)}}),Ae=e({"../../node_modules/semver/ranges/ltr.js"(e,t){var r=_e();t.exports=(e,t,n)=>r(e,t,"<",n)}}),De=e({"../../node_modules/semver/ranges/intersects.js"(e,t){var r=p();t.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t))}}),$e=e({"../../node_modules/semver/ranges/simplify.js"(e,t){var h=Ne(),f=a();t.exports=(e,t,n)=>{const r=[];let a=null,o=null;var i,s,l=e.sort((e,t)=>f(e,t,n));for(const d of l){var c=h(d,t,n);a=c?(o=d,a||d):(o&&r.push([a,o]),o=null)}a&&r.push([a,null]);const u=[];for([i,s]of r)i===s?u.push(i):s||i!==l[0]?s?i===l[0]?u.push("<="+s):u.push(i+" - "+s):u.push(">="+i):u.push("*");var e=u.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return e.length<p.length?e:t}}}),Fe=e({"../../node_modules/semver/ranges/subset.js"(e,t){var s=p(),v=Ce(),y=v["ANY"],b=Ne(),S=a(),w=(e,t,n)=>{return!e||!(0<(n=S(e.semver,t.semver,n)))&&(n<0||">"===t.operator&&">="===e.operator)?t:e},E=(e,t,n)=>{return!e||!((n=S(e.semver,t.semver,n))<0)&&(0<n||"<"===t.operator&&"<="===e.operator)?t:e};t.exports=(t,n,r={})=>{if(t!==n){t=new s(t,r),n=new s(n,r);let e=!1;e:for(const o of t.set){for(const i of n.set){var a=((s,l,c)=>{if(s!==l){if(1===s.length&&s[0].semver===y){if(1===l.length&&l[0].semver===y)return!0;s=c.includePrerelease?[new v(">=0.0.0-0")]:[new v(">=0.0.0")]}if(1===l.length&&l[0].semver===y){if(c.includePrerelease)return!0;l=[new v(">=0.0.0")]}const d=new Set;let e,t;for(const h of s)">"===h.operator||">="===h.operator?e=w(e,h,c):"<"===h.operator||"<="===h.operator?t=E(t,h,c):d.add(h.semver);if(1<d.size)return null;let n;if(e&&t){if(0<(n=S(e.semver,t.semver,c)))return null;if(0===n&&(">="!==e.operator||"<="!==t.operator))return null}for(const f of d){if(e&&!b(f,String(e),c))return null;if(t&&!b(f,String(t),c))return null;for(const m of l)if(!b(f,String(m),c))return!1;return!0}var u,p;let r,a,o=!(!t||c.includePrerelease||!t.semver.prerelease.length)&&t.semver,i=!(!e||c.includePrerelease||!e.semver.prerelease.length)&&e.semver;o&&1===o.prerelease.length&&"<"===t.operator&&0===o.prerelease[0]&&(o=!1);for(const g of l){if(a=a||">"===g.operator||">="===g.operator,r=r||"<"===g.operator||"<="===g.operator,e)if(i&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===i.major&&g.semver.minor===i.minor&&g.semver.patch===i.patch&&(i=!1),">"===g.operator||">="===g.operator){if((u=w(e,g,c))===g&&u!==e)return!1}else if(">="===e.operator&&!b(e.semver,String(g),c))return!1;if(t)if(o&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===o.major&&g.semver.minor===o.minor&&g.semver.patch===o.patch&&(o=!1),"<"===g.operator||"<="===g.operator){if((p=E(t,g,c))===g&&p!==t)return!1}else if("<="===t.operator&&!b(t.semver,String(g),c))return!1;if(!g.operator&&(t||e)&&0!==n)return!1}if(e&&r&&!t&&0!==n)return!1;if(t&&a&&!e&&0!==n)return!1;if(i||o)return!1}return true})(o,i,r);if(e=e||null!==a,a)continue e}if(e)return!1}}return!0}}}),n=e({"../../node_modules/semver/index.js"(e,t){var n=Q();t.exports={re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:Y().SEMVER_SPEC_VERSION,SemVer:I(),compareIdentifiers:ee().compareIdentifiers,rcompareIdentifiers:ee().rcompareIdentifiers,parse:te(),valid:ne(),clean:re(),inc:ae(),diff:ie(),major:se(),minor:le(),patch:ce(),prerelease:ue(),compare:a(),rcompare:pe(),compareLoose:de(),compareBuild:he(),sort:fe(),rsort:me(),gt:ge(),lt:ve(),eq:oe(),neq:ye(),gte:be(),lte:Se(),cmp:we(),coerce:Ee(),Comparator:Ce(),Range:p(),satisfies:Ne(),toComparators:Ie(),maxSatisfying:Le(),minSatisfying:Pe(),minVersion:Re(),validRange:je(),outside:_e(),gtr:Te(),ltr:Ae(),intersects:De(),simplifyRange:$e(),subset:Fe()}}}),Me=e({"../../node_modules/react-simple-code-editor/lib/index.js"(e){"use strict";var r,t,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),E=e&&e.__assign||function(){return(E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&("get"in a?t.__esModule:!a.writable&&!a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),o=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},k=e&&e.__rest||function(e,t){var n={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n},O=(Object.defineProperty(e,"__esModule",{value:!0}),i(y("react"))),g="undefined"!=typeof window&&"navigator"in window&&/Win/i.test(navigator.platform),v="undefined"!=typeof window&&"navigator"in window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),x="npm__react-simple-code-editor__textarea",C="\n/**\n * Reset the text fill color so that placeholder is visible\n */\n.".concat(x,":empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  .").concat(x," {\n    color: transparent !important;\n  }\n\n  .").concat(x,"::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n"),i=(t=O.Component,n(s,t),s.prototype.componentDidMount=function(){this._recordCurrentState()},Object.defineProperty(s.prototype,"session",{get:function(){return{history:this._history}},set:function(e){this._history=e.history},enumerable:!1,configurable:!0}),s.prototype.render=function(){var t=this,e=this.props,n=e.value,r=e.style,a=e.padding,o=e.highlight,i=e.textareaId,s=e.textareaClassName,l=e.autoFocus,c=e.disabled,u=e.form,p=e.maxLength,d=e.minLength,h=e.name,f=e.placeholder,m=e.readOnly,g=e.required,v=e.onClick,y=e.onFocus,b=e.onBlur,S=e.onKeyUp,w=(e.onKeyDown,e.onValueChange,e.tabSize,e.insertSpaces,e.ignoreTabKey,e.preClassName),e=k(e,["value","style","padding","highlight","textareaId","textareaClassName","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey","preClassName"]),a={paddingTop:"object"==typeof a?a.top:a,paddingRight:"object"==typeof a?a.right:a,paddingBottom:"object"==typeof a?a.bottom:a,paddingLeft:"object"==typeof a?a.left:a},o=o(n);return O.createElement("div",E({},e,{style:E(E({},N.container),r)}),O.createElement("pre",E({className:w,"aria-hidden":"true",style:E(E(E({},N.editor),N.highlight),a)},"string"==typeof o?{dangerouslySetInnerHTML:{__html:o+"<br />"}}:{children:o})),O.createElement("textarea",{ref:function(e){return t._input=e},style:E(E(E({},N.editor),N.textarea),a),className:x+(s?" ".concat(s):""),id:i,value:n,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:v,onKeyUp:S,onFocus:y,onBlur:b,disabled:c,form:u,maxLength:p,minLength:d,name:h,placeholder:f,readOnly:m,required:g,autoFocus:l,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),O.createElement("style",{dangerouslySetInnerHTML:{__html:C}}))},s.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},s);function s(){var m=null!==t&&t.apply(this,arguments)||this;return m.state={capture:!0},m._recordCurrentState=function(){var e,t,n=m._input;n&&(e=n.value,t=n.selectionStart,n=n.selectionEnd,m._recordChange({value:e,selectionStart:t,selectionEnd:n}))},m._getLines=function(e,t){return e.substring(0,t).split("\n")},m._recordChange=function(e,t){void 0===t&&(t=!1);var n=m._history,r=n.stack,n=n.offset,n=(r.length&&-1<n&&(m._history.stack=r.slice(0,n+1),100<(n=m._history.stack.length)&&(m._history.stack=r.slice(r=n-100,n),m._history.offset=Math.max(m._history.offset-r,0))),Date.now());if(t){var r=m._history.stack[m._history.offset];if(r&&n-r.timestamp<3e3){var t=/[^a-z0-9]([a-z0-9]+)$/i,r=null==(r=m._getLines(r.value,r.selectionStart).pop())?void 0:r.match(t),a=null==(a=m._getLines(e.value,e.selectionStart).pop())?void 0:a.match(t);if(null!=r&&r[1]&&null!=(t=null==a?void 0:a[1])&&t.startsWith(r[1]))return void(m._history.stack[m._history.offset]=E(E({},e),{timestamp:n}))}}m._history.stack.push(E(E({},e),{timestamp:n})),m._history.offset++},m._updateInput=function(e){var t=m._input;t&&(t.value=e.value,t.selectionStart=e.selectionStart,t.selectionEnd=e.selectionEnd,m.props.onValueChange(e.value))},m._applyEdits=function(e){var t=m._input,n=m._history.stack[m._history.offset];n&&t&&(m._history.stack[m._history.offset]=E(E({},n),{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})),m._recordChange(e),m._updateInput(e)},m._undoEdit=function(){var e=m._history,t=e.stack,e=e.offset,t=t[e-1];t&&(m._updateInput(t),m._history.offset=Math.max(e-1,0))},m._redoEdit=function(){var e=m._history,t=e.stack,e=e.offset,n=t[e+1];n&&(m._updateInput(n),m._history.offset=Math.min(e+1,t.length-1))},m._handleKeyDown=function(e){var t,n,r,a,o,i,s,l,c,u,p=m.props,d=p.tabSize,h=p.insertSpaces,f=p.ignoreTabKey,p=p.onKeyDown;p&&(p(e),e.defaultPrevented)||(27===e.keyCode&&e.currentTarget.blur(),t=(p=e.currentTarget).value,n=p.selectionStart,p=p.selectionEnd,r=(h?" ":"\t").repeat(d),9===e.keyCode&&!f&&m.state.capture?(e.preventDefault(),e.shiftKey?(a=(l=m._getLines(t,n)).length-1,o=m._getLines(t,p).length-1,h=t.split("\n").map(function(e,t){return a<=t&&t<=o&&e.startsWith(r)?e.substring(r.length):e}).join("\n"),t!==h&&(u=l[a],m._applyEdits({value:h,selectionStart:null!=u&&u.startsWith(r)?n-r.length:n,selectionEnd:p-(t.length-h.length)}))):n!==p?(i=(l=m._getLines(t,n)).length-1,s=m._getLines(t,p).length-1,u=l[i],m._applyEdits({value:t.split("\n").map(function(e,t){return i<=t&&t<=s?r+e:e}).join("\n"),selectionStart:u&&/\S/.test(u)?n+r.length:n,selectionEnd:p+r.length*(s-i+1)})):(c=n+r.length,m._applyEdits({value:t.substring(0,n)+r+t.substring(p),selectionStart:c,selectionEnd:c}))):8===e.keyCode?(d=n!==p,t.substring(0,n).endsWith(r)&&!d&&(e.preventDefault(),c=n-r.length,m._applyEdits({value:t.substring(0,n-r.length)+t.substring(p),selectionStart:c,selectionEnd:c}))):13===e.keyCode?n===p&&null!=(h=null==(f=m._getLines(t,n).pop())?void 0:f.match(/^\s+/))&&h[0]&&(e.preventDefault(),c=n+(l="\n"+h[0]).length,m._applyEdits({value:t.substring(0,n)+l+t.substring(p),selectionStart:c,selectionEnd:c})):57===e.keyCode||219===e.keyCode||222===e.keyCode||192===e.keyCode?(u=void 0,57===e.keyCode&&e.shiftKey?u=["(",")"]:219===e.keyCode?u=e.shiftKey?["{","}"]:["[","]"]:222===e.keyCode?u=e.shiftKey?['"','"']:["'","'"]:192!==e.keyCode||e.shiftKey||(u=["`","`"]),n!==p&&u&&(e.preventDefault(),m._applyEdits({value:t.substring(0,n)+u[0]+t.substring(n,p)+u[1]+t.substring(p),selectionStart:n,selectionEnd:p+2}))):(v?e.metaKey&&90===e.keyCode:e.ctrlKey&&90===e.keyCode)&&!e.shiftKey&&!e.altKey?(e.preventDefault(),m._undoEdit()):(v?e.metaKey&&90===e.keyCode&&e.shiftKey:g?e.ctrlKey&&89===e.keyCode:e.ctrlKey&&90===e.keyCode&&e.shiftKey)&&!e.altKey?(e.preventDefault(),m._redoEdit()):77!==e.keyCode||!e.ctrlKey||v&&!e.shiftKey||(e.preventDefault(),m.setState(function(e){return{capture:!e.capture}})))},m._handleChange=function(e){var e=e.currentTarget,t=e.value,n=e.selectionStart,e=e.selectionEnd;m._recordChange({value:t,selectionStart:n,selectionEnd:e},!0),m.props.onValueChange(t)},m._history={stack:[],offset:-1},m._input=null,m}e.default=i;var N={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}}}}),Be=e({"../../node_modules/prismjs/components/prism-core.js"(e,t){var l,n,r,a,P,o="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},o=(n=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,r=0,a={},P={manual:(l=o).Prism&&l.Prism.manual,disableWorkerMessageHandler:l.Prism&&l.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof R?new R(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++r}),e.__id},clone:function n(e,r){var a,t;switch(r=r||{},P.util.type(e)){case"Object":if(t=P.util.objId(e),r[t])return r[t];for(var o in a={},r[t]=a,e)e.hasOwnProperty(o)&&(a[o]=n(e[o],r));return a;case"Array":return(t=P.util.objId(e),r[t])?r[t]:(a=[],r[t]=a,e.forEach(function(e,t){a[t]=n(e,r)}),a);default:return e}},getLanguage:function(e){for(;e;){var t=n.exec(e.className);if(t)return t[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,t){e.className=e.className.replace(RegExp(n,"gi"),""),e.classList.add("language-"+t)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(e){var t=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(e.stack)||[])[1];if(t){var n,r=document.getElementsByTagName("script");for(n in r)if(r[n].src==t)return r[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var a=e.classList;if(a.contains(t))return!0;if(a.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(e,t){var n,r=P.util.clone(P.languages[e]);for(n in t)r[n]=t[n];return r},insertBefore:function(n,e,t,r){var a,o=(r=r||P.languages)[n],i={};for(a in o)if(o.hasOwnProperty(a)){if(a==e)for(var s in t)t.hasOwnProperty(s)&&(i[s]=t[s]);t.hasOwnProperty(a)||(i[a]=o[a])}var l=r[n];return r[n]=i,P.languages.DFS(P.languages,function(e,t){t===l&&e!=n&&(this[e]=i)}),i},DFS:function e(t,n,r,a){a=a||{};var o,i,s,l=P.util.objId;for(o in t)t.hasOwnProperty(o)&&(n.call(t,o,t[o],r||o),i=t[o],"Object"!==(s=P.util.type(i))||a[l(i)]?"Array"!==s||a[l(i)]||(a[l(i)]=!0,e(i,n,o,a)):(a[l(i)]=!0,e(i,n,null,a)))}},plugins:{},highlightAll:function(e,t){P.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};P.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),P.hooks.run("before-all-elements-highlight",r);for(var a,o=0;a=r.elements[o++];)P.highlightElement(a,!0===t,r.callback)},highlightElement:function(e,t,n){var r=P.util.getLanguage(e),a=P.languages[r],o=(P.util.setLanguage(e,r),e.parentElement);o&&"pre"===o.nodeName.toLowerCase()&&P.util.setLanguage(o,r);var i={element:e,language:r,grammar:a,code:e.textContent};function s(e){i.highlightedCode=e,P.hooks.run("before-insert",i),i.element.innerHTML=i.highlightedCode,P.hooks.run("after-highlight",i),P.hooks.run("complete",i),n&&n.call(i.element)}P.hooks.run("before-sanity-check",i),(o=i.element.parentElement)&&"pre"===o.nodeName.toLowerCase()&&!o.hasAttribute("tabindex")&&o.setAttribute("tabindex","0"),i.code?(P.hooks.run("before-highlight",i),i.grammar?t&&l.Worker?((r=new Worker(P.filename)).onmessage=function(e){s(e.data)},r.postMessage(JSON.stringify({language:i.language,code:i.code,immediateClose:!0}))):s(P.highlight(i.code,i.grammar,i.language)):s(P.util.encode(i.code))):(P.hooks.run("complete",i),n&&n.call(i.element))},highlight:function(e,t,n){e={code:e,grammar:t,language:n};if(P.hooks.run("before-tokenize",e),e.grammar)return e.tokens=P.tokenize(e.code,e.grammar),P.hooks.run("after-tokenize",e),R.stringify(P.util.encode(e.tokens),e.language);throw new Error('The language "'+e.language+'" has no grammar.')},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}for(var a=new c,o=(_(a,a.head,e),!function e(t,n,r,a,o,i){for(var s in r)if(r.hasOwnProperty(s)&&r[s]){var l=r[s];l=Array.isArray(l)?l:[l];for(var c=0;c<l.length;++c){if(i&&i.cause==s+","+c)return;for(var u,p=l[c],d=p.inside,h=!!p.lookbehind,f=!!p.greedy,m=p.alias,g=(f&&!p.pattern.global&&(u=p.pattern.toString().match(/[imsuy]*$/)[0],p.pattern=RegExp(p.pattern.source,u+"g")),p.pattern||p),v=a.next,y=o;v!==n.tail&&!(i&&y>=i.reach);y+=v.value.length,v=v.next){var b=v.value;if(n.length>t.length)return;if(!(b instanceof R)){var S,w=1;if(f){if(!(S=j(g,y,t,h))||S.index>=t.length)break;var E=S.index,k=S.index+S[0].length,O=y;for(O+=v.value.length;O<=E;)v=v.next,O+=v.value.length;if(O-=v.value.length,y=O,v.value instanceof R)continue;for(var x=v;x!==n.tail&&(O<k||"string"==typeof x.value);x=x.next)w++,O+=x.value.length;w--,b=t.slice(y,O),S.index-=y}else if(!(S=j(g,0,b,h)))continue;var E=S.index,C=S[0],N=b.slice(0,E),I=b.slice(E+C.length),b=y+b.length,L=(i&&b>i.reach&&(i.reach=b),v.prev),N=(N&&(L=_(n,L,N),y+=N.length),T(n,L,w),new R(s,d?P.tokenize(C,d):C,m,C));v=_(n,L,N),I&&_(n,v,I),1<w&&(C={cause:s+","+c,reach:b},e(t,n,r,v.prev,y,C),i&&C.reach>i.reach&&(i.reach=C.reach))}}}}}(e,a,t,a.head,0),a),i=[],s=o.head.next;s!==o.tail;)i.push(s.value),s=s.next;return i},hooks:{all:{},add:function(e,t){var n=P.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=P.hooks.all[e];if(n&&n.length)for(var r,a=0;r=n[a++];)r(t)}},Token:R},l.Prism=P,R.stringify=function t(e,n){if("string"==typeof e)return e;var r;if(Array.isArray(e))return r="",e.forEach(function(e){r+=t(e,n)}),r;var a,o={type:e.type,content:t(e.content,n),tag:"span",classes:["token",e.type],attributes:{},language:n},e=e.alias,i=(e&&(Array.isArray(e)?Array.prototype.push.apply(o.classes,e):o.classes.push(e)),P.hooks.run("wrap",o),"");for(a in o.attributes)i+=" "+a+'="'+(o.attributes[a]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+i+">"+o.content+"</"+o.tag+">"},l.document?((a=P.util.currentScript())&&(P.filename=a.src,a.hasAttribute("data-manual")&&(P.manual=!0)),P.manual||("loading"===(o=document.readyState)||"interactive"===o&&a&&a.defer?document.addEventListener("DOMContentLoaded",i):window.requestAnimationFrame?window.requestAnimationFrame(i):window.setTimeout(i,16))):l.addEventListener&&!P.disableWorkerMessageHandler&&l.addEventListener("message",function(e){var e=JSON.parse(e.data),t=e.language,n=e.code,e=e.immediateClose;l.postMessage(P.highlight(n,P.languages[t],t)),e&&l.close()},!1),P);function R(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function j(e,t,n,r){e.lastIndex=t;t=e.exec(n);return t&&r&&t[1]&&(e=t[1].length,t.index+=e,t[0]=t[0].slice(e)),t}function c(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function _(e,t,n){var r=t.next,n={value:n,prev:t,next:r};return t.next=n,r.prev=n,e.length++,n}function T(e,t,n){for(var r=t.next,a=0;a<n&&r!==e.tail;a++)r=r.next;(t.next=r).prev=t,e.length-=a}function i(){P.manual||P.highlightAll()}void 0!==t&&t.exports&&(t.exports=o),"undefined"!=typeof global&&(global.Prism=o)}}),Ue=e({"../../node_modules/classnames/index.js"(e,t){!function(){"use strict";var i={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r,a=typeof n;if("string"==a||"number"==a)e.push(n);else if(Array.isArray(n))!n.length||(r=s.apply(null,n))&&e.push(r);else if("object"==a)if(n.toString===Object.prototype.toString)for(var o in n)i.call(n,o)&&n[o]&&e.push(o);else e.push(n.toString())}}return e.join(" ")}void 0!==t&&t.exports?t.exports=s.default=s:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return s}):window.classNames=s}()}}),e=e({"../../node_modules/react-dropdown/dist/index.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var p=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n,r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var o;Object.prototype.hasOwnProperty.call(e,n)&&((o=a?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(y("react")),d=(t=Ue())&&t.__esModule?t:{default:t};function i(){var e;return"function"!=typeof WeakMap?null:(i=function(){return e},e=new WeakMap)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m="Select...",t=function(e){var t,n=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");function r(e){var t,n;if(this instanceof r)return t=this,(t=!(n=o(r).call(this,e))||"object"!==s(n)&&"function"!=typeof n?u(t):n).state={selected:t.parseValue(e.value,e.options)||{label:void 0===e.placeholder?m:e.placeholder,value:""},isOpen:!1},t.dropdownRef=(0,p.createRef)(),t.mounted=!0,t.handleDocumentClick=t.handleDocumentClick.bind(u(t)),t.fireChangeEvent=t.fireChangeEvent.bind(u(t)),t;throw new TypeError("Cannot call a class as a function")}return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&f(n,e),n=r,(e=[{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&(this.props.value?(e=this.parseValue(this.props.value,this.props.options))!==this.state.selected&&this.setState({selected:e}):this.setState({selected:{label:void 0===this.props.placeholder?m:this.props.placeholder,value:""}}))}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1)}},{key:"handleMouseDown",value:function(e){this.props.onFocus&&"function"==typeof this.props.onFocus&&this.props.onFocus(this.state.isOpen),"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.props.disabled||this.setState({isOpen:!this.state.isOpen}))}},{key:"parseValue",value:function(t,e){var n;if("string"==typeof t)for(var r,a=0,o=e.length;a<o;a++)"group"===e[a].type?(r=e[a].items.filter(function(e){return e.value===t})).length&&(n=r[0]):void 0!==e[a].value&&e[a].value===t&&(n=e[a]);return n||t}},{key:"setValue",value:function(e,t){e={selected:{value:e,label:t},isOpen:!1};this.fireChangeEvent(e),this.setState(e)}},{key:"fireChangeEvent",value:function(e){e.selected!==this.state.selected&&this.props.onChange&&this.props.onChange(e.selected)}},{key:"renderOption",value:function(n){var e=n.value,t=(void 0===e&&(e=n.label||n),n.label||n.value||n),r=e===this.state.selected.value||e===this.state.selected;h(a={},"".concat(this.props.baseClassName,"-option"),!0),h(a,n.className,!!n.className),h(a,"is-selected",r);var a=(0,d.default)(a),o=Object.keys(n.data||{}).reduce(function(e,t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){h(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},e,h({},"data-".concat(t),n.data[t]))},{});return p.default.createElement("div",l({key:e,className:a,onMouseDown:this.setValue.bind(this,e,t),onClick:this.setValue.bind(this,e,t),role:"option","aria-selected":r?"true":"false"},o),t)}},{key:"buildMenu",value:function(){var r=this,e=this.props,t=e.options,a=e.baseClassName,e=t.map(function(e){var t,n;return"group"===e.type?(t=p.default.createElement("div",{className:"".concat(a,"-title")},e.name),n=e.items.map(function(e){return r.renderOption(e)}),p.default.createElement("div",{className:"".concat(a,"-group"),key:e.name,role:"listbox",tabIndex:"-1"},t,n)):r.renderOption(e)});return e.length?e:p.default.createElement("div",{className:"".concat(a,"-noresults")},"No options found")}},{key:"handleDocumentClick",value:function(e){!this.mounted||this.dropdownRef.current.contains(e.target)||this.state.isOpen&&this.setState({isOpen:!1})}},{key:"isValueSelected",value:function(){return"string"==typeof this.state.selected||""!==this.state.selected.value}},{key:"render",value:function(){var e=this.props,t=e.baseClassName,n=e.controlClassName,r=e.placeholderClassName,a=e.menuClassName,o=e.arrowClassName,i=e.arrowClosed,s=e.arrowOpen,e=e.className,l=this.props.disabled?"Dropdown-disabled":"",c="string"==typeof this.state.selected?this.state.selected:this.state.selected.label,e=(0,d.default)((h(u={},"".concat(t,"-root"),!0),h(u,e,!!e),h(u,"is-open",this.state.isOpen),u)),n=(0,d.default)((h(u={},"".concat(t,"-control"),!0),h(u,n,!!n),h(u,l,!!l),u)),u=(0,d.default)((h(l={},"".concat(t,"-placeholder"),!0),h(l,r,!!r),h(l,"is-selected",this.isValueSelected()),l)),l=(0,d.default)((h(r={},"".concat(t,"-menu"),!0),h(r,a,!!a),r)),r=(0,d.default)((h(a={},"".concat(t,"-arrow"),!0),h(a,o,!!o),a)),o=p.default.createElement("div",{className:u},c),a=this.state.isOpen?p.default.createElement("div",{className:l,"aria-expanded":"true"},this.buildMenu()):null;return p.default.createElement("div",{ref:this.dropdownRef,className:e},p.default.createElement("div",{className:n,onMouseDown:this.handleMouseDown.bind(this),onTouchEnd:this.handleMouseDown.bind(this),"aria-haspopup":"listbox"},o,p.default.createElement("div",{className:"".concat(t,"-arrow-wrapper")},s&&i?this.state.isOpen?s:i:p.default.createElement("span",{className:r}))),a)}}])&&a(n.prototype,e),t&&a(n,t),r}(p.Component);t.defaultProps={baseClassName:"Dropdown"},e.default=t}}),He={},Ke=He,Ge={default:()=>function(){return _a.default.createElement(ja,null)}};for(D in Ge)F(Ke,D,{get:Ge[D],enumerable:!0});var Ve=t(y("react"));function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,n){t&&ze(e.prototype,t),n&&ze(e,n),Object.defineProperty(e,"prototype",{writable:!1})}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e,t){return(We=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Je(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&We(e,t)}function Ye(e,t){if(t&&("object"===qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function Xe(e){if(Array.isArray(e))return e}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ze(e,t){var n;if(e)return"string"==typeof e?Qe(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(e,t):void 0}function et(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tt(e){return Xe(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ze(e)||et()}function nt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var at={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}};function ot(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i(this,ot),this.init(e,t)}r(ot,[{key:"init",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||at,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(e){return new ot(this.logger,rt(rt({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}},{key:"clone",value:function(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new ot(this.logger,e)}}]);var u=new ot,d=(r(it,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach(function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)}),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter(function(e){return e!==t}):delete this.observers[e])}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.observers[t]&&[].concat(this.observers[t]).forEach(function(e){e.apply(void 0,n)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(e){e.apply(e,[t].concat(n))})}}]),it);function it(){i(this,it),this.observers={}}function st(){var n,r,e=new Promise(function(e,t){n=e,r=t});return e.resolve=n,e.reject=r,e}function lt(e){return null==e?"":""+e}function ct(e,t,n){function r(e){return e&&-1<e.indexOf("###")?e.replace(/###/g,"."):e}function a(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");1<o.length;){if(a())return{};var i=r(o.shift());!e[i]&&n&&(e[i]=new n),e=Object.prototype.hasOwnProperty.call(e,i)?e[i]:{}}return a()?{}:{obj:e,k:r(o.shift())}}function ut(e,t,n){e=ct(e,t,Object);e.obj[e.k]=n}function pt(e,t){e=ct(e,t),t=e.obj,e=e.k;if(t)return t[e]}function dt(e,t,n){e=pt(e,n);return void 0!==e?e:pt(t,n)}function ht(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var ft={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function mt(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return ft[e]}):e}var gt="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&-1<window.navigator.userAgent.indexOf("MSIE"),vt=[" ",",","?","!",";"];function yt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function St(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(n);return Ye(this,r?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}Je(kt,d),wt=St(kt),r(kt,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){e=this.options.ns.indexOf(e);-1<e&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},a=(void 0!==r.keySeparator?r:this.options).keySeparator,r=(void 0!==r.ignoreJSONStructure?r:this.options).ignoreJSONStructure,o=[e,t],o=(n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(a?n.split(a):n)),-1<e.indexOf(".")&&(o=e.split(".")),pt(this.data,o));return o||!r||"string"!=typeof n?o:function e(t,n,r){var a=2<arguments.length&&void 0!==r?r:".";if(t){if(t[n])return t[n];for(var o=n.split(a),i=t,s=0;s<o.length;++s){if(!i)return;if("string"==typeof i[o[s]]&&s+1<o.length)return;if(void 0===i[o[s]]){for(var l=2,c=o.slice(s,s+l).join(a),u=i[c];void 0===u&&o.length>s+l;)l++,u=i[c=o.slice(s,s+l).join(a)];if(void 0===u)return;if(null===u)return null;if(n.endsWith(c)){if("string"==typeof u)return u;if(c&&"string"==typeof u[c])return u[c]}var p=o.slice(s+l).join(a);return p?e(u,p,a):void 0}i=i[o[s]]}return i}}(this.data&&this.data[e]&&this.data[e][t],n,a)}},{key:"addResource",value:function(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator,i=(void 0===o&&(o="."),[e,t]);n&&(i=i.concat(o?n.split(o):n)),-1<e.indexOf(".")&&(r=t,t=(i=e.split("."))[1]),this.addNamespaces(t),ut(this.data,i,r),a.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});a.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,a){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{silent:!1},i=[e,t],s=(-1<e.indexOf(".")&&(r=n,n=t,t=(i=e.split("."))[1]),this.addNamespaces(t),pt(this.data,i)||{});r?function e(t,n,r){for(var a in n)"__proto__"!==a&&"constructor"!==a&&(a in t?"string"==typeof t[a]||t[a]instanceof String||"string"==typeof n[a]||n[a]instanceof String?r&&(t[a]=n[a]):e(t[a],n[a],r):t[a]=n[a])}(s,n,a):s=bt(bt({},s),n),ut(this.data,i,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t=t||this.options.defaultNS,"v1"===this.options.compatibilityAPI?bt(bt({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(function(e){return t[e]&&0<Object.keys(t[e]).length})}},{key:"toJSON",value:function(){return this.data}}]);var wt,Et=kt;function kt(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return i(this,kt),t=wt.call(this),gt&&d.call(l(t)),t.data=e||{},t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}var Ot={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,a){var o=this;return e.forEach(function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,a))}),t}};function xt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ct(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(n);return Ye(this,r?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}var Nt,It={},Lt=(Je(Pt,d),Nt=Ct(Pt),r(Pt,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t;return null!=e&&((t=this.resolve(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}))&&void 0!==t.res)}},{key:"extractFromKey",value:function(e,t){var n,r,a,o=(void 0!==t.nsSeparator?t:this.options).nsSeparator,i=(void 0===o&&(o=":"),(void 0!==t.keySeparator?t:this.options).keySeparator),s=t.ns||this.options.defaultNS||[],l=o&&-1<e.indexOf(o),c=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||(t=e,n=(n=o)||"",r=(r=i)||"",0===(c=vt.filter(function(e){return n.indexOf(e)<0&&r.indexOf(e)<0})).length||((a=!(c=new RegExp("(".concat(c.map(function(e){return"?"===e?"\\?":e}).join("|"),")"))).test(t))||0<(u=t.indexOf(r))&&!c.test(t.substring(0,u))&&(a=!0),a)));if(l&&!c){t=e.match(this.interpolator.nestingRegexp);if(t&&0<t.length)return{key:e,namespaces:s};var u=e.split(o);(o!==i||o===i&&-1<this.options.ns.indexOf(u[0]))&&(s=u.shift()),e=u.join(i)}return{key:e,namespaces:s="string"==typeof s?[s]:s}}},{key:"translate",value:function(e,r,t){var a=this;if(r=(r="object"!==qe(r)&&this.options.overloadTranslationOptionHandler?this.options.overloadTranslationOptionHandler(arguments):r)||{},null==e)return"";Array.isArray(e)||(e=[String(e)]);var n=(void 0!==r.returnDetails?r:this.options).returnDetails,o=(void 0!==r.keySeparator?r:this.options).keySeparator,i=this.extractFromKey(e[e.length-1],r),s=i.key,l=i.namespaces,c=l[l.length-1],i=r.lng||this.language,u=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(i&&"cimode"===i.toLowerCase())return u?(u=r.nsSeparator||this.options.nsSeparator,n?(p.res="".concat(c).concat(u).concat(s),p):"".concat(c).concat(u).concat(s)):n?(p.res=s,p):s;var p=this.resolve(e,r),d=p&&p.res,u=p&&p.usedKey||s,h=p&&p.exactUsedKey||s,f=Object.prototype.toString.apply(d),m=(void 0!==r.joinArrays?r:this.options).joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject;if(g&&d&&("string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(f)<0&&("string"!=typeof m||"[object Array]"!==f)){if(!r.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(u,d,P(P({},r),{},{ns:l})):"key '".concat(s," (").concat(this.language,")' returned an object instead of string."),n?(p.res=b,p):b;if(o){var v,y,b="[object Array]"===f,S=b?[]:{},w=b?h:u;for(v in d)Object.prototype.hasOwnProperty.call(d,v)&&(y="".concat(w).concat(o).concat(v),S[v]=this.translate(y,P(P({},r),{joinArrays:!1,ns:l})),S[v]===y&&(S[v]=d[v]));d=S}}else if(g&&"string"==typeof m&&"[object Array]"===f)d=(d=d.join(m))&&this.extendTranslation(d,e,r,t);else{var b=!1,h=!1,u=void 0!==r.count&&"string"!=typeof r.count,E=Pt.hasDefaultValue(r),g=u?this.pluralResolver.getSuffix(i,r.count,r):"",k=r["defaultValue".concat(g)]||r.defaultValue;!this.isValidLookup(d)&&E&&(b=!0,d=k),this.isValidLookup(d)||(h=!0,d=s);var O=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&h?void 0:d,x=E&&k!==d&&this.options.updateMissing;if(h||b||x){this.logger.log(x?"updateKey":"missingKey",i,c,s,x?k:d),!o||(f=this.resolve(s,P(P({},r),{},{keySeparator:!1})))&&f.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.");var C=[],N=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if("fallback"===this.options.saveMissingTo&&N&&N[0])for(var I=0;I<N.length;I++)C.push(N[I]);else"all"===this.options.saveMissingTo?C=this.languageUtils.toResolveHierarchy(r.lng||this.language):C.push(r.lng||this.language);function L(e,t,n){n=E&&n!==d?n:O;a.options.missingKeyHandler?a.options.missingKeyHandler(e,c,t,n,x,r):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(e,c,t,n,x,r),a.emit("missingKey",e,c,t,d)}this.options.saveMissing&&(this.options.saveMissingPlurals&&u?C.forEach(function(t){a.pluralResolver.getSuffixes(t,r).forEach(function(e){L([t],s+e,r["defaultValue".concat(e)]||k)})}):L(C,s,k))}d=this.extendTranslation(d,e,r,p,t),h&&d===s&&this.options.appendNamespaceToMissingKey&&(d="".concat(c,":").concat(s)),(h||b)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(c,":").concat(s):s,b?d:void 0):this.options.parseMissingKeyHandler(d))}return n?(p.res=d,p):d}},{key:"extendTranslation",value:function(e,r,a,t,o){var n,i=this,s=(this.i18nFormat&&this.i18nFormat.parse?e=this.i18nFormat.parse(e,P(P({},this.options.interpolation.defaultVariables),a),t.usedLng,t.usedNS,t.usedKey,{resolved:t}):a.skipInterpolation||(a.interpolation&&this.interpolator.init(P(P({},a),{interpolation:P(P({},this.options.interpolation),a.interpolation)})),(s="string"==typeof e&&(a&&a.interpolation&&void 0!==a.interpolation.skipOnVariables?a:this.options).interpolation.skipOnVariables)&&(l=(l=e.match(this.interpolator.nestingRegexp))&&l.length),n=a.replace&&"string"!=typeof a.replace?a.replace:a,this.options.interpolation.defaultVariables&&(n=P(P({},this.options.interpolation.defaultVariables),n)),e=this.interpolator.interpolate(e,n,a.lng||this.language,a),s&&l<((n=e.match(this.interpolator.nestingRegexp))&&n.length)&&(a.nest=!1),!1!==a.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o&&o[0]===t[0]&&!a.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(t[0]," in key: ").concat(r[0])),null):i.translate.apply(i,t.concat([r]))},a)),a.interpolation&&this.interpolator.reset()),a.postProcess||this.options.postProcess),l="string"==typeof s?[s]:s;return e=null!=e&&l&&l.length&&!1!==a.applyPostProcessor?Ot.handle(l,e,r,this.options&&this.options.postProcessPassResolved?P({i18nResolved:t},a):a,this):e}},{key:"resolve",value:function(e){var p,n,d,h,r,f=this,m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(e="string"==typeof e?[e]:e).forEach(function(e){var s,l,c,u,t;f.isValidLookup(p)||(e=f.extractFromKey(e,m),s=e.key,n=s,e=e.namespaces,f.options.fallbackNS&&(e=e.concat(f.options.fallbackNS)),l=void 0!==m.count&&"string"!=typeof m.count,c=l&&!m.ordinal&&0===m.count&&f.pluralResolver.shouldUseIntlApi(),u=void 0!==m.context&&("string"==typeof m.context||"number"==typeof m.context)&&""!==m.context,t=m.lngs||f.languageUtils.toResolveHierarchy(m.lng||f.language,m.fallbackLng),e.forEach(function(i){f.isValidLookup(p)||(r=i,!It["".concat(t[0],"-").concat(i)]&&f.utils&&f.utils.hasLoadedNamespace&&!f.utils.hasLoadedNamespace(r)&&(It["".concat(t[0],"-").concat(i)]=!0,f.logger.warn('key "'.concat(n,'" for languages "').concat(t.join(", "),`" won't get resolved as namespace "`).concat(r,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),t.forEach(function(e){if(!f.isValidLookup(p)){h=e;var t,n,r,a,o=[s];for(f.i18nFormat&&f.i18nFormat.addLookupKeys?f.i18nFormat.addLookupKeys(o,s,e,i,m):(l&&(t=f.pluralResolver.getSuffix(e,m.count,m)),n="".concat(f.options.pluralSeparator,"zero"),l&&(o.push(s+t),c&&o.push(s+n)),u&&(r="".concat(s).concat(f.options.contextSeparator).concat(m.context),o.push(r),l&&(o.push(r+t),c&&o.push(r+n))));a=o.pop();)f.isValidLookup(p)||(d=a,p=f.getResource(e,i,a,m))}}))}))}),{res:p,usedKey:n,exactUsedKey:d,usedLng:h,usedNS:r}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return(this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat:this.resourceStore).getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t,n="defaultValue";for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n===t.substring(0,n.length)&&void 0!==e[t])return!0;return!1}}]),Pt);function Pt(e){var t,n,r,a,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return i(this,Pt),t=Nt.call(this),gt&&d.call(l(t)),n=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r=e,a=l(t),n.forEach(function(e){r[e]&&(a[e]=r[e])}),t.options=o,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=u.create("translator"),t}function Rt(e){return e.charAt(0).toUpperCase()+e.slice(1)}r(_t,[{key:"getScriptPartFromCode",value:function(e){return!e||e.indexOf("-")<0||2===(e=e.split("-")).length||(e.pop(),"x"===e[e.length-1].toLowerCase())?null:this.formatLanguageCode(e.join("-"))}},{key:"getLanguagePartFromCode",value:function(e){return!e||e.indexOf("-")<0?e:(e=e.split("-"),this.formatLanguageCode(e[0]))}},{key:"formatLanguageCode",value:function(e){var t,n;return"string"==typeof e&&-1<e.indexOf("-")?(t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-"),this.options.lowerCaseLng?n=n.map(function(e){return e.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),-1<t.indexOf(n[1].toLowerCase())&&(n[1]=Rt(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),-1<t.indexOf(n[1].toLowerCase())&&(n[1]=Rt(n[1].toLowerCase())),-1<t.indexOf(n[2].toLowerCase())&&(n[2]=Rt(n[2].toLowerCase()))),n.join("-")):this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return"languageOnly"!==this.options.load&&!this.options.nonExplicitSupportedLngs||(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||-1<this.supportedLngs.indexOf(e)}},{key:"getBestMatchFromCodes",value:function(e){var n,r=this;return e?(e.forEach(function(e){n||(e=r.formatLanguageCode(e),r.options.supportedLngs&&!r.isSupportedCode(e)||(n=e))}),!n&&this.options.supportedLngs&&e.forEach(function(e){var t;if(!n)return t=r.getLanguagePartFromCode(e),r.isSupportedCode(t)?n=t:void(n=r.options.supportedLngs.find(function(e){if(0===e.indexOf(t))return e}))}),n=n||this.getFallbackCodes(this.options.fallbackLng)[0]):null}},{key:"getFallbackCodes",value:function(e,t){return e?("string"==typeof(e="function"==typeof e?e(t):e)&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e)?e:t?e[t]||e[this.getScriptPartFromCode(t)]||e[this.formatLanguageCode(t)]||e[this.getLanguagePartFromCode(t)]||e.default||[]:e.default||[]):[]}},{key:"toResolveHierarchy",value:function(e,t){function n(e){e&&(r.isSupportedCode(e)?a.push(e):r.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))}var r=this,t=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[];return"string"==typeof e&&-1<e.indexOf("-")?("languageOnly"!==this.options.load&&n(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&n(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&n(this.getLanguagePartFromCode(e))):"string"==typeof e&&n(this.formatLanguageCode(e)),t.forEach(function(e){a.indexOf(e)<0&&n(r.formatLanguageCode(e))}),a}}]);var jt=_t;function _t(e){i(this,_t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=u.create("languageUtils")}var Tt=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],At={1:function(e){return Number(1<e)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5)},6:function(e){return Number(1==e?0:2<=e&&e<=4?1:2)},7:function(e){return Number(1==e?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(2<=e)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:2<e&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:2<=e%10&&(e%100<10||20<=e%100)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||1<e%100&&e%100<11?1:10<e%100&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||0<e%100&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||10<e)&&e%10==0?2:3)}},Dt=["v1","v2","v3"],$t={zero:0,one:1,two:2,few:3,many:4,other:5};r(Mt,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return this.shouldUseIntlApi()?t&&1<t.resolvedOptions().pluralCategories.length:t&&1<t.numbers.length}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).map(function(e){return"".concat(t).concat(e)})}},{key:"getSuffixes",value:function(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=this.getRule(t,r);return e?this.shouldUseIntlApi()?e.resolvedOptions().pluralCategories.sort(function(e,t){return $t[e]-$t[t]}).map(function(e){return"".concat(n.options.prepend).concat(e)}):e.numbers.map(function(e){return n.getSuffix(t,e,r)}):[]}},{key:"getSuffix",value:function(e,t){var n=this.getRule(e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});return n?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.select(t)):this.getSuffixRetroCompatible(n,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){function n(){return r.options.prepend&&a.toString()?r.options.prepend+a.toString():a.toString()}var r=this,t=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),a=e.numbers[t];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===a?a="plural":1===a&&(a=""));return"v1"===this.options.compatibilityJSON?1===a?"":"number"==typeof a?"_plural_".concat(a.toString()):n():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?n():this.options.prepend&&t.toString()?this.options.prepend+t.toString():t.toString()}},{key:"shouldUseIntlApi",value:function(){return!Dt.includes(this.options.compatibilityJSON)}}]);var Ft=Mt;function Mt(e){var n,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i(this,Mt),this.languageUtils=e,this.options=t,this.logger=u.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(n={},Tt.forEach(function(t){t.lngs.forEach(function(e){n[e]={numbers:t.nr,plurals:At[t.fc]}})}),n)}function Bt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bt(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}r(Ht,[{key:"init",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(e.interpolation||(e.interpolation={escapeValue:!0}),e.interpolation);this.escape=void 0!==e.escape?e.escape:mt,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?ht(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?ht(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator||e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=!this.unescapePrefix&&e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?ht(e.nestingPrefix):e.nestingPrefixEscaped||ht("$t("),this.nestingSuffix=e.nestingSuffix?ht(e.nestingSuffix):e.nestingSuffixEscaped||ht(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator||e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces||1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix),e=(this.regexp=new RegExp(e,"g"),"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),e=(this.regexpUnescape=new RegExp(e,"g"),"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix));this.nestingRegexp=new RegExp(e,"g")}},{key:"interpolate",value:function(a,o,i,s){var l,c,u,p=this,d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function t(e){return e.replace(/\$/g,"$$$$")}this.resetRegExp();var h=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,f=(s&&s.interpolation&&void 0!==s.interpolation.skipOnVariables?s:this.options).interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:t},{regex:this.regexp,safeValue:function(e){return p.escapeValue?t(p.escape(e)):t(e)}}].forEach(function(e){for(u=0;l=e.regex.exec(a);){var t=l[1].trim();if((r=void 0)===(c=(n=t).indexOf(p.formatSeparator)<0?(r=dt(o,d,n),p.alwaysFormat?p.format(r,void 0,i,m(m(m({},s),o),{},{interpolationkey:n})):r):(n=(r=n.split(p.formatSeparator)).shift().trim(),r=r.join(p.formatSeparator).trim(),p.format(dt(o,d,n),r,i,m(m(m({},s),o),{},{interpolationkey:n})))))if("function"==typeof h){r=h(a,l,s);c="string"==typeof r?r:""}else{if(!s||!s.hasOwnProperty(t)){if(f){c=l[0];continue}p.logger.warn("missed to pass in variable ".concat(t," for interpolating ").concat(a))}c=""}else"string"==typeof c||p.useRawValueToEscape||(c=lt(c));n=e.safeValue(c);if(a=a.replace(l[0],n),f?(e.regex.lastIndex+=c.length,e.regex.lastIndex-=l[0].length):e.regex.lastIndex=0,++u>=p.maxReplaces)break}var n,r}),a}},{key:"nest",value:function(e,t){var n,r=this,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=m({},a);function o(t,e){var n=this.nestingOptionsSeparator;if(!(t.indexOf(n)<0)){var r=t.split(new RegExp("".concat(n,"[ ]*{"))),a="{".concat(r[1]),r=(t=r[0],(a=this.interpolate(a,i)).match(/'/g)),o=a.match(/"/g);(r&&r.length%2==0&&!o||o.length%2!=0)&&(a=a.replace(/'/g,'"'));try{i=JSON.parse(a),e&&(i=m(m({},e),i))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(n).concat(a)}delete i.defaultValue}return t}for(i.applyPostProcessor=!1,delete i.defaultValue;n=this.nestingRegexp.exec(e);){var s,l=[],c=!1;if(-1===n[0].indexOf(this.formatSeparator)||/{.*}/.test(n[1])||(s=n[1].split(this.formatSeparator).map(function(e){return e.trim()}),n[1]=s.shift(),l=s,c=!0),(s=t(o.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!=typeof s)return s;(s="string"!=typeof s?lt(s):s)||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),s=""),c&&(s=l.reduce(function(e,t){return r.format(e,t,a.lng,m(m({},a),{},{interpolationkey:n[1].trim()}))},s.trim())),e=e.replace(n[0],s),this.regexp.lastIndex=0}return e}}]);var Ut=Ht;function Ht(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(this,Ht),this.logger=u.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e},this.init(e)}function Kt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kt(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}r(Vt,[{key:"init",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator||t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"format",value:function(e,t,s,l){var c=this;return t.split(this.formatSeparator).reduce(function(e,t){r=(t=t).toLowerCase().trim(),n={},-1<t.indexOf("(")&&(r=(t=t.split("("))[0].toLowerCase().trim(),t=t[1].substring(0,t[1].length-1),"currency"===r&&t.indexOf(":")<0?n.currency||(n.currency=t.trim()):"relativetime"===r&&t.indexOf(":")<0?n.range||(n.range=t.trim()):t.split(";").forEach(function(e){var t;e&&(t=(e=tt(e.split(":")))[0],e=e.slice(1).join(":").trim().replace(/^'+|'+$/g,""),n[t.trim()]||(n[t.trim()]=e),"false"===e&&(n[t.trim()]=!1),"true"===e&&(n[t.trim()]=!0),isNaN(e)||(n[t.trim()]=parseInt(e,10)))}));var n,t={formatName:r,formatOptions:n},r=t.formatName,t=t.formatOptions;if(c.formats[r]){var a=e;try{var o=l&&l.formatParams&&l.formatParams[l.interpolationkey]||{},i=o.locale||o.lng||l.locale||l.lng||s,a=c.formats[r](e,i,h(h(h({},t),l),o))}catch(e){c.logger.warn(e)}return a}return c.logger.warn("there was no format function for ".concat(r)),e},e)}}]);var Gt=Vt;function Vt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(this,Vt),this.logger=u.create("formatter"),this.options=e,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,h(h({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,h({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,h({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,h({},n)).format(e)}},this.init(e)}function qt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function zt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Wt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(n);return Ye(this,r?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}Je(Xt,d),Jt=Wt(Xt),r(Xt,[{key:"queueLoad",value:function(e,t,a,n){var o=this,i={},s={},l={},c={};return e.forEach(function(n){var r=!0;t.forEach(function(e){var t="".concat(n,"|").concat(e);!a.reload&&o.store.hasResourceBundle(n,e)?o.state[t]=2:o.state[t]<0||(1===o.state[t]?void 0===s[t]&&(s[t]=!0):(o.state[t]=1,r=!1,void 0===s[t]&&(s[t]=!0),void 0===i[t]&&(i[t]=!0),void 0===c[e]&&(c[e]=!0)))}),r||(l[n]=!0)}),(Object.keys(i).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(s),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}},{key:"loaded",value:function(o,i,e){var t=o.split("|"),s=t[0],l=t[1],c=(i&&this.emit("failedLoading",s,l,i),e&&this.store.addResourceBundle(s,l,e),this.state[o]=i?-1:2,{});this.queue.forEach(function(n){var e,t,r,a;e=n.loaded,t=l,r=(e=ct(e,r=[s],Object)).obj,e=e.k,r[e]=r[e]||[],a&&(r[e]=r[e].concat(t)),a||r[e].push(t),a=o,void 0!==(r=n).pending[a]&&(delete r.pending[a],r.pendingCount--),i&&n.errors.push(i),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(function(t){c[t]||(c[t]={});var e=n.loaded[t];e.length&&e.forEach(function(e){void 0===c[t][e]&&(c[t][e]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(e){return!e.done})}},{key:"read",value:function(r,a,o){var i=this,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,c=5<arguments.length?arguments[5]:void 0;return r.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:r,ns:a,fcName:o,tried:s,wait:l,callback:c}):(this.readingCalls++,this.backend[o](r,a,function(e,t){var n;i.readingCalls--,0<i.waitingReads.length&&(n=i.waitingReads.shift(),i.read(n.lng,n.ns,n.fcName,n.tried,n.wait,n.callback)),e&&t&&s<i.maxRetries?setTimeout(function(){i.read.call(i,r,a,o,s+1,2*l,c)},l):c(e,t)})):c(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=3<arguments.length?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e));r=this.queueLoad(e,t="string"==typeof t?[t]:t,r,a);if(!r.toLoad.length)return r.pending.length||a(),null;r.toLoad.forEach(function(e){n.loadOne(e)})}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(n){var r=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",e=n.split("|"),o=e[0],i=e[1];this.read(o,i,"read",void 0,void 0,function(e,t){e&&r.logger.warn("".concat(a,"loading namespace ").concat(i," for language ").concat(o," failed"),e),!e&&t&&r.logger.log("".concat(a,"loaded namespace ").concat(i," for language ").concat(o),t),r.loaded(n,e,t)})}},{key:"saveMissing",value:function(e,t,n,r,a){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,zt(zt({},o),{},{isUpdate:a})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]);var Jt,Yt=Xt;function Xt(e,t,n){var r,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return i(this,Xt),r=Jt.call(this),gt&&d.call(l(r)),r.backend=e,r.store=t,r.services=n,r.languageUtils=n.languageUtils,r.options=a,r.logger=u.create("backendConnector"),r.waitingReads=[],r.maxParallelReads=a.maxParallelReads||10,r.readingCalls=0,r.maxRetries=0<=a.maxRetries?a.maxRetries:5,r.retryTimeout=1<=a.retryTimeout?a.retryTimeout:350,r.state={},r.queue=[],r.backend&&r.backend.init&&r.backend.init(n,a.backend,a),r}function Qt(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Zt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function en(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(n);return Ye(this,r?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function tn(){}Je(an,d),nn=en(an),r(an,[{key:"init",value:function(){var e,t,a=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0,o=("function"==typeof n&&(r=n,n={}),!n.defaultNS&&!1!==n.defaultNS&&n.ns&&("string"==typeof n.ns?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0])),{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t,n={};return"object"===qe(e[1])&&(n=e[1]),"string"==typeof e[1]&&(n.defaultValue=e[1]),"string"==typeof e[2]&&(n.tDescription=e[2]),"object"!==qe(e[2])&&"object"!==qe(e[3])||(t=e[3]||e[2],Object.keys(t).forEach(function(e){n[e]=t[e]})),n},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}});function i(e){return e?"function"==typeof e?new e:e:null}this.options=f(f(f({},o),this.options),Qt(n)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=f(f({},o.interpolation),this.options.interpolation)),void 0!==n.keySeparator&&(this.options.userDefinedKeySeparator=n.keySeparator),void 0!==n.nsSeparator&&(this.options.userDefinedNsSeparator=n.nsSeparator),this.options.isClone||(this.modules.logger?u.init(i(this.modules.logger),this.options):u.init(null,this.options),this.modules.formatter?e=this.modules.formatter:"undefined"!=typeof Intl&&(e=Gt),n=new jt(this.options),this.store=new Et(this.options.resources,this.options),(t=this.services).logger=u,t.resourceStore=this.store,t.languageUtils=n,t.pluralResolver=new Ft(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!e||this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format||(t.formatter=i(e),t.formatter.init(t,this.options),this.options.interpolation.format=t.formatter.format.bind(t.formatter)),t.interpolator=new Ut(this.options),t.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},t.backendConnector=new Yt(i(this.modules.backend),t.resourceStore,t,this.options),t.backendConnector.on("*",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e].concat(n))}),this.modules.languageDetector&&(t.languageDetector=i(this.modules.languageDetector),t.languageDetector.init(t,this.options.detection,this.options)),this.modules.i18nFormat&&(t.i18nFormat=i(this.modules.i18nFormat),t.i18nFormat.init&&t.i18nFormat.init(this)),this.translator=new Lt(this.services,this.options),this.translator.on("*",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e].concat(n))}),this.modules.external.forEach(function(e){e.init&&e.init(a)})),this.format=this.options.interpolation.format,r=r||tn,!this.options.fallbackLng||this.services.languageDetector||this.options.lng||0<(n=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng)).length&&"dev"!==n[0]&&(this.options.lng=n[0]),this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(t){a[t]=function(){var e;return(e=a.store)[t].apply(e,arguments)}});function s(){function e(e,t){a.isInitialized&&!a.initializedStoreOnce&&a.logger.warn("init: i18next is already initialized. You should call init just once!"),a.isInitialized=!0,a.options.isClone||a.logger.log("initialized",a.options),a.emit("initialized",a.options),l.resolve(t),r(e,t)}if(a.languages&&"v1"!==a.options.compatibilityAPI&&!a.isInitialized)return e(null,a.t.bind(a));a.changeLanguage(a.options.lng,e)}["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(function(t){a[t]=function(){var e;return(e=a.store)[t].apply(e,arguments),a}});var l=st();return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),l}},{key:"loadResources",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:tn,r="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();function a(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(e){o.indexOf(e)<0&&o.push(e)})}var o=[];r?a(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(a),this.options.preload&&this.options.preload.forEach(a),this.services.backendConnector.load(o,this.options.ns,function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)})}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=st();return e=e||this.languages,t=t||this.options.ns,n=n||tn,this.services.backendConnector.reload(e,t,function(e){r.resolve(),n(e)}),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(e.type)return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Ot.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this;throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()")}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(-1<["cimode","dev"].indexOf(e)))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(-1<["cimode","dev"].indexOf(n))&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(n,r){function e(e){var t="string"==typeof(e=n||e||!a.services.languageDetector?e:[])?e:a.services.languageUtils.getBestMatchFromCodes(e);t&&(a.language||i(t),a.translator.language||a.translator.changeLanguage(t),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage(t)),a.loadResources(t,function(e){s(e,t)})}var a=this,o=(this.isLanguageChangingTo=n,st()),i=(this.emit("languageChanging",n),function(e){a.language=e,a.languages=a.services.languageUtils.toResolveHierarchy(e),a.resolvedLanguage=void 0,a.setResolvedLanguage(e)}),s=function(e,t){t?(i(t),a.translator.changeLanguage(t),a.isLanguageChangingTo=void 0,a.emit("languageChanged",t),a.logger.log("languageChanged",t)):a.isLanguageChangingTo=void 0,o.resolve(function(){return a.t.apply(a,arguments)}),r&&r(e,function(){return a.t.apply(a,arguments)})};return n||!this.services.languageDetector||this.services.languageDetector.async?!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(e):e(n):e(this.services.languageDetector.detect()),o}},{key:"getFixedT",value:function(e,t,s){function l(e,t){var n;if("object"!==qe(t)){for(var r=arguments.length,a=new Array(2<r?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];n=c.options.overloadTranslationOptionHandler([e,t].concat(a))}else n=f({},t);n.lng=n.lng||l.lng,n.lngs=n.lngs||l.lngs,n.ns=n.ns||l.ns,n.keyPrefix=n.keyPrefix||s||l.keyPrefix;var i=c.options.keySeparator||".",i=n.keyPrefix?"".concat(n.keyPrefix).concat(i).concat(e):e;return c.t(i,n)}var c=this;return"string"==typeof e?l.lng=e:l.lngs=e,l.ns=t,l.keyPrefix=s,l}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],a=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;function i(e,t){return-1===(e=n.services.backendConnector.state["".concat(e,"|").concat(t)])||2===e}if(t.precheck){t=t.precheck(this,i);if(void 0!==t)return t}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!i(r,e)||a&&!i(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=st();return this.options.ns?((e="string"==typeof e?[e]:e).forEach(function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)}),this.loadResources(function(e){r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=st(),r=this.options.preload||[],e=(e="string"==typeof e?[e]:e).filter(function(e){return r.indexOf(e)<0});return e.length?(this.options.preload=r.concat(e),this.loadResources(function(e){n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return!(e=e||this.resolvedLanguage||(this.languages&&0<this.languages.length?this.languages[0]:this.language))||-1<["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))||1<e.toLowerCase().indexOf("-arab")?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:tn,r=f(f(f({},this.options),e),{isClone:!0}),a=new an(r);void 0===e.debug&&void 0===e.prefix||(a.logger=a.logger.clone(e));return["store","services","language"].forEach(function(e){a[e]=t[e]}),a.services=f({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new Lt(a.services,a.options),a.translator.on("*",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e].concat(n))}),a.init(r,n),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]);var nn,rn=an;function an(){var e,t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0;if(i(this,an),e=nn.call(this),gt&&d.call(l(e)),e.options=Qt(n),e.services={},e.logger=u,e.modules={external:[]},t=l(e),Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(function(e){"function"==typeof t[e]&&(t[e]=t[e].bind(t))}),r&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,r),Ye(e,l(e));setTimeout(function(){e.init(n,r)},0)}return e}c(rn,"createInstance",function(){return new rn(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length?arguments[1]:void 0)});var g=rn.createInstance(),v=(g.createInstance=rn.createInstance,g.createInstance,g.init,g.loadResources,g.reloadResources,g.use,g.changeLanguage,g.getFixedT,g.t);g.exists,g.setDefaultNamespace,g.hasLoadedNamespace,g.loadNamespaces,g.loadLanguages;function on(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},a=Object.keys(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function sn(e){return un[e]}var ln=y("react"),cn=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,un={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"};function pn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function dn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pn(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var hn,fn={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(cn,sn)}},mn=(0,ln.createContext)();r(vn,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach(function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]);var gn=vn;function vn(){i(this,vn),this.usedNamespaces={}}ln={type:"3rdParty",init:function(e){!function(e){var t=0<arguments.length&&void 0!==e?e:{};fn=dn(dn({},fn),t)}(e.options.react),hn=e}};var yn={};function bn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&yn[t[0]]||("string"==typeof t[0]&&(yn[t[0]]=new Date),function(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}.apply(void 0,t))}function Sn(t,e,n){t.loadNamespaces(e,function(){t.isInitialized?n():t.on("initialized",function e(){setTimeout(function(){t.off("initialized",e)},0),n()})})}function wn(n,e,t){var r=2<arguments.length&&void 0!==t?t:{};return e.languages&&e.languages.length?void 0!==e.options.ignoreJSONStructure?e.hasLoadedNamespace(n,{precheck:function(e,t){if(r.bindI18n&&-1<r.bindI18n.indexOf("languageChanging")&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!t(e.isLanguageChangingTo,n))return!1}}):function(e,n,t){var r,a=2<arguments.length&&void 0!==t?t:{},o=n.languages[0],i=!!n.options&&n.options.fallbackLng,s=n.languages[n.languages.length-1];return"cimode"===o.toLowerCase()||(r=function(e,t){e=n.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===e||2===e},!(a.bindI18n&&-1<a.bindI18n.indexOf("languageChanging")&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!r(n.isLanguageChangingTo,e))&&(!!n.hasResourceBundle(o,e)||(!(n.services.backendConnector.backend&&(!n.options.resources||n.options.partialBundledLanguages))||!(!r(o,e)||i&&!r(s,e)))))}(n,e,r):(bn("i18n.languages were undefined or empty",e.languages),!0)}function En(e,t){return Xe(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||Ze(e,t)||et()}var b=y("react");function kn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function On(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kn(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var xn=function(e,t){var n=(0,b.useRef)();return(0,b.useEffect)(function(){n.current=t?n.current:e},[e,t]),n.current};function Cn(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=n.i18n,a=(0,b.useContext)(mn)||{},o=a.i18n,a=a.defaultNS,i=r||o||hn;if(i&&!i.reportNamespaces&&(i.reportNamespaces=new gn),!i)return bn("You will need to pass in an i18next instance by using initReactI18next"),(o=[r=function(e){return Array.isArray(e)?e[e.length-1]:e},{},!1]).t=r,o.i18n={},o.ready=!1,o;i.options.react&&void 0!==i.options.react.wait&&bn("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var s=On(On(On({},fn),i.options.react),n),l=s.useSuspense,c=s.keyPrefix,u="string"==typeof(u=e||a||i.options&&i.options.defaultNS)?[u]:u||["translation"],p=(i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u),(i.isInitialized||i.initializedStoreOnce)&&u.every(function(e){return wn(e,i,s)}));function d(){return i.getFixedT(null,"fallback"===s.nsMode?u:u[0],c)}var r=En((0,b.useState)(d),2),o=r[0],h=r[1],f=u.join(),m=xn(f),g=(0,b.useRef)(!0),v=((0,b.useEffect)(function(){var e=s.bindI18n,t=s.bindI18nStore;function n(){g.current&&h(d)}return g.current=!0,p||l||Sn(i,u,function(){g.current&&h(d)}),p&&m&&m!==f&&g.current&&h(d),e&&i&&i.on(e,n),t&&i&&i.store.on(t,n),function(){g.current=!1,e&&i&&e.split(" ").forEach(function(e){return i.off(e,n)}),t&&i&&t.split(" ").forEach(function(e){return i.store.off(e,n)})}},[i,f]),(0,b.useRef)(!0)),n=((0,b.useEffect)(function(){g.current&&!v.current&&h(d),v.current=!1},[i,c]),[o,i,p]);if(n.t=o,n.i18n=i,(n.ready=p)||!p&&!l)return n;throw new Promise(function(e){Sn(i,u,function(){e()})})}var Nn=y("react"),In=["forwardedRef"];function Ln(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Pn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ln(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Rn(i,e){var s=1<arguments.length&&void 0!==e?e:{};return function(o){function n(e){var t=e.forwardedRef,e=on(e,In),n=En(Cn(i,Pn(Pn({},e),{},{keyPrefix:s.keyPrefix})),3),r=n[0],a=n[1],n=n[2],e=Pn(Pn({},e),{},{t:r,i18n:a,tReady:n});return s.withRef&&t?e.ref=t:!s.withRef&&t&&(e.forwardedRef=t),(0,Nn.createElement)(o,e)}var e;n.displayName="withI18nextTranslation(".concat((e=o).displayName||e.name||("string"==typeof e&&0<e.length?e:"Unknown"),")"),n.WrappedComponent=o;return s.withRef?(0,Nn.forwardRef)(function(e,t){return(0,Nn.createElement)(n,Object.assign({},e,{forwardedRef:t}))}):n}}var jn=[],_n=jn.forEach,Tn=jn.slice;function An(){if(null===Hn)try{Hn="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){Hn=!1}return Hn}function Dn(){if(null===Gn)try{Gn="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){Gn=!1}return Gn}var $n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Fn=function(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+60*n*1e3)),r&&(a.domain=r),document.cookie=function(e,t,n){var n=n||{},t=(n.path=n.path||"/",encodeURIComponent(t)),r="".concat(e,"=").concat(t);if(0<n.maxAge){e=+n.maxAge;if(Number.isNaN(e))throw new Error("maxAge should be a Number");r+="; Max-Age=".concat(Math.floor(e))}if(n.domain){if(!$n.test(n.domain))throw new TypeError("option domain is invalid");r+="; Domain=".concat(n.domain)}if(n.path){if(!$n.test(n.path))throw new TypeError("option path is invalid");r+="; Path=".concat(n.path)}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");r+="; Expires=".concat(n.expires.toUTCString())}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r}(e,encodeURIComponent(t),a)},Mn=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null},Bn={name:"cookie",lookup:function(e){var t;return t=e.lookupCookie&&"undefined"!=typeof document&&(e=Mn(e.lookupCookie))?e:t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&Fn(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},Un={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var n=window.location.search,r=(n=!window.location.search&&window.location.hash&&-1<window.location.hash.indexOf("?")?window.location.hash.substring(window.location.hash.indexOf("?")):n).substring(1).split("&"),a=0;a<r.length;a++){var o=r[a].indexOf("=");0<o&&r[a].substring(0,o)===e.lookupQuerystring&&(t=r[a].substring(o+1))}return t}},Hn=null,Kn={name:"localStorage",lookup:function(e){var t;return e.lookupLocalStorage&&An()&&((e=window.localStorage.getItem(e.lookupLocalStorage))&&(t=e)),t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&An()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},Gn=null,Vn={name:"sessionStorage",lookup:function(e){var t;return e.lookupSessionStorage&&Dn()&&((e=window.sessionStorage.getItem(e.lookupSessionStorage))&&(t=e)),t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&Dn()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},qn={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return 0<t.length?t:void 0}},zn={name:"htmlTag",lookup:function(e){var t,e=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return t=e&&"function"==typeof e.getAttribute?e.getAttribute("lang"):t}},Wn={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},Jn={name:"subdomain",lookup:function(e){var e="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,t="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(t)return t[e]}};var jn=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i(this,n),this.type="languageDetector",this.detectors={},this.init(e,t)}return r(n,[{key:"init",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(n){return _n.call(Tn.call(arguments,1),function(e){if(e)for(var t in e)void 0===n[t]&&(n[t]=e[t])}),n}(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(Bn),this.addDetector(Un),this.addDetector(Kn),this.addDetector(Vn),this.addDetector(qn),this.addDetector(zn),this.addDetector(Wn),this.addDetector(Jn)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this,n=(e=e||this.options.order,[]);return e.forEach(function(e){t.detectors[e]&&(e=(e=t.detectors[e].lookup(t.options))&&"string"==typeof e?[e]:e)&&(n=n.concat(e))}),this.services.languageUtils.getBestMatchFromCodes?n:0<n.length?n[0]:null}},{key:"cacheUserLanguage",value:function(t,e){var n=this;!(e=e||this.options.caches)||this.options.excludeCacheFor&&-1<this.options.excludeCacheFor.indexOf(t)||e.forEach(function(e){n.detectors[e]&&n.detectors[e].cacheUserLanguage(t,n.options)})}}]),n}(),S=(jn.type="languageDetector",t(y("react"))),Yn=t(n()),w=(t,e)=>{t=localStorage.getItem(t);if(!t)return e;try{return JSON.parse(t)}catch(e){return t}},Xn=e=>{const r={section:/^\s*\[\s*([^\]]*)\s*\]\s*$/,param:/^\s*([^=]+?)\s*=\s*(.*?)\s*$/,comment:/^\s*;.*$/},a={},t=e.split(/[\r\n]+/);let o=null;return t.forEach(function(e){if(!r.comment.test(e))if(r.param.test(e)){const n=e.match(r.param);o?a[o][null==n?void 0:n[1]]=null==n?void 0:n[2].split(";")[0].trim():n&&(a[n[1]]=n[2].split(";")[0].trim())}else{var t;r.section.test(e)?(t=e.match(r.section))&&(a[t[1]]={},o=t[1]):0==e.length&&o&&(o=null)}}),a},Qn=e=>{const t=document.querySelector("style.marketplaceSnippets"),n=(t&&t.remove(),document.createElement("style"));e=e.reduce((e,t)=>e=(e+=`/* ${t.title} - ${t.description} */
`)+t.code+`
`,"");n.innerHTML=e,n.classList.add("marketplaceSnippets"),document.head.appendChild(n)},Zn=(e,t)=>{let n=[];return e&&0<e.length?n=e.map(e=>({name:e.name,url:sr(e.url)})):n.push({name:t,url:"https://github.com/"+t}),n},er=e=>e?Object.keys(e).map(e=>({key:e,value:e})):[],tr=()=>{console.log("Resetting Marketplace"),Object.keys(localStorage).forEach(e=>{e.startsWith("marketplace:")&&(localStorage.removeItem(e),console.log("Removed "+e))}),console.log("Marketplace has been reset"),location.reload()},nr=n=>{const e=document.querySelector("style.marketplaceCSS.marketplaceScheme");if(e&&e.remove(),n){const r=document.createElement("style");r.classList.add("marketplaceCSS"),r.classList.add("marketplaceScheme");let t=":root {";const a=Object.keys(n);a.forEach(e=>{t=(t+=`--spice-${e}: #${n[e]} !important;`)+`--spice-rgb-${e}: ${(e=>{if(3===e.length)e=e.split("").map(e=>e+e).join("");else{if(6!=e.length)throw"Only 3- or 6-digit hex colours are allowed.";if(e.match(/[^0-9a-f]/i))throw"Only hex colours are allowed."}e=e.match(/.{1,2}/g);if(e&&3===e.length)return[parseInt(e[0],16),parseInt(e[1],16),parseInt(e[2],16)];throw"Could not parse hex colour."})(n[e])} !important;`}),t+="}",r.innerHTML=t,document.head.appendChild(r)}else{const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href","colors.css"),t.classList.add("userCSS"),document.head.appendChild(t)}},rr=e=>{try{const t=document.querySelector("link[href='user.css']"),n=(t&&t.remove(),document.querySelector("style.marketplaceCSS.marketplaceUserCSS"));if(n&&n.remove(),e){const r=document.createElement("style");r.classList.add("marketplaceCSS"),r.classList.add("marketplaceUserCSS"),r.innerHTML=e,document.head.appendChild(r)}else{const a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("href","user.css"),a.classList.add("userCSS"),document.head.appendChild(a)}}catch(e){console.warn(e)}},ar=async e=>{if(!e.cssURL)throw new Error("No CSS URL provided");const t=(e=>{const t=new URL(e);return t.host,t.host==="raw.githubusercontent.com"})(e.cssURL)?`https://cdn.jsdelivr.net/gh/${e.user}/${e.repo}@${e.branch}/`+e.manifest.usercss:e.cssURL;var n,r=t.replace("/user.css","/assets/");console.log("Parsing CSS: ",t);let a=await fetch(t+"?time="+Date.now()).then(e=>e.text());for(const o of a.matchAll(new RegExp(`url\\(['|"](?<path>.+?)['|"]\\)`,"gm"))||[]){const i=null==(n=null==o?void 0:o.groups)?void 0:n.path;!i||i.startsWith("http")||i.startsWith("data")||(n=r+i.replace(/\.\//g,""),a=a.replace(i,n))}return a};async function or(e,t,n){try{var r={text:e,context:t+"/"+n,mode:"gfm"};const a=await fetch("https://api.github.com/markdown",{method:"POST",body:JSON.stringify(r)});if(a.ok)return await a.text();throw Spicetify.showNotification(`Error parsing markdown (HTTP ${a.status})`,!0)}catch(e){return null}}function ir(e){var t,n="snippet"===e.type?"snippet:":`${e.item.user}/${e.item.repo}/`;let r;switch(e.type){case"snippet":r=e.item.title.replaceAll(" ","-");break;case"theme":r=(null==(t=e.item.manifest)?void 0:t.usercss)||"";break;case"extension":r=(null==(t=e.item.manifest)?void 0:t.main)||"";break;case"app":r=(null==(t=null==(t=e.item.manifest)?void 0:t.name)?void 0:t.replaceAll(" ","-"))||""}return"marketplace:installed:"+n+r}var sr=e=>{const t=decodeURI(e).trim().toLowerCase();return t.startsWith("javascript:")||t.startsWith("data:")||t.startsWith("vbscript:")?"about:blank":e},lr="0.8.1",cr="marketplace:installed-extensions",E="marketplace:installed-snippets",ur="marketplace:installed-themes",pr="marketplace:active-tab",dr="marketplace:tabs",hr="marketplace:sort-by",k="marketplace:theme-installed",fr=[{name:"Extensions",enabled:!0},{name:"Themes",enabled:!0},{name:"Snippets",enabled:!0},{name:"Apps",enabled:!0},{name:"Installed",enabled:!0}],O=100,mr="/marketplace",gr="https://api.github.com/repos/spicetify/spicetify-marketplace/releases/tags/v0.8.1",vr=t(y("react")),x=t(y("react")),yr=t(Me()),br=t(Be()),Sr=(n=Prism,T=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+T.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+T.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+T.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+T.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:T,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css,(T=n.languages.markup)&&(T.tag.addInlined("style","css"),T.tag.addAttribute("style","css")),t(y("react"))),wr="button-module__button___hf2qg_marketplace",Er="button-module__circle___EZ88P_marketplace",C=e=>{var t=e.type||"round";const n=[wr];return"circle"===t&&n.push(Er),e.classes&&n.push(...e.classes),Sr.default.createElement("button",{className:n.join(" "),onClick:e.onClick,"aria-label":e.label,disabled:e.disabled},e.children)},kr=i=>{var e,t="marketplace-customCSS-preview";const[s,n]=x.default.useState("ADD_SNIPPET"!==i.type&&(null==(e=i.content)?void 0:e.item.code)||""),[r,a]=x.default.useState("ADD_SNIPPET"!==i.type&&(null==(e=i.content)?void 0:e.item.title)||""),[l,o]=x.default.useState("ADD_SNIPPET"!==i.type&&(null==(e=i.content)?void 0:e.item.description)||""),[c,u]=x.default.useState("ADD_SNIPPET"!==i.type&&(null==(e=i.content)?void 0:e.item.imageURL)||""),p=()=>r.replace(/\n/g,"").replaceAll(" ","-");let d;return x.default.createElement("div",{id:"marketplace-add-snippet-container"},x.default.createElement("div",{className:"marketplace-customCSS-input-container"},x.default.createElement("label",{htmlFor:"marketplace-custom-css"},v("snippets.customCSS")),x.default.createElement("div",{className:"marketplace-code-editor-wrapper marketplace-code-editor"},x.default.createElement(yr.default,{value:s,onValueChange:e=>n(e),highlight:e=>(0,br.highlight)(e,br.languages.css),textareaId:"marketplace-custom-css",textareaClassName:"snippet-code-editor",readOnly:"VIEW_SNIPPET"===i.type,placeholder:v("snippets.customCSSPlaceholder"),style:{}}))),x.default.createElement("div",{className:"marketplace-customCSS-input-container"},x.default.createElement("label",{htmlFor:"marketplace-customCSS-name-submit"},v("snippets.snippetName")),x.default.createElement("input",{id:"marketplace-customCSS-name-submit",className:"marketplace-code-editor",value:r,onChange:e=>{"VIEW_SNIPPET"!==i.type&&a(e.target.value)},placeholder:v("snippets.snippetNamePlaceholder")})),x.default.createElement("div",{className:"marketplace-customCSS-input-container"},x.default.createElement("label",{htmlFor:"marketplace-customCSS-description-submit"},v("snippets.snippetDesc")),x.default.createElement("input",{id:"marketplace-customCSS-description-submit",className:"marketplace-code-editor",value:l,onChange:e=>{"VIEW_SNIPPET"!==i.type&&o(e.target.value)},placeholder:v("snippets.snippetDescPlaceholder")})),x.default.createElement("div",{className:"marketplace-customCSS-input-container"},x.default.createElement("label",{htmlFor:t},v("snippets.snippetPreview")," ","VIEW_SNIPPET"!==i.type&&`(${v("snippets.optional")})`),c&&x.default.createElement("label",{htmlFor:t,style:{textAlign:"center"}},x.default.createElement("img",{className:"marketplace-customCSS-image-preview",src:c,alt:"Preview"}))),"VIEW_SNIPPET"!==i.type&&x.default.createElement(x.default.Fragment,null,x.default.createElement(C,{onClick:()=>{d.click()}},c.length?v("snippets.changeImage"):v("snippets.addImage"),x.default.createElement("input",{id:t,type:"file",style:{display:"none"},ref:e=>d=e,onChange:async e=>{var t,n,r;if(null!=(t=e.target.files)&&t[0])try{r=null==(n=e.target.files)?void 0:n[0];var a=await new Promise((e,t)=>{const n=new FileReader;n.readAsDataURL(r),n.onload=()=>{e(n.result)},n.onerror=e=>{t(e)}});a&&(console.log(a),u(a))}catch(e){console.error(e)}}})),x.default.createElement(C,{onClick:()=>{var e=p(),t=l.trim(),n="marketplace:installed:snippet:"+e;if(w(n)&&"EDIT_SNIPPET"!==i.type)Spicetify.showNotification("That name is already taken!",!0);else{if(console.log("Installing snippet: "+e),i.content&&i.content.item.title!==e){console.log("Deleting outdated snippet: "+i.content.item.title),localStorage.removeItem("marketplace:installed:snippet:"+i.content.item.title);const o=w(E,[]);var r=o.filter(e=>{return e!=="marketplace:installed:snippet:"+(null==(e=i.content)?void 0:e.item.title)});localStorage.setItem(E,JSON.stringify(r))}localStorage.setItem(n,JSON.stringify({title:e,code:s,description:t,imageURL:c,custom:!0}));const a=w(E,[]);-1===a.indexOf(n)&&(a.push(n),console.log(a),localStorage.setItem(E,JSON.stringify(a)));r=a.map(e=>w(e));Qn(r),Spicetify.PopupModal.hide(),"EDIT_SNIPPET"===i.type&&location.reload()}},disabled:!p()||!s.replace(/\n/g,"\\n")},v("snippets.saveCSS"))))},Or=t(y("react")),xr=()=>Or.default.createElement("div",{id:"marketplace-reload-container"},Or.default.createElement("p",null,v("reloadModal.description")),Or.default.createElement("div",{className:"marketplace-reload-modal__button-container"},Or.default.createElement(C,{onClick:()=>{Spicetify.PopupModal.hide(),location.reload()}},v("reloadModal.reloadNow")),Or.default.createElement(C,{onClick:()=>{Spicetify.PopupModal.hide()}},v("reloadModal.reloadLater")))),N=t(y("react")),Cr=t(y("react")),Nr=t(y("react")),Ir="toggle-module__toggle-wrapper___ocE5z_marketplace",Lr="toggle-module__disabled___OYAYf_marketplace",Pr="toggle-module__toggle-input___ceLM4_marketplace",Rr="toggle-module__toggle-indicator-wrapper___6Lcp0_marketplace",jr="toggle-module__toggle-indicator___nCxwE_marketplace",_r=e=>{var t="toggle:"+e.storageKey;const n=[Ir];return!1===e.clickable&&n.push(Lr),Nr.default.createElement("label",{className:n.join(" ")},Nr.default.createElement("input",{className:Pr,type:"checkbox",checked:e.enabled,"data-storage-key":e.storageKey,id:t,title:"Toggle for "+e.storageKey,onChange:e.onChange}),Nr.default.createElement("span",{className:Rr},Nr.default.createElement("span",{className:jr})))},Tr=n=>{var e="toggle:"+n.storageKey,t=!!n.modalConfig.visual[n.storageKey];return Cr.default.createElement("div",{className:"setting-row"},Cr.default.createElement("label",{htmlFor:e,className:"col description"},n.name),Cr.default.createElement("div",{className:"col action"},Cr.default.createElement(_r,{name:n.name,storageKey:n.storageKey,enabled:t,onChange:e=>{var t=e.target.checked,e=e.target.dataset.storageKey;n.modalConfig.visual[e]=t,console.log(`toggling ${e} to `+t),localStorage.setItem("marketplace:"+e,String(t)),n.updateConfig(n.modalConfig)}})))},L=t(y("react")),Ar=r=>{var e="toggle:"+r.name;const t=r.modalConfig.tabs.reduce((e,t,n)=>t.name===r.name?n:e,-1);var n=r.modalConfig.tabs[t]["enabled"];function a(e,t){console.log({currPos:e,dir:t});var t=e+t,n=r.modalConfig.tabs[t];r.modalConfig.tabs[t]=r.modalConfig.tabs[e],r.modalConfig.tabs[e]=n,localStorage.setItem(dr,JSON.stringify(r.modalConfig.tabs)),r.updateConfig(r.modalConfig)}return L.default.createElement("div",{className:"setting-row"},L.default.createElement("label",{htmlFor:e,className:"col description"},v("tabs."+r.name)),L.default.createElement("div",{className:"col action"},L.default.createElement("button",{title:"Move up",className:"arrow-btn",disabled:0===t,onClick:()=>a(t,-1)},L.default.createElement("svg",{height:"16",width:"16",viewBox:"0 0 16 16",fill:"currentColor",dangerouslySetInnerHTML:{__html:String(Spicetify.SVGIcons["chart-up"])}})),L.default.createElement("button",{title:"Move down",className:"arrow-btn",disabled:t===r.modalConfig.tabs.length-1,onClick:()=>a(t,1)},L.default.createElement("svg",{height:"16",width:"16",viewBox:"0 0 16 16",fill:"currentColor",dangerouslySetInnerHTML:{__html:String(Spicetify.SVGIcons["chart-down"])}})),L.default.createElement(_r,{name:r.name,storageKey:"tab:"+r.name,clickable:"Extensions"!==r.name,enabled:n,onChange:e=>{console.log({e:e}),r.modalConfig.tabs[t].enabled=e.target.checked,localStorage.setItem(dr,JSON.stringify(r.modalConfig.tabs)),r.updateConfig(r.modalConfig)}})))},Dr=({CONFIG:e,updateAppConfig:t})=>{const[n,r]=N.default.useState(s({},e)),a=e=>{t(s({},e)),r(s({},e))},o=document.querySelector("body > generic-modal button.main-trackCreditsModal-closeBtn"),i=document.querySelector("body > generic-modal > div");return o&&i&&(o.onclick=()=>location.reload(),o.setAttribute("style","cursor: pointer;"),i.onclick=e=>{e.target===i&&location.reload()}),N.default.createElement("div",{id:"marketplace-config-container"},N.default.createElement("h2",null,v("settings.optionsHeading")),N.default.createElement(Tr,{name:v("settings.starCountLabel"),storageKey:"stars",modalConfig:n,updateConfig:a}),N.default.createElement(Tr,{name:v("settings.tagsLabel"),storageKey:"tags",modalConfig:n,updateConfig:a}),N.default.createElement(Tr,{name:v("settings.devToolsLabel"),storageKey:"themeDevTools",modalConfig:n,updateConfig:a}),N.default.createElement(Tr,{name:v("settings.hideInstalledLabel"),storageKey:"hideInstalled",modalConfig:n,updateConfig:a}),N.default.createElement(Tr,{name:v("settings.colourShiftLabel"),storageKey:"colorShift",modalConfig:n,updateConfig:a}),N.default.createElement("h2",null,v("settings.tabsHeading")),N.default.createElement("div",{className:"tabs-container"},n.tabs.map(({name:e},t)=>N.default.createElement(Ar,{key:t,name:e,modalConfig:n,updateConfig:a}))),N.default.createElement("h2",null,v("settings.resetHeading")),N.default.createElement("div",{className:"setting-row"},N.default.createElement("label",{className:"col description"},v("settings.resetDescription")),N.default.createElement("div",{className:"col action"},N.default.createElement(C,{onClick:tr},v("settings.resetBtn")))))},R=t(y("react")),$r=t(Me()),Fr=t(Be()),Mr=(Prism.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/},localStorage.getItem(k)),Br=Mr?w(Mr):null,Ur=()=>{const[n,t]=R.default.useState(Br?(e=>{let t="";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n))if("object"==typeof e[n]){t+=`[${n}]
`;for(const r in e[n])Object.prototype.hasOwnProperty.call(e[n],r)&&(t+=`${r}=${e[n][r]}
`)}else t+=`${n}=${e[n]}
`;return t})(Br.schemes):v("devTools.noThemeInstalled"));return R.default.createElement("div",{id:"marketplace-theme-dev-tools-container",className:"marketplace-theme-dev-tools-container"},R.default.createElement("div",{className:"devtools-column"},R.default.createElement("label",{htmlFor:"color-ini-editor"},R.default.createElement("h2",{className:"devtools-heading"},v("devTools.colorIniEditor"))),R.default.createElement("div",{className:"marketplace-code-editor-wrapper marketplace-code-editor"},R.default.createElement($r.default,{value:n,onValueChange:e=>t(e),highlight:e=>(0,Fr.highlight)(e,Fr.languages.ini),textareaId:"color-ini-editor",textareaClassName:"color-ini-editor",readOnly:!Br,placeholder:v("devTools.colorIniEditorPlaceholder"),style:{fontFamily:"monospace",resize:"none"}})),R.default.createElement(C,{onClick:()=>{var e=n;{var t;Mr?(t=Xn(e),Br.schemes=t,localStorage.setItem(Mr,JSON.stringify(Br))):Spicetify.showNotification(v("devTools.noThemeManifest"),!0)}}},v("save"))),R.default.createElement("div",{className:"devtools-column"},R.default.createElement("h2",{className:"devtools-heading"},v("devTools.invalidCSS")),R.default.createElement("div",{className:"marketplace-code-editor-wrapper marketplace-code-editor"},function(){var e=document.querySelector("head > style.marketplaceCSS.marketplaceUserCSS");const t=null==e?void 0:e.innerHTML;if(e=new RegExp(".-?[_a-zA-Z]+[_a-zA-Z0-9-]*\\s*{","g"),!t)return["Error: Class name list not found; please create an issue"];const n=[];for(const a of t.matchAll(e)){const o=a[0].replace(/{/g,"").trim();var r=o.split(" ");let t;for(let e=0;e<r.length;e++){try{t=document.querySelector(""+r[e])}catch(e){t=document.getElementsByClassName(""+o)}t||n.push(o)}}return n}().map((e,t)=>R.default.createElement("div",{key:t,className:"invalid-css-text"},e)))))},Hr=(e,t,n,r)=>{e=((e,t,n,r)=>{switch(e){case"ADD_SNIPPET":return{title:v("snippets.addTitle"),content:vr.default.createElement(kr,{type:e}),isLarge:!0};case"EDIT_SNIPPET":return{title:v("snippets.editTitle"),content:vr.default.createElement(kr,{type:e,content:r}),isLarge:!0};case"VIEW_SNIPPET":return{title:v("snippets.viewTitle"),content:vr.default.createElement(kr,{type:e,content:r}),isLarge:!0};case"RELOAD":return{title:v("reloadModal.title"),content:vr.default.createElement(xr,null),isLarge:!1};case"SETTINGS":return{title:v("settings.title"),content:vr.default.createElement(Dr,{CONFIG:t,updateAppConfig:n}),isLarge:!0};case"THEME_DEV_TOOLS":return{title:v("devTools.title"),content:vr.default.createElement(Ur,null),isLarge:!0};default:return{title:"",content:vr.default.createElement("div",null),isLarge:!1}}})(e,t,n,r),Spicetify.PopupModal.display(e)},Kr=[{title:"Fix 'Liked' Icon",description:"Fix the colours of the Liked icon in sidebar",code:".main-likedSongsButton-likedSongsIcon {\n  color: var(--spice-sidebar);\n  background: var(--spice-text);\n}",preview:"resources/assets/snippets/fix-liked-icon.png"},{title:"Hide Upgrade Button",description:"Makes the upgrade button hidden",code:".main-topBar-UpgradeButton {\n  display: none !important;\n}",preview:"resources/assets/snippets/hide-upgrade-button.png"},{title:"Auto-hide Friends",description:"Collapse the friends activity sidebar on small screens",code:"[aria-label='Friend Activity'] {\n  transition: width 0.3s;\n}\n@media screen and (max-width: 1200px) {\n  [aria-label='Friend Activity'] {\n    width: 0;\n  }\n  [aria-label='Friend Activity'] .LayoutResizer__resize-bar {\n    display: none;\n  }\n}",preview:"resources/assets/snippets/auto-hide-friends.png"},{title:"Smooth Reveal Playlist Gradient",description:"Reveals the playlist gradient header gradient with a fade in effect",code:".main-entityHeader-overlay,\n.main-actionBarBackground-background,\n.main-entityHeader-overlay,\n.main-entityHeader-backgroundColor {\n  -webkit-transition: 3s;\n}",preview:"resources/assets/snippets/smooth-playlist-reveal-gradient.png"},{title:"Remove connect bar",description:"Remove connect bar that causes progress bar displacement when listening on different devices",code:".main-connectBar-connectBar {\n  color: transparent !important;\n  overflow: visible !important;\n  --triangle-position: 147px !important;\n  align-items: unset !important;\n  height: 0px !important;\n  position: absolute !important;\n  left: 80% !important;\n  display: flex !important;\n  bottom: 2% !important;\n  padding: unset !important;\n}",preview:"resources/assets/snippets/remove-connect-bar.png"},{title:"Fix playlist arrows",description:"Fixes the opened and closed orientation of the playlist folder arrows",code:".main-rootlist-expandArrow {\n  -webkit-transform: rotate(-90deg) !important;\n  transform: rotate(-90deg) !important;\n}\n.main-rootlist-expandArrow:hover {\n  -webkit-transform: rotate(-90deg) !important;\n  transform: rotate(-90deg) !important;\n}\n.qAAhQw9dXNB7DbPgDDxy {\n  -webkit-transform: rotate(0deg) !important;\n  transform: rotate(0deg) !important;\n}\n.qAAhQw9dXNB7DbPgDDxy:hover {\n  -webkit-transform: rotate(0deg) !important;\n  transform: rotate(0deg) !important;\n}",preview:"resources/assets/snippets/fix-playlist-arrows.png"},{title:"Fix main view width",description:"Makes main view fill up all available space",code:".contentSpacing {\n  max-width: 100% !important;\n}",preview:"resources/assets/snippets/fix-main-view-width.png"},{title:"Left aligned heart icons",description:"Moves the heart icon to the left side of the track title in track views",code:".main-trackList-rowSectionStart {\n  margin-left: 38px !important;\n}\n.main-addButton-button.main-trackList-rowHeartButton,\n.main-addButton-button.main-trackList-rowHeartButton {\n  position: absolute !important;\n  left: 48px !important;\n}",preview:"resources/assets/snippets/left-aligned-heart-icons.png"},{title:"Hover Panels",description:"Have your playlist, friend activity, and controls bar be hoverable.",code:".Root__nav-bar {\n  position: absolute;\n  width: 40px;\n  opacity: 0;\n  bottom: 0;\n  left: 0;\n  top: 0;\n  z-index: 1;\n}\nnav.Root__nav-bar:hover {\n  position: inherit;\n  width: 225px;\n  opacity: 1;\n  transition: visibility 5s, opacity 0.5s linear;\n}\n.LayoutResizer__resize-bar {\n  cursor: none;\n}\n.Root__top-bar {\n  opacity: 0;\n  transition: visibility 5s, opacity 1s linear;\n}\n.Root__top-bar:hover {\n  transition-delay: 0.5s;\n  opacity: 1;\n  transition: visibility 5s, opacity 0.5s linear;\n}\n.main-topBar-container {\n  -webkit-padding-end: 32px;\n  padding: 16px 85px;\n  padding-inline-end: 32px;\n  max-width: none;\n}\naside.main-buddyFeed-buddyFeedRoot:hover {\n  position: inherit;\n  width: var(--buddy-feed-width);\n  opacity: 1;\n  transition: visibility 5s, opacity 0.5s linear;\n  left: 0;\n}\naside.main-buddyFeed-buddyFeedRoot {\n  position: absolute;\n  width: 65px;\n  opacity: 0;\n  bottom: 0;\n  left: -30px;\n  top: 0;\n  z-index: 1;\n}",preview:"resources/assets/snippets/hover-panels.png"},{title:"Fix progress bar displacement",description:"Fixes the progress bar displacement for a few themes. Better version of @CharlieS1103 Snippet",code:".main-connectBar-connectBar {\n  overflow: visible !important;\n  position: absolute !important;\n  display: flex !important;\n  align-items: unset !important;\n  left: 80% !important;\n  height: 20px !important;\n  bottom: 1% !important;\n  padding: 2px !important;\n  background-color: transparent !important;\n  color: var(--spice-text) !important;\n}\n.control-button::after {\n  display: none !important;\n}",preview:"resources/assets/snippets/fix-progress-bar.png"},{title:"Fix playlist hover effect",description:"Fixes the hover effect on the playlist titles in some themes",code:".main-rootlist-rootlistItemOverlay {\n  display: none;\n}",preview:"resources/assets/snippets/fix-playlist-hover.png"},{title:"Disable Homepage Recommendation",description:"Disable Homepage Recommendation charts",code:"section[data-testid='home-page'] .main-shelf-shelf:not([aria-label='Recently played'], [aria-label='Your playlists']) {\n\tdisplay: none !important;\n}",preview:"resources/assets/snippets/disable-recommendation.png"},{title:"Circular Album Art",description:"Makes the now playing album art be circular (like a vinyl)",code:".cover-art .cover-art-image {\n    border-radius: 100% !important;\n}",preview:"resources/assets/snippets/circular-album-art.png"},{title:"Always show forward button",description:"The navigate forward button hides itself when the window width is smaller. This snipppet makes it so that it is always shown.",code:".main-topBar-historyButtons .main-topBar-forward {\n    display: inline-flex !important;\n}",preview:"resources/assets/snippets/always-show-forward.png"},{title:"Right Side Cover Art",description:"Cover art on right side with animation",code:".main-nowPlayingWidget-nowPlaying > .ellipsis-one-line,\n.main-trackInfo-container {\n margin-left: 74px;\n}\n.main-coverSlotExpanded-container {\n position: fixed;\n top: calc(100% - 305px);\n left: calc(100% - 220px);\n width: 200px;\n height: 200px;\n visibility: hidden;\n transform-origin: center;\n animation: 1s coverExpandedIn;\n animation-fill-mode: forwards;\n}\n.Q4cc5RktWgz2H8_vDrIS {\n display: none;\n}\n.main-coverSlotCollapsed-container {\n position: fixed;\n top: -12px;\n left: 0px;\n width: 56px;\n height: 56px;\n visibility: visible;\n z-index: 1;\n}\n.cover-art .cover-art-image,\n.main-coverSlotCollapsed-container {\n transform-origin: center;\n transition-timing-function: ease-in;\n transition: width 0.5s 0.2s, height 0.5s 0.2s, top 0.3s, left 0.5s,\n box-shadow 0.5s;\n}\n.main-coverSlotCollapsed-container[aria-hidden='true'] {\n left: calc(100vw - 164px);\n top: -240px;\n width: 200px;\n height: 200px;\n visibility: hidden;\n animation: 1s coverExpandedOut;\n}\n.main-coverSlotCollapsed-container[aria-hidden='false'] {\n transition-timing-function: ease-out !important;\n transition: width 0.5s 0.2s, height 0.5s 0.2s, top 0.5s 0.1s, left 0.3s,\n box-shadow 0.5s !important;\n}\n.main-coverSlotCollapsed-container[aria-hidden='true']\n .cover-art\n .cover-art-image,\n.main-nowPlayingWidget-coverExpanded\n .main-coverSlotCollapsed-container\n .cover-art\n .cover-art-image {\n width: 200px;\n height: 200px;\n}\n.main-nowPlayingBar-left {\n z-index: 2;\n}\n.main-nowPlayingBar-center {\n z-index: 1;\n}\n.cover-art.shadow {\n box-shadow: 0 0 10px rgba(var(--spice-rgb-shadow), 1) !important;\n}\n@keyframes coverExpandedIn {\n 99% {\n visibility: hidden;\n }\n 100% {\n visibility: visible;\n }\n}\n@keyframes coverExpandedOut {\n 99% {\n visibility: visible;\n }\n 100% {\n visibility: hidden;\n }\n}",preview:"resources/assets/snippets/right-cover-art.png"},{title:"Better lyrics style",description:"Spotify lyrics are focused and beautified",code:".lyrics-lyrics-contentContainer .lyrics-lyricsContent-lyric.lyrics-lyricsContent-highlight { filter: blur(1.5px); padding: 15px; font-size: 110%; } .lyrics-lyrics-contentContainer .lyrics-lyricsContent-lyric.lyrics-lyricsContent-active { filter: none; padding: 20px; font-size: 130%; } .lyrics-lyrics-contentContainer .lyrics-lyricsContent-lyric { filter: blur(1.5px); padding: 15px; font-size: 110%; } .lyrics-lyrics-contentContainer .lyrics-lyricsContent-lyric.lyrics-lyricsContent-unsynced { filter: none; padding: 10px; font-size: 100%; }",preview:"resources/assets/snippets/better-lyrics-style.png"},{title:"Fix now playing icon color",description:"Fixes the now playing icon color",code:`.main-trackList-playingIcon { -webkit-mask-image: url("data:image/svg+xml,%3Csvg id='playing-icon' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 22 24'%3E%3Cdefs%3E%3Cstyle%3E %23playing-icon %7B fill: %2320BC54; %7D @keyframes play %7B 0%25 %7Btransform: scaleY(1);%7D 3.3%25 %7Btransform: scaleY(0.9583);%7D 6.6%25 %7Btransform: scaleY(0.9166);%7D 9.9%25 %7Btransform: scaleY(0.8333);%7D 13.3%25 %7Btransform: scaleY(0.7083);%7D 16.6%25 %7Btransform: scaleY(0.5416);%7D 19.9%25 %7Btransform: scaleY(0.4166);%7D 23.3%25 %7Btransform: scaleY(0.25);%7D 26.6%25 %7Btransform: scaleY(0.1666);%7D 29.9%25 %7Btransform: scaleY(0.125);%7D 33.3%25 %7Btransform: scaleY(0.125);%7D 36.6%25 %7Btransform: scaleY(0.1666);%7D 39.9%25 %7Btransform: scaleY(0.1666);%7D 43.3%25 %7Btransform: scaleY(0.2083);%7D 46.6%25 %7Btransform: scaleY(0.2916);%7D 49.9%25 %7Btransform: scaleY(0.375);%7D 53.3%25 %7Btransform: scaleY(0.5);%7D 56.6%25 %7Btransform: scaleY(0.5833);%7D 59.9%25 %7Btransform: scaleY(0.625);%7D 63.3%25 %7Btransform: scaleY(0.6666);%7D 66.6%25 %7Btransform: scaleY(0.6666);%7D 69.9%25 %7Btransform: scaleY(0.6666);%7D 73.3%25 %7Btransform: scaleY(0.6666);%7D 76.6%25 %7Btransform: scaleY(0.7083);%7D 79.9%25 %7Btransform: scaleY(0.75);%7D 83.3%25 %7Btransform: scaleY(0.8333);%7D 86.6%25 %7Btransform: scaleY(0.875);%7D 89.9%25 %7Btransform: scaleY(0.9166);%7D 93.3%25 %7Btransform: scaleY(0.9583);%7D 96.6%25 %7Btransform: scaleY(1);%7D %7D %23bar1 %7B transform-origin: bottom; animation: play 0.9s -0.51s infinite; %7D %23bar2 %7B transform-origin: bottom; animation: play 0.9s infinite; %7D %23bar3 %7B transform-origin: bottom; animation: play 0.9s -0.15s infinite; %7D %23bar4 %7B transform-origin: bottom; animation: play 0.9s -0.75s infinite; %7D %3C/style%3E%3C/defs%3E%3Ctitle%3Eplaying-icon%3C/title%3E%3Crect id='bar1' class='cls-1' width='4' height='24'/%3E%3Crect id='bar2' class='cls-1' x='6' width='4' height='24'/%3E%3Crect id='bar3' class='cls-1' x='12' width='4' height='24'/%3E%3Crect id='bar4' class='cls-1' x='18' width='4' height='24'/%3E%3C/svg%3E"); background: var(--spice-button); content-visibility: hidden; -webkit-mask-repeat: no-repeat; }`,preview:"resources/assets/snippets/fix-now-playing-icon.png"},{title:"Hide playing gif",description:"Hides the gif that shows the music playing",code:".main-trackList-playingIcon{display: none}",preview:"resources/assets/snippets/hide-playing-gif.png"},{title:"Pointers",description:"Clickable elements are now a pointer",code:"button, .show-followButton-button, .main-dropDown-dropDown, .x-toggle-wrapper, .main-playlistEditDetailsModal-closeBtn, .main-trackList-rowPlayPauseButton, .main-rootlist-rootlistItemLink:link, .main-rootlist-rootlistItemLink:visited, .x-sortBox-sortDropdown, .main-contextMenu-menuItemButton, .main-trackList-column, .main-moreButton-button, .x-downloadButton-button, .main-playButton-PlayButton, .main-coverSlotExpandedCollapseButton-chevron, .main-coverSlotCollapsed-chevron, .control-button:focus, .control-button:hover, .main-repeatButton-button, .main-skipForwardButton-button, .main-playPauseButton-button, .main-skipBackButton-button, .main-shuffleButton-button, .main-addButton-button, .progress-bar__slider, .playback-bar, .main-editImageButton-image, .X1lXSiVj0pzhQCUo_72A { cursor: pointer !important; }",preview:"resources/assets/snippets/pointer.png"},{title:"Remove Top gradient",description:"Removes gradient from home page and playlist page",code:".main-entityHeader-backgroundColor { display: none !important; } .main-actionBarBackground-background { display: none !important; } .main-home-homeHeader { display: none !important; }",preview:"resources/assets/snippets/remove-gradient.png"},{title:"Fix Liked Button",description:"Fixes Liked Button colors",code:'#_R_G *:not([fill="none"]) { fill: var(--spice-button) !important; } #_R_G *:not([stroke="none"]) { stroke: var(--spice-button); } .main-addButton-button[aria-checked="false"] { color: rgba(var(--spice-rgb-selected-row), 0.7); } .control-button-heart[aria-checked="true"], .main-addButton-button, .main-addButton-active:focus, .main-addButton-active:hover { color: var(--spice-button); }',preview:"resources/assets/snippets/fix-liked-button.png"},{title:"Hide Sidebar ScrollBar",description:"Hides Sidebar ScrollBar near playlist section",code:".os-scrollbar:nth-child(6) .os-scrollbar-handle { visibility: hidden; }",preview:"resources/assets/snippets/hide-sidebar-scrollbar.png"},{title:"Modern ScrollBar",description:"Thin rounded modern scrollbar",code:".os-theme-spotify.os-host-transition > .os-scrollbar-vertical > .os-scrollbar-track > .os-scrollbar-handle { border-radius: 4px; width: 6px; background-color: var(--spice-button-disabled); } .os-theme-spotify.os-host-transition > .os-scrollbar-vertical > .os-scrollbar-track { width: 6px; }",preview:"resources/assets/snippets/modern-scrollbar.png"},{title:"Remove liked and Episodes icon",description:"Removes the liked and episodes icon from the sidebar",code:'.main-collectionLinkButton-collectionLinkButton[href="/collection/tracks"], .main-collectionLinkButton-collectionLinkButton[href="/collection/episodes"] {display: none;}',preview:"resources/assets/snippets/remove-ep-likes.png"},{title:"Rotating Cover Art",description:"Adds circular mask to cover art and rotation",code:"@keyframes rotating { from { transform: rotate(0deg); } to { transform: rotate(360deg); }} .cover-art { animation: rotating 2s linear infinite; clip-path: circle(50% at 50% 50%);}",preview:"resources/assets/snippets/rotating-coverart"}];async function Gr(e,t=1,n=[],r){let a=r?`https://api.github.com/search/repositories?q=${encodeURIComponent(r+"+topic:"+e)}&per_page=100`:`https://api.github.com/search/repositories?q=${encodeURIComponent("topic:"+e)}&per_page=100`;t&&(a+="&page="+t);const o=await fetch(a).then(e=>e.json()).catch(()=>[]);if(o.items)return W(s({},o),{page_count:o.items.length,items:o.items.filter(e=>!n.includes(e.html_url))});Spicetify.showNotification("Too Many Requests, Cool Down.",!0)}async function Vr(e,t,n){var r=window.sessionStorage.getItem(e+"-"+t);const a=window.sessionStorage.getItem("noManifests");if(r)return JSON.parse(r);const o=`https://raw.githubusercontent.com/${e}/${t}/${n}/manifest.json`;return null!=a&&a.includes(o)?null:((r=await fetch(o).then(e=>e.json()).catch(()=>{var r=[o],a="noManifests";r&&r.forEach(e=>{a=a||r.user+"-"+r.repo;var t=window.sessionStorage.getItem(a);const n=t?JSON.parse(t):[];n.push(e),window.sessionStorage.setItem(a,JSON.stringify(n))})}))&&window.sessionStorage.setItem(e+"-"+t,JSON.stringify(r)),r)}async function qr(t,r,a,o=!1){try{let e;var n=t.match(new RegExp("https:\\/\\/api\\.github\\.com\\/repos\\/(?<user>.+)\\/(?<repo>.+)\\/contents"));if(!n||!n.groups)return null;const{user:i,repo:s}=n.groups;return e=await Vr(i,s,r),(e=Array.isArray(e)?e:[e]).reduce((e,t)=>{var n=t.branch||r,n={manifest:t,title:t.name,subtitle:t.description,authors:Zn(t.authors,i),user:i,repo:s,branch:n,imageURL:t.preview&&t.preview.startsWith("http")?t.preview:`https://raw.githubusercontent.com/${i}/${s}/${n}/`+t.preview,extensionURL:t.main.startsWith("http")?t.main:`https://raw.githubusercontent.com/${i}/${s}/${n}/`+t.main,readmeURL:t.readme&&t.readme.startsWith("http")?t.readme:`https://raw.githubusercontent.com/${i}/${s}/${n}/`+t.readme,stars:a,tags:t.tags};return t&&t.name&&t.description&&t.main&&(o&&localStorage.getItem(`marketplace:installed:${i}/${s}/`+t.main)||e.push(n)),e},[])}catch(e){return null}}async function zr(t,r,a){try{let e;var n=t.match(new RegExp("https:\\/\\/api\\.github\\.com\\/repos\\/(?<user>.+)\\/(?<repo>.+)\\/contents"));if(!n||!n.groups)return null;const{user:o,repo:i}=n.groups;return e=await Vr(o,i,r),(e=Array.isArray(e)?e:[e]).reduce((e,t)=>{var n=t.branch||r,n={manifest:t,title:t.name,subtitle:t.description,authors:Zn(t.authors,o),user:o,repo:i,branch:n,imageURL:t.preview&&t.preview.startsWith("http")?t.preview:`https://raw.githubusercontent.com/${o}/${i}/${n}/`+t.preview,readmeURL:t.readme&&t.readme.startsWith("http")?t.readme:`https://raw.githubusercontent.com/${o}/${i}/${n}/`+t.readme,stars:a,tags:t.tags,cssURL:t.usercss.startsWith("http")?t.usercss:`https://raw.githubusercontent.com/${o}/${i}/${n}/`+t.usercss,schemesURL:t.schemes?t.schemes.startsWith("http")?t.schemes:`https://raw.githubusercontent.com/${o}/${i}/${n}/`+t.schemes:null,include:t.include};return null!=t&&t.name&&null!=t&&t.usercss&&null!=t&&t.description&&e.push(n),e},[])}catch(e){return null}}async function Wr(t,r,a){try{let e;var n=t.match(new RegExp("https:\\/\\/api\\.github\\.com\\/repos\\/(?<user>.+)\\/(?<repo>.+)\\/contents"));if(!n||!n.groups)return null;const{user:o,repo:i}=n.groups;return e=await Vr(o,i,r),(e=Array.isArray(e)?e:[e]).reduce((e,t)=>{var n=t.branch||r,n={manifest:t,title:t.name,subtitle:t.description,authors:Zn(t.authors,o),user:o,repo:i,branch:n,imageURL:t.preview&&t.preview.startsWith("http")?t.preview:`https://raw.githubusercontent.com/${o}/${i}/${n}/`+t.preview,readmeURL:t.readme&&t.readme.startsWith("http")?t.readme:`https://raw.githubusercontent.com/${o}/${i}/${n}/`+t.readme,stars:a,tags:t.tags};return t&&t.name&&t.description&&e.push(n),e},[])}catch(e){return null}}var Jr=async()=>{return(await fetch("https://raw.githubusercontent.com/spicetify/spicetify-marketplace/main/resources/blacklist.json").then(e=>e.json()).catch(()=>({}))).repos},Yr=async()=>{return Kr.reduce((e,t)=>{const n=s({},t);return n.preview&&(n.imageURL=n.preview.startsWith("http")?n.preview:"https://raw.githubusercontent.com/spicetify/spicetify-marketplace/main/"+n.preview,delete n.preview),e.push(n),e},[])},Xr=t(y("react")),Qr=class extends Xr.default.Component{render(){return Xr.default.createElement("div",{onClick:this.props.onClick},Xr.default.createElement("p",{style:{fontSize:100,lineHeight:"65px"}},"»"),Xr.default.createElement("span",{style:{fontSize:20}},"Load more"))}},Zr=t(y("react")),ea=()=>Zr.default.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},Zr.default.createElement("circle",{cx:"50",cy:"50",r:"0",fill:"none",stroke:"currentColor",strokeWidth:"2"},Zr.default.createElement("animate",{attributeName:"r",repeatCount:"indefinite",dur:"1s",values:"0;40",keyTimes:"0;1",keySplines:"0 0.2 0.8 1",calcMode:"spline",begin:"0s"}),Zr.default.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",values:"1;0",keyTimes:"0;1",keySplines:"0.2 0 0.8 1",calcMode:"spline",begin:"0s"})),Zr.default.createElement("circle",{cx:"50",cy:"50",r:"0",fill:"none",stroke:"currentColor",strokeWidth:"2"},Zr.default.createElement("animate",{attributeName:"r",repeatCount:"indefinite",dur:"1s",values:"0;40",keyTimes:"0;1",keySplines:"0 0.2 0.8 1",calcMode:"spline",begin:"-0.5s"}),Zr.default.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",values:"1;0",keyTimes:"0;1",keySplines:"0.2 0 0.8 1",calcMode:"spline",begin:"-0.5s"}))),ta=t(y("react")),na=()=>ta.default.createElement("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 24 24","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},ta.default.createElement("path",{d:"M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z",fill:"currentColor"})),ra=t(y("react")),aa=()=>ra.default.createElement("svg",{className:"devtools-icon",version:"1.1",viewBox:"1 1 22 22",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg"},ra.default.createElement("g",{className:"devtools-icon-internal",id:"grid_system"}),ra.default.createElement("g",{id:"_icons"},ra.default.createElement("path",{d:"M18,12v-0.9l0.7-5.7C18.8,4.5,18.6,3.7,18,3c-0.6-0.6-1.4-1-2.2-1H8.3C7.4,2,6.6,2.4,6,3C5.4,3.7,5.2,4.5,5.3,5.4L6,11.1   V12c0,1.6,1.3,2.9,2.8,3l-0.4,2.9c-0.1,1,0.2,2.1,0.8,2.9S11,22,12,22s2-0.5,2.7-1.2s1-1.8,0.8-2.9L15.2,15   C16.7,14.9,18,13.6,18,12z M7.5,4.3C7.7,4.1,8,4,8.3,4H13v2c0,0.6,0.4,1,1,1s1-0.4,1-1V4h0.7c0.3,0,0.6,0.1,0.8,0.3   c0.2,0.2,0.3,0.5,0.2,0.8L16.1,10H7.9L7.3,5.1C7.2,4.8,7.3,4.6,7.5,4.3z M13.2,19.4c-0.6,0.7-1.8,0.7-2.4,0   c-0.3-0.4-0.4-0.8-0.4-1.3l0.5-3.2h2.3l0.5,3.2C13.7,18.6,13.5,19.1,13.2,19.4z M15,13h-1h-4H9c-0.6,0-1-0.4-1-1h8   C16,12.6,15.6,13,15,13z"}))),oa=t(y("react")),ia=t(e()),sa=t=>{var e=t.sortBoxOptions.map(e=>({value:e.key,label:e.value})),n=t.sortBoxOptions.find(t.sortBySelectedFn);return oa.default.createElement("div",{className:"marketplace-sortBox"},oa.default.createElement("div",{className:"marketplace-sortBox-header"},oa.default.createElement("div",{className:"marketplace-sortBox-header-title"}),oa.default.createElement(ia.default,{placeholder:"Select an option",options:e,value:null==n?void 0:n.key,onChange:e=>{t.onChange(e.value)}})))},j=t(y("react")),la=t(e()),n=class extends j.default.Component{constructor(e){super(e)}render(){const e=this.props["t"];return this.props.item.enabled?j.default.createElement("li",{className:"marketplace-tabBar-headerItem","data-tab":this.props.item.value,onClick:e=>{e.preventDefault(),this.props.switchTo(this.props.item)}},j.default.createElement("a",{"aria-current":"page",className:"marketplace-tabBar-headerItemLink "+(this.props.item.active?"marketplace-tabBar-active":""),draggable:"false",href:""},j.default.createElement("span",{className:"main-type-mestoBold"},e("tabs."+this.props.item.value)))):null}},ca=Rn()(n),ua=j.default.memo(function({items:e,switchTo:t}){return j.default.createElement("li",{className:"marketplace-tabBar-headerItem"},j.default.createElement(la.default,{className:"main-type-mestoBold",options:e,value:"More",placeholder:"More",onChange:t}))}),pa=e=>{const t=document.querySelector(".Root__main-view .os-resize-observer-host");if(!t)return null;const[n,r]=(0,j.useState)(t.clientWidth),a=()=>r(t.clientWidth);return(0,j.useEffect)(()=>{const e=new ResizeObserver(a);return e.observe(t),()=>{e.disconnect()}},[a]),(0,j.useEffect)(()=>{{var e=document.querySelector(".marketplace-tabBar");const t=document.querySelector(".main-topBar-topbarContentWrapper");e&&t&&"/marketplace"==Spicetify.Platform.History.location.pathname&&t.appendChild(e),Spicetify.Platform.History.listen(({pathname:e})=>{"/marketplace"!=e&&null!=(e=document.querySelector(".marketplace-tabBar"))&&e.remove()})}}),j.default.createElement(da,{windowSize:n,links:e.links,activeLink:e.activeLink,switchCallback:e.switchCallback})},da=j.default.memo(function({links:e,activeLink:n,switchCallback:t,windowSize:r=1/0}){const a=j.default.useRef(null),[o,i]=(0,j.useState)([]),[s,l]=(0,j.useState)(0),[c,u]=(0,j.useState)([]),p=e.map(({name:e,enabled:t})=>{return{label:e,value:e,active:e===n,enabled:t}});return(0,j.useEffect)(()=>{a.current&&l(a.current.clientWidth)},[r]),(0,j.useEffect)(()=>{if(a.current){const t=Array.from(a.current.children);var e=t.map(e=>e.clientWidth);i(e)}},[e]),(0,j.useEffect)(()=>{if(a.current)if(o.reduce((e,t)=>e+t,0)<=s)u([]);else{var e=Math.max(...o);const r=[];let n=e;o.forEach((e,t)=>{s>=n+e?n+=e:r.push(t)}),u(r)}},[s,o]),j.default.createElement("nav",{className:"marketplace-tabBar marketplace-tabBar-nav"},j.default.createElement("ul",{className:"marketplace-tabBar-header",ref:a},p.filter((e,t)=>!c.includes(t)).map(e=>j.default.createElement(ca,{key:e.value,item:e,switchTo:t})),c.length||0===o.length?j.default.createElement(ua,{items:c.map(e=>p[e]).filter(e=>e),switchTo:t}):null))}),_=t(y("react")),ha=t(y("react")),fa=()=>ha.default.createElement("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 448 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},ha.default.createElement("path",{d:"M53.21 467c1.562 24.84 23.02 45 47.9 45h245.8c24.88 0 46.33-20.16 47.9-45L416 128H32L53.21 467zM432 32H320l-11.58-23.16c-2.709-5.42-8.25-8.844-14.31-8.844H153.9c-6.061 0-11.6 3.424-14.31 8.844L128 32H16c-8.836 0-16 7.162-16 16V80c0 8.836 7.164 16 16 16h416c8.838 0 16-7.164 16-16V48C448 39.16 440.8 32 432 32z",fill:"currentColor"})),ma=t(y("react")),ga=()=>ma.default.createElement("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 512 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},ma.default.createElement("path",{d:"M480 352h-133.5l-45.25 45.25C289.2 409.3 273.1 416 256 416s-33.16-6.656-45.25-18.75L165.5 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96C512 366.3 497.7 352 480 352zM432 456c-13.2 0-24-10.8-24-24c0-13.2 10.8-24 24-24s24 10.8 24 24C456 445.2 445.2 456 432 456zM233.4 374.6C239.6 380.9 247.8 384 256 384s16.38-3.125 22.62-9.375l128-128c12.49-12.5 12.49-32.75 0-45.25c-12.5-12.5-32.76-12.5-45.25 0L288 274.8V32c0-17.67-14.33-32-32-32C238.3 0 224 14.33 224 32v242.8L150.6 201.4c-12.49-12.5-32.75-12.5-45.25 0c-12.49 12.5-12.49 32.75 0 45.25L233.4 374.6z",fill:"currentColor"})),va=t(y("react")),ya=()=>va.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},va.default.createElement("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z",fill:"currentColor"})),ba=t(y("react")),Sa=e=>{return ba.default.createElement("div",{className:"marketplace-card__authors"},e.authors.map((e,t)=>ba.default.createElement("a",{title:e.name,className:"marketplace-card__author",href:e.url,draggable:"false",dir:"auto",target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),key:t},e.name)))},wa=t(y("react")),Ea=r=>{const[e,t]=wa.default.useState(!1),a={[v("grid.externalJS")]:"external JS",[v("grid.dark")]:"dark",[v("grid.light")]:"light"};var n=e=>{const t=e.filter((e,t,n)=>n.indexOf(e)===t);return t.reduce((e,t)=>{var n=a[t]||t;return!r.showTags&&t!==v("grid.externalJS")||e.push(wa.default.createElement("li",{className:"marketplace-card__tag",draggable:!1,"data-tag":n},t)),e},[])},o=r.tags.slice(0,4),i=r.tags.slice(4);return wa.default.createElement("div",{className:"marketplace-card__tags-container"},wa.default.createElement("ul",{className:"marketplace-card__tags"},n(o),i.length&&e?n(i):null),i.length&&!e?wa.default.createElement("button",{className:"marketplace-card__tags-more-btn",onClick:e=>{e.stopPropagation(),t(!0)}},"..."):null)},ka=class extends _.default.Component{constructor(e){super(e),this.key=null,this.type=ka,this.menuType=Spicetify.ReactComponent.Menu,this.localStorageKey=ir(e),Object.assign(this,e),this.tags=e.item.tags||[],e.item.include&&this.tags.push(v("grid.externalJS")),this.state={installed:null!==localStorage.getItem(this.localStorageKey),stars:this.props.item.stars||0,tagsExpanded:!1,externalUrl:this.props.item.user&&this.props.item.repo?`https://github.com/${this.props.item.user}/`+this.props.item.repo:"",lastUpdated:this.props.item.user&&this.props.item.repo?this.props.item.lastUpdated:void 0}}isInstalled(){return null!==localStorage.getItem(this.localStorageKey)}async componentDidMount(){if("Installed"===this.props.CONFIG.activeTab&&"snippet"!==this.props.type){var e=`https://api.github.com/repos/${this.props.item.user}/`+this.props.item.repo,{stargazers_count:e,pushed_at:t}=await fetch(e).then(e=>e.json());const n={stars:0,lastUpdated:void 0};this.state.stars!==e&&this.props.CONFIG.visual.stars&&(n.stars=e,console.log("Stars updated to: "+e)),this.state.lastUpdated!==t&&(n.lastUpdated=t,console.log("New update pushed at: "+t))}}buttonClicked(){var e,t;"extension"===this.props.type?(this.isInstalled()?(console.log("Extension already installed, removing"),this.removeExtension()):this.installExtension(),Hr("RELOAD")):"theme"===this.props.type?(t=(e=localStorage.getItem("marketplace:theme-installed"))?w(e,{}):{},console.log(t),console.log(e),this.isInstalled()?(console.log("Theme already installed, removing"),this.removeTheme(this.localStorageKey)):(this.removeTheme(),this.installTheme()),(null!=(e=this.props.item.manifest)&&e.include||t.include)&&Hr("RELOAD")):"app"===this.props.type?window.open(this.state.externalUrl,"_blank"):"snippet"===this.props.type?this.isInstalled()?(console.log("Snippet already installed, removing"),this.removeSnippet()):this.installSnippet():console.error("Unknown card type")}installExtension(){if(console.log("Installing extension "+this.localStorageKey),this.props.item){var{manifest:e,title:t,subtitle:n,authors:r,user:a,repo:o,branch:i,imageURL:s,extensionURL:l,readmeURL:c,lastUpdated:u}=this.props.item;localStorage.setItem(this.localStorageKey,JSON.stringify({manifest:e,type:this.props.type,title:t,subtitle:n,authors:r,user:a,repo:o,branch:i,imageURL:s,extensionURL:l,readmeURL:c,stars:this.state.stars,lastUpdated:u}));const p=w(cr,[]);-1===p.indexOf(this.localStorageKey)&&(p.push(this.localStorageKey),localStorage.setItem(cr,JSON.stringify(p))),console.log("Installed"),this.setState({installed:!0})}else Spicetify.showNotification("There was an error installing extension",!0)}removeExtension(){if(localStorage.getItem(this.localStorageKey)){console.log("Removing extension "+this.localStorageKey),localStorage.removeItem(this.localStorageKey);const t=w(cr,[]);var e=t.filter(e=>e!==this.localStorageKey);localStorage.setItem(cr,JSON.stringify(e)),console.log("Removed"),this.setState({installed:!1})}}async installTheme(){var t=this.props["item"];if(t){console.log("Installing theme "+this.localStorageKey);let e={};if(t.schemesURL){const y=await fetch(t.schemesURL);var n=await y.text();e=Xn(n)}var n=Object.keys(e)[0],n=(console.log(e,n),n||null),{manifest:r,title:a,subtitle:o,authors:i,user:s,repo:l,branch:c,imageURL:u,extensionURL:p,readmeURL:d,cssURL:h,schemesURL:f,include:m,lastUpdated:g}=t;localStorage.setItem(this.localStorageKey,JSON.stringify({manifest:r,type:this.props.type,title:a,subtitle:o,authors:i,user:s,repo:l,branch:c,imageURL:u,extensionURL:p,readmeURL:d,stars:this.state.stars,tags:this.tags,cssURL:h,schemesURL:f,include:m,schemes:e,activeScheme:n,lastUpdated:g}));const v=w(ur,[]);-1===v.indexOf(this.localStorageKey)&&(v.push(this.localStorageKey),localStorage.setItem(ur,JSON.stringify(v)),localStorage.setItem(k,this.localStorageKey)),console.log("Installed"),t.include||(this.fetchAndInjectUserCSS(this.localStorageKey),this.props.updateActiveTheme(this.localStorageKey),this.props.updateColourSchemes(e,n),(a=null==(r=this.props.item.manifest)?void 0:r.name)&&(Spicetify.Config.current_theme=a),n&&(Spicetify.Config.color_scheme=n)),this.setState({installed:!0})}else Spicetify.showNotification("There was an error installing theme",!0)}removeTheme(t){var e=(t=t||localStorage.getItem(k))&&localStorage.getItem(t);if(t&&e){console.log("Removing theme "+t),localStorage.removeItem(t),localStorage.removeItem(k);const n=w(ur,[]);e=n.filter(e=>e!==t);localStorage.setItem(ur,JSON.stringify(e)),console.log("Removed"),this.fetchAndInjectUserCSS(null),this.props.updateActiveTheme(null),this.props.updateColourSchemes(null,null),Spicetify.Config.current_theme=Spicetify.Config.local_theme,Spicetify.Config.color_scheme=Spicetify.Config.local_color_scheme,this.setState({installed:!1})}}installSnippet(){console.log("Installing snippet "+this.localStorageKey),localStorage.setItem(this.localStorageKey,JSON.stringify({code:this.props.item.code,title:this.props.item.title,description:this.props.item.description,imageURL:this.props.item.imageURL}));const e=w(E,[]);-1===e.indexOf(this.localStorageKey)&&(e.push(this.localStorageKey),localStorage.setItem(E,JSON.stringify(e)));var t=e.map(e=>w(e));Qn(t),this.setState({installed:!0})}removeSnippet(){localStorage.removeItem(this.localStorageKey);const e=w(E,[]),t=e.filter(e=>e!==this.localStorageKey);localStorage.setItem(E,JSON.stringify(t));var n=t.map(e=>w(e));Qn(n),this.setState({installed:!1})}async fetchAndInjectUserCSS(e){try{var t=e?await ar(this.props.item):void 0;rr(t)}catch(e){console.warn(e)}}openReadme(){var e;null!=(e=this.props.item)&&e.manifest&&null!=(e=null==(e=this.props.item)?void 0:e.manifest)&&e.readme?Spicetify.Platform.History.push({pathname:mr+"/readme",state:{data:{title:this.props.item.title,user:this.props.item.user,repo:this.props.item.repo,branch:this.props.item.branch,readmeURL:this.props.item.readmeURL,type:this.props.type,install:this.buttonClicked.bind(this),isInstalled:this.isInstalled.bind(this)}}}):Spicetify.showNotification("No page was found",!0)}render(){var e,t=this.isInstalled();if("Installed"===this.props.CONFIG.activeTab&&!t)return console.log("Card item not installed"),null;const n=["main-card-card","marketplace-card--"+this.props.type],r=(t&&n.push("marketplace-card--installed"),[]);return"snippet"!==this.props.type&&this.props.visual.stars&&r.push("★ "+this.state.stars),_.default.createElement("div",{className:n.join(" "),onClick:()=>{if("snippet"===this.props.type){var e=this.props.item.title.replace(/\n/g,"");if(null!=(e=w("marketplace:installed:snippet:"+e))&&e.custom)return Hr("EDIT_SNIPPET",void 0,void 0,this.props);Hr("VIEW_SNIPPET",void 0,void 0,this.props)}else this.openReadme()}},_.default.createElement("div",{className:"main-card-draggable",draggable:"true"},_.default.createElement("div",{className:"main-card-imageContainer"},_.default.createElement("div",{className:"main-cardImage-imageWrapper"},_.default.createElement("div",null,_.default.createElement("img",{alt:"","aria-hidden":"false",draggable:"false",loading:"lazy",src:this.props.item.imageURL,className:"main-image-image main-cardImage-image",onError:e=>{e.currentTarget.setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII"),null!=(e=e.currentTarget.closest(".main-cardImage-imageWrapper"))&&e.classList.add("main-cardImage-imageWrapper--error")}})))),_.default.createElement("div",{className:"main-card-cardMetadata"},_.default.createElement("a",{draggable:"false",title:"snippet"===this.props.type?this.props.item.title:null==(e=this.props.item.manifest)?void 0:e.name,className:"main-cardHeader-link",dir:"auto",href:"snippet"!==this.props.type?this.state.externalUrl:"https://github.com/spicetify/spicetify-marketplace/blob/main/packages/marketplace/src/resources/snippets.ts",target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation()},_.default.createElement("div",{className:"main-cardHeader-text main-type-balladBold"},this.props.item.title)),_.default.createElement("div",{className:"main-cardSubHeader-root main-type-mestoBold marketplace-cardSubHeader"},this.props.item.authors&&_.default.createElement(Sa,{authors:this.props.item.authors}),_.default.createElement("span",null,r.join(" ‒ "))),_.default.createElement("p",{className:"marketplace-card-desc"},"snippet"===this.props.type?this.props.item.description:null==(e=this.props.item.manifest)?void 0:e.description),this.props.item.lastUpdated&&_.default.createElement("p",{className:"marketplace-card-desc"},v("grid.lastUpdated",{val:new Date(this.props.item.lastUpdated),formatParams:{val:{year:"numeric",month:"long",day:"numeric"}}})),this.tags.length?_.default.createElement("div",{className:"marketplace-card__bottom-meta main-type-mestoBold"},_.default.createElement(Ea,{tags:this.tags,showTags:this.props.CONFIG.visual.tags})):null,t&&_.default.createElement("div",{className:"marketplace-card__bottom-meta main-type-mestoBold"},"✓ ",v("grid.installed")),_.default.createElement("div",{className:"main-card-PlayButtonContainer"},_.default.createElement(C,{classes:["marketplace-installButton"],type:"circle",label:"app"===this.props.type?v("github"):v(t?"remove":"install"),onClick:e=>{e.stopPropagation(),this.buttonClicked()}},"app"===this.props.type?_.default.createElement(ya,null):t?_.default.createElement(fa,null):_.default.createElement(ga,null))))))}},Oa=Rn()(ka),xa=t(y("react")),Ca=t(ge()),Na=t(y("react-dom"));var Ia=async function(t,n,e){for(;!Spicetify?.PopupModal||!Spicetify?.LocalStorage;)await new Promise(e=>setTimeout(e,100));var r,t=`spcr-whats-new_${t}-version`,a=Spicetify.LocalStorage.get(t)??"";try{(0,Ca.default)(n,a)&&(Spicetify.LocalStorage.set(t,n),r={...e,content:function(e){const t=document.createElement("div"),n=(t.setAttribute("id","whats-new-content-wrapper"),document.createElement("style"));return n.textContent=`
      #whats-new-content-wrapper ul, #whats-new-content-wrapper ol {
         list-style: inherit;
         margin-left: 1em;
      }
   `,Na.default.render(e,t),t.appendChild(n),t}(e.content)},Spicetify.PopupModal.display(r))}catch(e){Spicetify.LocalStorage.set(t,n)}},La=async()=>{var e=await fetch(gr).then(e=>e.json()).then(e=>{e=e.message?null:e.body;return e&&or(e,"spicetify","spicetify-marketplace")}).catch(e=>(console.error(e),null));e&&Ia("marketplace",lr,{title:"✨ Marketplace v0.8.1",content:xa.default.createElement("div",{dangerouslySetInnerHTML:{__html:e}}),isLarge:!0})},T=class extends S.default.Component{constructor(e){super(e),this.endOfList=!1,this.lastScroll=0,this.requestQueue=[],this.requestPage=0,this.cardList=[],Object.assign(this,e),this.updateAppConfig=e.updateAppConfig.bind(this),this.sortConfig={by:w(hr,"top")},this.state={version:lr,newUpdate:!1,searchValue:"",cards:[],tabs:e.CONFIG.tabs,rest:!0,endOfList:!1,schemes:e.CONFIG.theme.schemes,activeScheme:e.CONFIG.theme.activeScheme,activeThemeKey:e.CONFIG.theme.activeThemeKey}}getInstalledTheme(){var e=localStorage.getItem(k);return(e=e&&localStorage.getItem(e))?JSON.parse(e):null}newRequest(e,t){this.cardList=[];var n=[];this.requestQueue.unshift(n),this.loadAmount(n,e,t)}appendCard(e,t){e=S.default.createElement(Oa,{item:e,key:this.props.CONFIG.activeTab+":"+e.title,CONFIG:this.CONFIG,visual:this.props.CONFIG.visual,type:t,activeThemeKey:this.state.activeThemeKey,updateColourSchemes:this.updateColourSchemes.bind(this),updateActiveTheme:this.setActiveTheme.bind(this)});this.cardList.push(e),this.setState({cards:this.cardList})}updateSort(e){e&&(this.sortConfig.by=e,localStorage.setItem(hr,e)),this.requestPage=0,this.cardList=[],this.setState({cards:[],rest:!1,endOfList:!1}),this.endOfList=!1,this.newRequest(O)}updateTabs(){this.setState({tabs:[...this.props.CONFIG.tabs]})}updatePostsVisual(){this.cardList=this.cardList.map((e,t)=>S.default.createElement(Oa,W(s({},e.props),{key:t.toString(),CONFIG:this.CONFIG}))),this.setState({cards:[...this.cardList]})}switchTo(e){this.CONFIG.activeTab=e.value,localStorage.setItem(pr,e.value),this.cardList=[],this.requestPage=0,this.setState({cards:[],rest:!1,endOfList:!1}),this.endOfList=!1,this.newRequest(O)}async loadPage(t,e){switch(this.CONFIG.activeTab){case"Extensions":var n=await Gr("spicetify-extensions",this.requestPage,this.BLACKLIST,e);for(const i of n.items){const s=await qr(i.contents_url,i.default_branch,i.stargazers_count,this.CONFIG.visual.hideInstalled);if(1<this.requestQueue.length&&t!==this.requestQueue[0])return-1;s&&s.length&&s.forEach(e=>{Object.assign(e,{lastUpdated:i.pushed_at}),this.appendCard(e,"extension")})}var r=-1<this.requestPage&&this.requestPage?this.requestPage:1,a=O*(r-1)+n.page_count,o=n.total_count-a;if(console.log(`Parsed ${a}/${n.total_count} extensions`),0<o)return r+1;console.log("No more extension results");break;case"Installed":{const l={theme:w(ur,[]),extension:w(cr,[]),snippet:w(E,[])};for(const c in l)l[c].length&&l[c].forEach(async e=>{e=w(e);if(1<this.requestQueue.length&&t!==this.requestQueue[0])return-1;this.appendCard(e,c)});break}case"Themes":a=await Gr("spicetify-themes",this.requestPage,this.BLACKLIST,e);for(const u of a.items){const p=await zr(u.contents_url,u.default_branch,u.stargazers_count);if(1<this.requestQueue.length&&t!==this.requestQueue[0])return-1;p&&p.length&&p.forEach(e=>{Object.assign(e,{lastUpdated:u.pushed_at}),this.appendCard(e,"theme")})}n=-1<this.requestPage&&this.requestPage?this.requestPage:1,o=O*(n-1)+a.page_count,r=a.total_count-o;if(console.log(`Parsed ${o}/${a.total_count} themes`),0<r)return n+1;console.log("No more theme results");break;case"Apps":o=await Gr("spicetify-apps",this.requestPage,this.BLACKLIST,e);for(const d of o.items){const h=await Wr(d.contents_url,d.default_branch,d.stargazers_count);if(1<this.requestQueue.length&&t!==this.requestQueue[0])return-1;h&&h.length&&h.forEach(e=>{Object.assign(e,{lastUpdated:d.pushed_at}),this.appendCard(e,"app")})}a=-1<this.requestPage&&this.requestPage?this.requestPage:1,r=O*(a-1)+o.page_count,n=o.total_count-r;if(console.log(`Parsed ${r}/${o.total_count} apps`),0<n)return a+1;console.log("No more app results");break;case"Snippets":{const f=await Yr();if(1<this.requestQueue.length&&t!==this.requestQueue[0])return-1;f&&f.length&&f.forEach(e=>this.appendCard(e,"snippet"))}}return this.setState({rest:!0,endOfList:!0}),this.endOfList=!0,0}async loadAmount(t,e=O,n){for(this.setState({rest:!1}),e+=this.cardList.length,this.requestPage=await this.loadPage(t,n);this.requestPage&&-1!==this.requestPage&&this.cardList.length<e&&!this.state.endOfList;)this.requestPage=await this.loadPage(t,n);-1===this.requestPage?this.requestQueue=this.requestQueue.filter(e=>e!==t):(this.requestQueue.shift(),this.setState({rest:!0}))}loadMore(){this.state.rest&&!this.endOfList&&this.loadAmount(this.requestQueue[0],O)}updateColourSchemes(e,t){console.log("updateColourSchemes",e,t),this.CONFIG.theme.schemes=e,(this.CONFIG.theme.activeScheme=t)&&(Spicetify.Config.color_scheme=t),e&&t&&e[t]?nr(this.CONFIG.theme.schemes[t]):nr(null);var n=w(k);const r=w(n);r?(r.activeScheme=t,console.log(r),localStorage.setItem(n,JSON.stringify(r))):console.log("No installed theme data"),this.setState({schemes:e,activeScheme:t})}async componentDidMount(){fetch("https://api.github.com/repos/spicetify/spicetify-marketplace/releases").then(e=>e.json()).then(e=>{this.setState({version:e[0].name});try{this.setState({newUpdate:Yn.default.gt(this.state.version,lr)})}catch(e){console.error(e)}},e=>{console.error("Failed to check for updates",e)}),La(),this.gridUpdateTabs=this.updateTabs.bind(this),this.gridUpdatePostsVisual=this.updatePostsVisual.bind(this);const e=document.querySelector(".os-viewport");this.checkScroll=this.isScrolledBottom.bind(this),e&&(e.addEventListener("scroll",this.checkScroll),this.cardList.length)?0<this.lastScroll&&e.scrollTo(0,this.lastScroll):(this.BLACKLIST=await Jr(),this.newRequest(O))}componentWillUnmount(){this.gridUpdateTabs=this.gridUpdatePostsVisual=null;const e=document.querySelector(".os-viewport");e&&(this.lastScroll=e.scrollTop,e.removeEventListener("scroll",this.checkScroll))}isScrolledBottom(e){e=e.target;e.scrollTop+e.clientHeight>=e.scrollHeight&&this.loadMore()}setActiveTheme(e){this.CONFIG.theme.activeThemeKey=e,this.setState({activeThemeKey:e})}getActiveScheme(){return this.state.activeScheme}handleSearch(e){"Enter"===e.key?(this.setState({endOfList:!1}),this.newRequest(O,this.state.searchValue.trim().toLowerCase()),this.searchRequested=!0):"Backspace"!==e.key&&"Delete"!==e.key||!this.searchRequested||""!==this.state.searchValue.trim()||(this.setState({endOfList:!1}),this.newRequest(O,this.state.searchValue.trim().toLowerCase()),this.searchRequested=!1)}render(){const n=this.props["t"];return S.default.createElement("section",{className:"contentSpacing"},S.default.createElement("div",{className:"marketplace-header"},S.default.createElement("div",{className:"marketplace-header__left"},S.default.createElement("h1",null,this.props.title),this.state.newUpdate?S.default.createElement("button",{type:"button",title:n("grid.newUpdate"),className:"marketplace-header-icon-button",id:"marketplace-update",onClick:()=>window.location.href="https://github.com/spicetify/spicetify-marketplace"},S.default.createElement(ga,null)," ",this.state.version):null),S.default.createElement("div",{className:"marketplace-header__right"},this.CONFIG.visual.themeDevTools?S.default.createElement("button",{type:"button",title:n("devTools.title"),className:"marketplace-header-icon-button",onClick:()=>Hr("THEME_DEV_TOOLS")},S.default.createElement(aa,null)):null,this.state.activeScheme?S.default.createElement(sa,{onChange:e=>this.updateColourSchemes(this.state.schemes,e),sortBoxOptions:er(this.state.schemes),sortBySelectedFn:e=>e.key===this.getActiveScheme()}):null,S.default.createElement("div",{className:"searchbar--bar__wrapper"},S.default.createElement("input",{className:"searchbar-bar",type:"text",placeholder:`${n("grid.search")} ${n("tabs."+this.CONFIG.activeTab)}...`,value:this.state.searchValue,onChange:e=>{this.setState({searchValue:e.target.value})},onKeyDown:this.handleSearch.bind(this)})),S.default.createElement("button",{type:"button",title:n("settings.title"),className:"marketplace-header-icon-button",id:"marketplace-settings-button",onClick:()=>Hr("SETTINGS",this.CONFIG,this.updateAppConfig)},S.default.createElement(na,null)))),[{handle:"extension",name:"Extensions"},{handle:"theme",name:"Themes"},{handle:"snippet",name:"Snippets"},{handle:"app",name:"Apps"}].map(t=>{var e=this.cardList.filter(e=>e.props.type===t.handle).filter(e=>{const t=this.state["searchValue"],{title:n,user:r}=e.props.item;if(""===t.trim()||n.toLowerCase().includes(t.trim().toLowerCase())||null!=r&&r.toLowerCase().includes(t.trim().toLowerCase()))return e}).map(e=>S.default.cloneElement(e,{activeThemeKey:this.state.activeThemeKey,key:ir(e.props)}));return e.length?S.default.createElement(S.default.Fragment,null,S.default.createElement("h2",{className:"marketplace-card-type-heading"},n("tabs."+t.name)),S.default.createElement("div",{className:"marketplace-grid main-gridContainer-gridContainer main-gridContainer-fixedWidth","data-tab":this.CONFIG.activeTab,"data-card-type":n("tabs."+t.name)},e)):null}),"Snippets"===this.CONFIG.activeTab?S.default.createElement(C,{classes:["marketplace-add-snippet-btn"],onClick:()=>Hr("ADD_SNIPPET")},"+ ",n("grid.addCSS")):null,S.default.createElement("footer",{className:"marketplace-footer"},!this.state.endOfList&&(this.state.rest?S.default.createElement(Qr,{onClick:this.loadMore.bind(this)}):S.default.createElement(ea,null))),S.default.createElement(pa,{switchCallback:this.switchTo.bind(this),links:this.CONFIG.tabs,activeLink:this.CONFIG.activeTab}))}},Pa=Rn()(T),A=t(y("react")),Me=class extends A.default.Component{constructor(){super(...arguments),this.state={isInstalled:this.props.data.isInstalled(),html:`<p>${this.props.t("readmePage.loading")}</p>`},this.getReadmeHTML=async()=>fetch(this.props.data.readmeURL).then(e=>{if(e.ok)return e.text();throw Spicetify.showNotification(`${this.props.t("readmePage.errorLoading")} (HTTP ${e.status})`,!0)}).then(e=>or(e,this.props.data.user,this.props.data.repo)).then(e=>(e||Spicetify.Platform.History.goBack(),e)).catch(e=>(console.error(e),Spicetify.Platform.History.goBack(),null))}componentDidMount(){this.getReadmeHTML().then(e=>{null!=e&&this.setState({html:e})})}componentDidUpdate(){var e;const t=null==(e=document.querySelector("#marketplace-readme"))?void 0:e.closest("main");if(t){const n=setInterval(()=>{t.style.overflowY="visible",t.style.overflowY="auto",document.querySelector(".os-scrollbar-vertical.os-scrollbar-unusable")&&t||clearInterval(n)},1e3)}document.querySelectorAll("#marketplace-readme img").forEach(e=>{e.addEventListener("error",e=>{const t=e.target;e=t.getAttribute("src"),e=`https://raw.githubusercontent.com/${this.props.data.user}/${this.props.data.repo}/${this.props.data.branch}/`+e;t.setAttribute("src",e)},{once:!0})})}buttonContent(){return"app"===this.props.data.type?{icon:A.default.createElement(ya,null),text:this.props.t("github")}:this.state.isInstalled?{icon:A.default.createElement(fa,null),text:this.props.t("remove")}:{icon:A.default.createElement(ga,null),text:this.props.t("install")}}render(){return A.default.createElement("section",{className:"contentSpacing"},A.default.createElement("div",{className:"marketplace-header"},A.default.createElement("div",{className:"marketplace-header__left"},A.default.createElement("h1",null,this.props.title)),A.default.createElement("div",{className:"marketplace-header__right"},A.default.createElement(C,{classes:["marketplace-header__button"],onClick:e=>{e.preventDefault(),this.props.data.install(),this.setState({isInstalled:!this.state.isInstalled})},label:this.buttonContent().text},this.buttonContent().icon," ",this.buttonContent().text))),"<p>Loading...</p>"===this.state.html?A.default.createElement("footer",{className:"marketplace-footer"},A.default.createElement(ea,null)):A.default.createElement("div",{id:"marketplace-readme",className:"marketplace-readme__container",dangerouslySetInnerHTML:{__html:this.state.html}}))}},Ra=Rn()(Me),Be=(g.use(ln).use(jn).init({resources:{en:{translation:{settings:{title:"Settings",optionsHeading:"Options",starCountLabel:"Stars count",tagsLabel:"Tags",devToolsLabel:"Theme developer tools",hideInstalledLabel:"Hide installed when browsing",colourShiftLabel:"Shift colours every minute",tabsHeading:"Tabs",resetHeading:"Reset",resetBtn:"$t(settings.resetHeading)",resetDescription:"Uninstall all extensions and themes, and reset preferences"},tabs:{Extensions:"Extensions",Themes:"Themes",Snippets:"Snippets",Apps:"Apps",Installed:"Installed"},snippets:{addTitle:"Add Snippet",editTitle:"Edit Snippet",viewTitle:"View Snippet",customCSS:"Custom CSS",customCSSPlaceholder:"Input your own custom CSS here! You can find them in the installed tab for management.",snippetName:"Snippet Name",snippetNamePlaceholder:"Enter a name for your custom snippet",snippetDesc:"Snippet Description",snippetDescPlaceholder:"Enter a description for your custom snippet",snippetPreview:"Snippet Preview",optional:"Optional",addImage:"Add image",changeImage:"Change image",saveCSS:"Save CSS"},reloadModal:{title:"Reload",description:"A page reload is required to complete this operation.",reloadNow:"Reload now",reloadLater:"Reload later"},devTools:{title:"Theme Dev Tools",noThemeInstalled:"Error: No marketplace theme installed",noThemeManifest:"Error: No theme manifest found",colorIniEditor:"Color.ini Editor",colorIniEditorPlaceholder:"[your-colour-scheme-name]",invalidCSS:"Invalid CSS"},grid:{spicetifyMarketplace:"Spicetify Marketplace",newUpdate:"New update",addCSS:"Add CSS",search:"Search",installed:"Installed",lastUpdated:"Last updated {{val, datetime}}",externalJS:"external JS",dark:"dark",light:"light"},readmePage:{title:"$t(grid.spicetifyMarketplace) - Readme",loading:"Loading...",errorLoading:"Error loading README"},github:"GitHub",install:"Install",remove:"Remove",save:"Save",colour_one:"colour",colour_other:"colours",favourite:"favourite"}},"en-US":{translation:{settings:{colourShiftLabel:"Shift colors every minute"},devTools:{colorIniEditorPlaceholder:"[your-color-scheme-name]"},colour_one:"color",colour_other:"colors",favourite:"favorite"}},fr:{translation:{settings:{title:"Réglages",optionsHeading:"Options",starCountLabel:"Nombres d’étoiles",tagsLabel:"Tags",devToolsLabel:"Outils pour les développeurs de thèmes",hideInstalledLabel:"Masquer ceux étant installés lors de la navigation",colourShiftLabel:"Changer de couleure chaque minutes",tabsHeading:"Onglets",resetHeading:"Réinitialiser",resetBtn:"$t(settings.resetHeading)",resetDescription:"Désinstaller toutes les extensions et tous les thèmes, ainsi que l’ensemble des réglages"},tabs:{Extensions:"Extensions",Themes:"Thèmes",Snippets:"Bribes",Apps:"Applications",Installed:"Installé(s)"},snippets:{addTitle:"Ajouter Bribe",editTitle:"Éditer Bribe",viewTitle:"Voir Bribe",customCSS:"CSS personnalisé",customCSSPlaceholder:"Insérez votre propre CSS personnalisé ici! Vous pouvez les retrouver dans l’onglet Installé pour les gérrer.",snippetName:"Nom de la bribe",snippetNamePlaceholder:"Entrer un nom pour votre bribe personnalisée",snippetDesc:"Description de la bribe",snippetDescPlaceholder:"Entrez une description pour votre bribe personnalisée",snippetPreview:"Prévisualiser la bribe",optional:"Optionnel",addImage:"Ajouter une image",changeImage:"Changer l’image",saveCSS:"Enregistrer le CSS"},reloadModal:{title:"Recharger",description:"Un rechargement de la page est requis pour finaliser cette opération.",reloadNow:"Recharger maintenant",reloadLater:"Recharger plus tard"},devTools:{title:"Outils de développeurs de thèmes",noThemeInstalled:"Erreur: Aucun thème du marché n’est installé",noThemeManifest:"Erreur: Aucun manifeste de thème trouvé",colorIniEditor:"Éditeur Color.ini",colorIniEditorPlaceholder:"[nom-de-votre-schéma-de-couleur]",invalidCSS:"CSS invalide"},grid:{spicetifyMarketplace:"Marché Spicetify",newUpdate:"Nouvelle mise à jour",addCSS:"Ajouter CSS",search:"Rechercher",installed:"Installé",lastUpdated:"Dernière mise à jour {{val, datetime}}",externalJS:"JS externe",dark:"sombre",light:"clair"},readmePage:{title:"$t(grid.spicetifyMarketplace) - Readme",loading:"Chargement…",errorLoading:"Erreur lors du chargement du README"},github:"GitHub",install:"Installer",remove:"Supprimer",save:"Enregistrer",colour_one:"couleure",colour_other:"couleures",favourite:"favoris"}},"zh-TW":{translation:{settings:{title:"設定",optionsHeading:"選項",starCountLabel:"收藏數",tagsLabel:"標籤",devToolsLabel:"主題開發者工具",hideInstalledLabel:"瀏覽時隱藏已安裝項目",colourShiftLabel:"每分鐘進行色調偏移",tabsHeading:"分頁",resetHeading:"重設",resetBtn:"$t(settings.resetHeading)",resetDescription:"解除安裝所有擴充套件和主題， 並重設偏好設定"},tabs:{Extensions:"擴充套件",Themes:"主題",Snippets:"微調片段",Apps:"功能模組",Installed:"已安裝項目"},snippets:{addTitle:"加入微調片段",editTitle:"編輯微調片段",viewTitle:"檢視微調片段",customCSS:"自訂 CSS",customCSSPlaceholder:"這裡可以輸入您的自訂 CSS！您可以在「已安裝項目」分頁中看到這些片段，進而進行管理。",snippetName:"微調片段名稱",snippetNamePlaceholder:"輸入自訂微調片段的名稱",snippetDesc:"微調片段描述",snippetDescPlaceholder:"輸入自訂微調片段的描述",snippetPreview:"微調片段預覽圖",optional:"非必須",addImage:"加入影像",changeImage:"更改影像",saveCSS:"儲存 CSS"},reloadModal:{title:"重新載入",description:"需要重新載入頁面，才能完成這個操作。",reloadNow:"立即重新載入",reloadLater:"稍後重新載入"},devTools:{title:"主題開發者工具",noThemeInstalled:"錯誤：未安裝商場主題",noThemeManifest:"錯誤：找不到主題資訊清單",colorIniEditor:"Color.ini 編輯器",colorIniEditorPlaceholder:"[您的色彩配置名稱]",invalidCSS:"CSS 無效"},grid:{spicetifyMarketplace:"Spicetify 商場",newUpdate:"有更新",addCSS:"加入 CSS",search:"搜尋",installed:"已經安裝",lastUpdated:"上次更新於 {{val, datetime}}",externalJS:"有外部 JS",dark:"暗色",light:"亮色"},readmePage:{title:"$t(grid.spicetifyMarketplace) – 說明",loading:"正在載入……",errorLoading:"載入 README 時發生錯誤"},github:"GitHub",install:"安裝",remove:"移除",save:"儲存",colour_one:"色彩",colour_other:"色彩",favourite:"收藏"}},"zh-CN":{translation:{settings:{title:"设置",optionsHeading:"选项",starCountLabel:"收藏数",tagsLabel:"标签",devToolsLabel:"主題开发者工具",hideInstalledLabel:"浏览时隐藏已安装项目",colourShiftLabel:"每分钟进行色调偏移",tabsHeading:"分页",resetHeading:"重置",resetBtn:"$t(settings.resetHeading)",resetDescription:"卸载所有扩展插件和主题，并重置设置"},tabs:{Extensions:"扩展插件",Themes:"主题",Snippets:"微调片段",Apps:"功能模组",Installed:"已安裝项目"},snippets:{addTitle:"加入微调片段",editTitle:"编辑微调片段",viewTitle:"检视微调片段",customCSS:"自定义 CSS",customCSSPlaceholder:"这里可以输入您的自定义 CSS！您可以在「已安裝项目」标签页中看到这些片段，进而进行管理。",snippetName:"微调片段名称",snippetNamePlaceholder:"输入自定义微调片段的名称",snippetDesc:"微调片段描述",snippetDescPlaceholder:"输入自定义微调片段的描述",snippetPreview:"微调片段预览图",optional:"非必要",addImage:"加入影像",changeImage:"更改影像",saveCSS:"保存 CSS"},reloadModal:{title:"重新加载",description:"需要重新加载页面，才能完成这个操作。",reloadNow:"立即重新加载",reloadLater:"稍后重新加载"},devTools:{title:"主題开发者工具",noThemeInstalled:"错误：未安装商场主题",noThemeManifest:"错误：找不到主题内容清单",colorIniEditor:"Color.ini 编辑器",colorIniEditorPlaceholder:"[您的色彩配置名称]",invalidCSS:"CSS 无效"},grid:{spicetifyMarketplace:"Spicetify 商场",newUpdate:"有更新",addCSS:"加入 CSS",search:"搜索",installed:"已安装",lastUpdated:"上次更新于 {{val, datetime}}",externalJS:"有外部 JS",dark:"暗色模式",light:"亮色模式"},readmePage:{title:"$t(grid.spicetifyMarketplace) – 说明",loading:"正在加载……",errorLoading:"加载 README 时发生错误"},github:"GitHub",install:"安裝",remove:"移除",save:"保存",colour_one:"色彩",colour_other:"色彩",favourite:"收藏"}}},detection:{order:["navigator","htmlTag"]},fallbackLng:"en",interpolation:{escapeValue:!1}}),class extends Ve.default.Component{constructor(e){super(e),this.state={count:0,CONFIG:{}},this.updateConfig=e=>{this.CONFIG=s({},e),console.log("updated config",this.CONFIG),this.setState({CONFIG:s({},e)})};e=w(dr,null);let t=[];try{if(t=JSON.parse(e),!Array.isArray(t))throw new Error("Could not parse marketplace tabs key");if(0===t.length)throw new Error("Empty marketplace tabs key");if(0<t.filter(e=>!e).length)throw new Error("Falsey marketplace tabs key")}catch(e){t=fr,localStorage.setItem(dr,JSON.stringify(t))}let n={},r=null;try{var a=w(k,null);if(a){var o=w(a,null);if(!o)throw new Error("No installed theme data");n=o.schemes,r=o.activeScheme}else console.log("No theme set as installed")}catch(e){console.error(e)}this.CONFIG={visual:{stars:JSON.parse(w("marketplace:stars",!0)),tags:JSON.parse(w("marketplace:tags",!0)),hideInstalled:JSON.parse(w("marketplace:hideInstalled",!1)),colorShift:JSON.parse(w("marketplace:colorShift",!1)),themeDevTools:JSON.parse(w("marketplace:themeDevTools",!1)),type:JSON.parse(w("marketplace:type",!1)),followers:JSON.parse(w("marketplace:followers",!1))},tabs:t,activeTab:w(pr,t[0]),theme:{activeThemeKey:w(k,null),schemes:n,activeScheme:r}},this.CONFIG.activeTab&&this.CONFIG.tabs.filter(e=>e.name===this.CONFIG.activeTab).length||(this.CONFIG.activeTab=this.CONFIG.tabs[0].name)}render(){var e=Spicetify.Platform.History["location"];return e.pathname===mr+"/readme"&&e.state.data?Ve.default.createElement(Ra,{title:v("readmePage.title"),data:e.state.data}):Ve.default.createElement(Pa,{title:v("grid.spicetifyMarketplace"),CONFIG:this.CONFIG,updateAppConfig:this.updateConfig})}}),ja=Rn()(Be),_a=t(y("react"));return e=He,J(F({},"__esModule",{value:!0}),e)})();const render=()=>marketplace.default();